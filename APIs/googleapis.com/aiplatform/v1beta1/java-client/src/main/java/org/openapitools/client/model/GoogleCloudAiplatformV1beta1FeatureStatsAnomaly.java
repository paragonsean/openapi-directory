/*
 * Vertex AI API
 * Train high-quality custom machine learning models with minimal machine learning expertise and effort.
 *
 * The version of the OpenAPI document: v1beta1
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package org.openapitools.client.model;

import java.util.Objects;
import com.google.gson.TypeAdapter;
import com.google.gson.annotations.JsonAdapter;
import com.google.gson.annotations.SerializedName;
import com.google.gson.stream.JsonReader;
import com.google.gson.stream.JsonWriter;
import java.io.IOException;
import java.util.Arrays;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonArray;
import com.google.gson.JsonDeserializationContext;
import com.google.gson.JsonDeserializer;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import com.google.gson.JsonParseException;
import com.google.gson.TypeAdapterFactory;
import com.google.gson.reflect.TypeToken;
import com.google.gson.TypeAdapter;
import com.google.gson.stream.JsonReader;
import com.google.gson.stream.JsonWriter;
import java.io.IOException;

import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;

import org.openapitools.client.JSON;

/**
 * Stats and Anomaly generated at specific timestamp for specific Feature. The start_time and end_time are used to define the time range of the dataset that current stats belongs to, e.g. prediction traffic is bucketed into prediction datasets by time window. If the Dataset is not defined by time window, start_time &#x3D; end_time. Timestamp of the stats and anomalies always refers to end_time. Raw stats and anomalies are stored in stats_uri or anomaly_uri in the tensorflow defined protos. Field data_stats contains almost identical information with the raw stats in Vertex AI defined proto, for UI to display.
 */
@javax.annotation.Generated(value = "org.openapitools.codegen.languages.JavaClientCodegen", date = "2024-10-12T11:33:30.041358-04:00[America/New_York]", comments = "Generator version: 7.9.0")
public class GoogleCloudAiplatformV1beta1FeatureStatsAnomaly {
  public static final String SERIALIZED_NAME_ANOMALY_DETECTION_THRESHOLD = "anomalyDetectionThreshold";
  @SerializedName(SERIALIZED_NAME_ANOMALY_DETECTION_THRESHOLD)
  private Double anomalyDetectionThreshold;

  public static final String SERIALIZED_NAME_ANOMALY_URI = "anomalyUri";
  @SerializedName(SERIALIZED_NAME_ANOMALY_URI)
  private String anomalyUri;

  public static final String SERIALIZED_NAME_DISTRIBUTION_DEVIATION = "distributionDeviation";
  @SerializedName(SERIALIZED_NAME_DISTRIBUTION_DEVIATION)
  private Double distributionDeviation;

  public static final String SERIALIZED_NAME_END_TIME = "endTime";
  @SerializedName(SERIALIZED_NAME_END_TIME)
  private String endTime;

  public static final String SERIALIZED_NAME_SCORE = "score";
  @SerializedName(SERIALIZED_NAME_SCORE)
  private Double score;

  public static final String SERIALIZED_NAME_START_TIME = "startTime";
  @SerializedName(SERIALIZED_NAME_START_TIME)
  private String startTime;

  public static final String SERIALIZED_NAME_STATS_URI = "statsUri";
  @SerializedName(SERIALIZED_NAME_STATS_URI)
  private String statsUri;

  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly() {
  }

  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly anomalyDetectionThreshold(Double anomalyDetectionThreshold) {
    this.anomalyDetectionThreshold = anomalyDetectionThreshold;
    return this;
  }

  /**
   * This is the threshold used when detecting anomalies. The threshold can be changed by user, so this one might be different from ThresholdConfig.value.
   * @return anomalyDetectionThreshold
   */
  @javax.annotation.Nullable
  public Double getAnomalyDetectionThreshold() {
    return anomalyDetectionThreshold;
  }

  public void setAnomalyDetectionThreshold(Double anomalyDetectionThreshold) {
    this.anomalyDetectionThreshold = anomalyDetectionThreshold;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly anomalyUri(String anomalyUri) {
    this.anomalyUri = anomalyUri;
    return this;
  }

  /**
   * Path of the anomaly file for current feature values in Cloud Storage bucket. Format: gs:////anomalies. Example: gs://monitoring_bucket/feature_name/anomalies. Stats are stored as binary format with Protobuf message Anoamlies are stored as binary format with Protobuf message [tensorflow.metadata.v0.AnomalyInfo] (https://github.com/tensorflow/metadata/blob/master/tensorflow_metadata/proto/v0/anomalies.proto).
   * @return anomalyUri
   */
  @javax.annotation.Nullable
  public String getAnomalyUri() {
    return anomalyUri;
  }

  public void setAnomalyUri(String anomalyUri) {
    this.anomalyUri = anomalyUri;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly distributionDeviation(Double distributionDeviation) {
    this.distributionDeviation = distributionDeviation;
    return this;
  }

  /**
   * Deviation from the current stats to baseline stats. 1. For categorical feature, the distribution distance is calculated by L-inifinity norm. 2. For numerical feature, the distribution distance is calculated by Jensenâ€“Shannon divergence.
   * @return distributionDeviation
   */
  @javax.annotation.Nullable
  public Double getDistributionDeviation() {
    return distributionDeviation;
  }

  public void setDistributionDeviation(Double distributionDeviation) {
    this.distributionDeviation = distributionDeviation;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly endTime(String endTime) {
    this.endTime = endTime;
    return this;
  }

  /**
   * The end timestamp of window where stats were generated. For objectives where time window doesn&#39;t make sense (e.g. Featurestore Snapshot Monitoring), end_time indicates the timestamp of the data used to generate stats (e.g. timestamp we take snapshots for feature values).
   * @return endTime
   */
  @javax.annotation.Nullable
  public String getEndTime() {
    return endTime;
  }

  public void setEndTime(String endTime) {
    this.endTime = endTime;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly score(Double score) {
    this.score = score;
    return this;
  }

  /**
   * Feature importance score, only populated when cross-feature monitoring is enabled. For now only used to represent feature attribution score within range [0, 1] for ModelDeploymentMonitoringObjectiveType.FEATURE_ATTRIBUTION_SKEW and ModelDeploymentMonitoringObjectiveType.FEATURE_ATTRIBUTION_DRIFT.
   * @return score
   */
  @javax.annotation.Nullable
  public Double getScore() {
    return score;
  }

  public void setScore(Double score) {
    this.score = score;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly startTime(String startTime) {
    this.startTime = startTime;
    return this;
  }

  /**
   * The start timestamp of window where stats were generated. For objectives where time window doesn&#39;t make sense (e.g. Featurestore Snapshot Monitoring), start_time is only used to indicate the monitoring intervals, so it always equals to (end_time - monitoring_interval).
   * @return startTime
   */
  @javax.annotation.Nullable
  public String getStartTime() {
    return startTime;
  }

  public void setStartTime(String startTime) {
    this.startTime = startTime;
  }


  public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly statsUri(String statsUri) {
    this.statsUri = statsUri;
    return this;
  }

  /**
   * Path of the stats file for current feature values in Cloud Storage bucket. Format: gs:////stats. Example: gs://monitoring_bucket/feature_name/stats. Stats are stored as binary format with Protobuf message [tensorflow.metadata.v0.FeatureNameStatistics](https://github.com/tensorflow/metadata/blob/master/tensorflow_metadata/proto/v0/statistics.proto).
   * @return statsUri
   */
  @javax.annotation.Nullable
  public String getStatsUri() {
    return statsUri;
  }

  public void setStatsUri(String statsUri) {
    this.statsUri = statsUri;
  }



  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
    GoogleCloudAiplatformV1beta1FeatureStatsAnomaly googleCloudAiplatformV1beta1FeatureStatsAnomaly = (GoogleCloudAiplatformV1beta1FeatureStatsAnomaly) o;
    return Objects.equals(this.anomalyDetectionThreshold, googleCloudAiplatformV1beta1FeatureStatsAnomaly.anomalyDetectionThreshold) &&
        Objects.equals(this.anomalyUri, googleCloudAiplatformV1beta1FeatureStatsAnomaly.anomalyUri) &&
        Objects.equals(this.distributionDeviation, googleCloudAiplatformV1beta1FeatureStatsAnomaly.distributionDeviation) &&
        Objects.equals(this.endTime, googleCloudAiplatformV1beta1FeatureStatsAnomaly.endTime) &&
        Objects.equals(this.score, googleCloudAiplatformV1beta1FeatureStatsAnomaly.score) &&
        Objects.equals(this.startTime, googleCloudAiplatformV1beta1FeatureStatsAnomaly.startTime) &&
        Objects.equals(this.statsUri, googleCloudAiplatformV1beta1FeatureStatsAnomaly.statsUri);
  }

  @Override
  public int hashCode() {
    return Objects.hash(anomalyDetectionThreshold, anomalyUri, distributionDeviation, endTime, score, startTime, statsUri);
  }

  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("class GoogleCloudAiplatformV1beta1FeatureStatsAnomaly {\n");
    sb.append("    anomalyDetectionThreshold: ").append(toIndentedString(anomalyDetectionThreshold)).append("\n");
    sb.append("    anomalyUri: ").append(toIndentedString(anomalyUri)).append("\n");
    sb.append("    distributionDeviation: ").append(toIndentedString(distributionDeviation)).append("\n");
    sb.append("    endTime: ").append(toIndentedString(endTime)).append("\n");
    sb.append("    score: ").append(toIndentedString(score)).append("\n");
    sb.append("    startTime: ").append(toIndentedString(startTime)).append("\n");
    sb.append("    statsUri: ").append(toIndentedString(statsUri)).append("\n");
    sb.append("}");
    return sb.toString();
  }

  /**
   * Convert the given object to string with each line indented by 4 spaces
   * (except the first line).
   */
  private String toIndentedString(Object o) {
    if (o == null) {
      return "null";
    }
    return o.toString().replace("\n", "\n    ");
  }


  public static HashSet<String> openapiFields;
  public static HashSet<String> openapiRequiredFields;

  static {
    // a set of all properties/fields (JSON key names)
    openapiFields = new HashSet<String>();
    openapiFields.add("anomalyDetectionThreshold");
    openapiFields.add("anomalyUri");
    openapiFields.add("distributionDeviation");
    openapiFields.add("endTime");
    openapiFields.add("score");
    openapiFields.add("startTime");
    openapiFields.add("statsUri");

    // a set of required properties/fields (JSON key names)
    openapiRequiredFields = new HashSet<String>();
  }

  /**
   * Validates the JSON Element and throws an exception if issues found
   *
   * @param jsonElement JSON Element
   * @throws IOException if the JSON Element is invalid with respect to GoogleCloudAiplatformV1beta1FeatureStatsAnomaly
   */
  public static void validateJsonElement(JsonElement jsonElement) throws IOException {
      if (jsonElement == null) {
        if (!GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.openapiRequiredFields.isEmpty()) { // has required fields but JSON element is null
          throw new IllegalArgumentException(String.format("The required field(s) %s in GoogleCloudAiplatformV1beta1FeatureStatsAnomaly is not found in the empty JSON string", GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.openapiRequiredFields.toString()));
        }
      }

      Set<Map.Entry<String, JsonElement>> entries = jsonElement.getAsJsonObject().entrySet();
      // check to see if the JSON string contains additional fields
      for (Map.Entry<String, JsonElement> entry : entries) {
        if (!GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.openapiFields.contains(entry.getKey())) {
          throw new IllegalArgumentException(String.format("The field `%s` in the JSON string is not defined in the `GoogleCloudAiplatformV1beta1FeatureStatsAnomaly` properties. JSON: %s", entry.getKey(), jsonElement.toString()));
        }
      }
        JsonObject jsonObj = jsonElement.getAsJsonObject();
      if ((jsonObj.get("anomalyUri") != null && !jsonObj.get("anomalyUri").isJsonNull()) && !jsonObj.get("anomalyUri").isJsonPrimitive()) {
        throw new IllegalArgumentException(String.format("Expected the field `anomalyUri` to be a primitive type in the JSON string but got `%s`", jsonObj.get("anomalyUri").toString()));
      }
      if ((jsonObj.get("endTime") != null && !jsonObj.get("endTime").isJsonNull()) && !jsonObj.get("endTime").isJsonPrimitive()) {
        throw new IllegalArgumentException(String.format("Expected the field `endTime` to be a primitive type in the JSON string but got `%s`", jsonObj.get("endTime").toString()));
      }
      if ((jsonObj.get("startTime") != null && !jsonObj.get("startTime").isJsonNull()) && !jsonObj.get("startTime").isJsonPrimitive()) {
        throw new IllegalArgumentException(String.format("Expected the field `startTime` to be a primitive type in the JSON string but got `%s`", jsonObj.get("startTime").toString()));
      }
      if ((jsonObj.get("statsUri") != null && !jsonObj.get("statsUri").isJsonNull()) && !jsonObj.get("statsUri").isJsonPrimitive()) {
        throw new IllegalArgumentException(String.format("Expected the field `statsUri` to be a primitive type in the JSON string but got `%s`", jsonObj.get("statsUri").toString()));
      }
  }

  public static class CustomTypeAdapterFactory implements TypeAdapterFactory {
    @SuppressWarnings("unchecked")
    @Override
    public <T> TypeAdapter<T> create(Gson gson, TypeToken<T> type) {
       if (!GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.class.isAssignableFrom(type.getRawType())) {
         return null; // this class only serializes 'GoogleCloudAiplatformV1beta1FeatureStatsAnomaly' and its subtypes
       }
       final TypeAdapter<JsonElement> elementAdapter = gson.getAdapter(JsonElement.class);
       final TypeAdapter<GoogleCloudAiplatformV1beta1FeatureStatsAnomaly> thisAdapter
                        = gson.getDelegateAdapter(this, TypeToken.get(GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.class));

       return (TypeAdapter<T>) new TypeAdapter<GoogleCloudAiplatformV1beta1FeatureStatsAnomaly>() {
           @Override
           public void write(JsonWriter out, GoogleCloudAiplatformV1beta1FeatureStatsAnomaly value) throws IOException {
             JsonObject obj = thisAdapter.toJsonTree(value).getAsJsonObject();
             elementAdapter.write(out, obj);
           }

           @Override
           public GoogleCloudAiplatformV1beta1FeatureStatsAnomaly read(JsonReader in) throws IOException {
             JsonElement jsonElement = elementAdapter.read(in);
             validateJsonElement(jsonElement);
             return thisAdapter.fromJsonTree(jsonElement);
           }

       }.nullSafe();
    }
  }

  /**
   * Create an instance of GoogleCloudAiplatformV1beta1FeatureStatsAnomaly given an JSON string
   *
   * @param jsonString JSON string
   * @return An instance of GoogleCloudAiplatformV1beta1FeatureStatsAnomaly
   * @throws IOException if the JSON string is invalid with respect to GoogleCloudAiplatformV1beta1FeatureStatsAnomaly
   */
  public static GoogleCloudAiplatformV1beta1FeatureStatsAnomaly fromJson(String jsonString) throws IOException {
    return JSON.getGson().fromJson(jsonString, GoogleCloudAiplatformV1beta1FeatureStatsAnomaly.class);
  }

  /**
   * Convert an instance of GoogleCloudAiplatformV1beta1FeatureStatsAnomaly to an JSON string
   *
   * @return JSON string
   */
  public String toJson() {
    return JSON.getGson().toJson(this);
  }
}

