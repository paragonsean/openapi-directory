# coding: utf-8

import pytest
import json
from aiohttp import web

from openapi_server.models.verify_account_request import VerifyAccountRequest
from openapi_server.models.verify_account_response import VerifyAccountResponse
from openapi_server.models.yodlee_error import YodleeError


pytestmark = pytest.mark.asyncio

async def test_initiate_account_verification(client):
    """Test case for initiate_account_verification

    Verify Accounts Using Transactions
    """
    body = {"container":"bank","accountId":0,"transactionCriteria":[{"date":"date","amount":1.4658129805029452,"verifiedTransaction":[{"date":"date","sourceId":"sourceId","symbol":"symbol","cusipNumber":"cusipNumber","highLevelCategoryId":5,"detailCategoryId":1,"description":{"security":"security","original":"original","simple":"simple","consumer":"consumer"},"memo":"memo","settleDate":"settleDate","type":"type","baseType":"CREDIT","categorySource":"SYSTEM","principal":{"amount":0.8008281904610115,"currency":"AUD"},"lastUpdated":"lastUpdated","interest":{"amount":0.8008281904610115,"currency":"AUD"},"price":{"amount":0.8008281904610115,"currency":"AUD"},"commission":{"amount":0.8008281904610115,"currency":"AUD"},"id":5,"amount":{"amount":0.8008281904610115,"currency":"AUD"},"checkNumber":"checkNumber","quantity":7.061401241503109,"valoren":"valoren","isManual":True,"merchant":{"website":"website","address":{"zip":"zip","country":"country","address3":"address3","address2":"address2","city":"city","sourceType":"sourceType","address1":"address1","street":"street","state":"state","type":"HOME"},"contact":{"phone":"phone","email":"email"},"categoryLabel":["categoryLabel","categoryLabel"],"coordinates":{"latitude":6.965117697638846,"longitude":1.284659006116532},"name":"name","id":"id","source":"YODLEE"},"sedol":"sedol","transactionDate":"transactionDate","categoryType":"TRANSFER","accountId":0,"createdDate":"createdDate","sourceType":"AGGREGATED","CONTAINER":"bank","postDate":"postDate","parentCategoryId":2,"subType":"AUTH_HOLD","category":"category","runningBalance":{"amount":0.8008281904610115,"currency":"AUD"},"categoryId":6,"holdingDescription":"holdingDescription","isin":"isin","status":"POSTED"},{"date":"date","sourceId":"sourceId","symbol":"symbol","cusipNumber":"cusipNumber","highLevelCategoryId":5,"detailCategoryId":1,"description":{"security":"security","original":"original","simple":"simple","consumer":"consumer"},"memo":"memo","settleDate":"settleDate","type":"type","baseType":"CREDIT","categorySource":"SYSTEM","principal":{"amount":0.8008281904610115,"currency":"AUD"},"lastUpdated":"lastUpdated","interest":{"amount":0.8008281904610115,"currency":"AUD"},"price":{"amount":0.8008281904610115,"currency":"AUD"},"commission":{"amount":0.8008281904610115,"currency":"AUD"},"id":5,"amount":{"amount":0.8008281904610115,"currency":"AUD"},"checkNumber":"checkNumber","quantity":7.061401241503109,"valoren":"valoren","isManual":True,"merchant":{"website":"website","address":{"zip":"zip","country":"country","address3":"address3","address2":"address2","city":"city","sourceType":"sourceType","address1":"address1","street":"street","state":"state","type":"HOME"},"contact":{"phone":"phone","email":"email"},"categoryLabel":["categoryLabel","categoryLabel"],"coordinates":{"latitude":6.965117697638846,"longitude":1.284659006116532},"name":"name","id":"id","source":"YODLEE"},"sedol":"sedol","transactionDate":"transactionDate","categoryType":"TRANSFER","accountId":0,"createdDate":"createdDate","sourceType":"AGGREGATED","CONTAINER":"bank","postDate":"postDate","parentCategoryId":2,"subType":"AUTH_HOLD","category":"category","runningBalance":{"amount":0.8008281904610115,"currency":"AUD"},"categoryId":6,"holdingDescription":"holdingDescription","isin":"isin","status":"POSTED"}],"matched":"COMPLETE","keyword":"keyword","dateVariance":"dateVariance","baseType":"CREDIT"},{"date":"date","amount":1.4658129805029452,"verifiedTransaction":[{"date":"date","sourceId":"sourceId","symbol":"symbol","cusipNumber":"cusipNumber","highLevelCategoryId":5,"detailCategoryId":1,"description":{"security":"security","original":"original","simple":"simple","consumer":"consumer"},"memo":"memo","settleDate":"settleDate","type":"type","baseType":"CREDIT","categorySource":"SYSTEM","principal":{"amount":0.8008281904610115,"currency":"AUD"},"lastUpdated":"lastUpdated","interest":{"amount":0.8008281904610115,"currency":"AUD"},"price":{"amount":0.8008281904610115,"currency":"AUD"},"commission":{"amount":0.8008281904610115,"currency":"AUD"},"id":5,"amount":{"amount":0.8008281904610115,"currency":"AUD"},"checkNumber":"checkNumber","quantity":7.061401241503109,"valoren":"valoren","isManual":True,"merchant":{"website":"website","address":{"zip":"zip","country":"country","address3":"address3","address2":"address2","city":"city","sourceType":"sourceType","address1":"address1","street":"street","state":"state","type":"HOME"},"contact":{"phone":"phone","email":"email"},"categoryLabel":["categoryLabel","categoryLabel"],"coordinates":{"latitude":6.965117697638846,"longitude":1.284659006116532},"name":"name","id":"id","source":"YODLEE"},"sedol":"sedol","transactionDate":"transactionDate","categoryType":"TRANSFER","accountId":0,"createdDate":"createdDate","sourceType":"AGGREGATED","CONTAINER":"bank","postDate":"postDate","parentCategoryId":2,"subType":"AUTH_HOLD","category":"category","runningBalance":{"amount":0.8008281904610115,"currency":"AUD"},"categoryId":6,"holdingDescription":"holdingDescription","isin":"isin","status":"POSTED"},{"date":"date","sourceId":"sourceId","symbol":"symbol","cusipNumber":"cusipNumber","highLevelCategoryId":5,"detailCategoryId":1,"description":{"security":"security","original":"original","simple":"simple","consumer":"consumer"},"memo":"memo","settleDate":"settleDate","type":"type","baseType":"CREDIT","categorySource":"SYSTEM","principal":{"amount":0.8008281904610115,"currency":"AUD"},"lastUpdated":"lastUpdated","interest":{"amount":0.8008281904610115,"currency":"AUD"},"price":{"amount":0.8008281904610115,"currency":"AUD"},"commission":{"amount":0.8008281904610115,"currency":"AUD"},"id":5,"amount":{"amount":0.8008281904610115,"currency":"AUD"},"checkNumber":"checkNumber","quantity":7.061401241503109,"valoren":"valoren","isManual":True,"merchant":{"website":"website","address":{"zip":"zip","country":"country","address3":"address3","address2":"address2","city":"city","sourceType":"sourceType","address1":"address1","street":"street","state":"state","type":"HOME"},"contact":{"phone":"phone","email":"email"},"categoryLabel":["categoryLabel","categoryLabel"],"coordinates":{"latitude":6.965117697638846,"longitude":1.284659006116532},"name":"name","id":"id","source":"YODLEE"},"sedol":"sedol","transactionDate":"transactionDate","categoryType":"TRANSFER","accountId":0,"createdDate":"createdDate","sourceType":"AGGREGATED","CONTAINER":"bank","postDate":"postDate","parentCategoryId":2,"subType":"AUTH_HOLD","category":"category","runningBalance":{"amount":0.8008281904610115,"currency":"AUD"},"categoryId":6,"holdingDescription":"holdingDescription","isin":"isin","status":"POSTED"}],"matched":"COMPLETE","keyword":"keyword","dateVariance":"dateVariance","baseType":"CREDIT"}]}
    headers = { 
        'Accept': 'application/json;charset=UTF-8',
        'Content-Type': 'application/json',
    }
    response = await client.request(
        method='POST',
        path='/verifyAccount/{provider_account_id}'.format(provider_account_id='provider_account_id_example'),
        headers=headers,
        json=body,
        )
    assert response.status == 200, 'Response body is : ' + (await response.read()).decode('utf-8')

