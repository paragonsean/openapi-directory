openapi: 3.0.1
info:
  description: "⚠️<b>DEPRECATION WARNING</b>⚠️<br/>This version of the WeGA API specification\
    \ is outdated and superseded by [version 1.1.0](https://weber-gesamtausgabe.de/api/v1/openapi.json).\
    \  <br/> <br/> For feedback or requests about this API please contact stadler@weber-gesamtausgabe.de\
    \ or start the discussion at https://github.com/Edirom/WeGA-WebApp"
  title: WeGA API
  version: 1.0.0
  x-apisguru-categories:
  - open_data
  x-logo:
    backgroundColor: '#FFFFFF'
    url: https://web.archive.org/web/20180313153846im_/https://weber-gesamtausgabe.de/resources/img/logo_weber.png
  x-origin:
  - format: swagger
    url: https://weber-gesamtausgabe.de/api/v1/swagger.json
    version: "2.0"
  x-providerName: weber-gesamtausgabe.de
servers:
- url: http://localhost:8080/exist/apps/WeGA-WebApp/api/v1
tags:
- description: Access to the documents of the WeGA digital edition
  name: Documents
- description: Access to search functions of the WeGA digital edition
  name: Search
- description: Access to encoding features
  name: Code Samples
- description: Access to application settings
  name: Application
- description: Access to facets for filtering result sets
  name: Facets
paths:
  /application/newID:
    get:
      parameters:
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        required: true
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/_application_newID_get_200_response'
          description: A single object with a fresh WeGA ID
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/_application_newID_get_403_response'
          description: The creation of new IDs is only available in the development
            environment
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Create a new WeGA ID
      tags:
      - Application
      x-accepts:
      - application/json
  /application/status:
    get:
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/_application_status_get_200_response'
          description: Healthy – A single object with status information
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/_application_status_get_500_response'
          description: Unhealthy – A single object with status information
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Get status information about the running WeGA-WebApp
      tags:
      - Application
      x-accepts:
      - application/json
  /code/findByElement/{element}:
    get:
      parameters:
      - description: The XML element to search for
        in: path
        name: element
        required: true
        schema:
          type: string
      - description: The element namespace. Defaults to the TEI namespace
        in: query
        name: namespace
        schema:
          default: http://www.tei-c.org/ns/1.0
          type: string
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/CodeSample'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Finds code samples by XML element
      tags:
      - Code Samples
      x-accepts:
      - application/json
  /documents:
    get:
      description: |
        The Documents endpoint returns a list of all documents from the WeGA digital edition.
      parameters:
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Lists all documents
      tags:
      - Documents
      x-accepts:
      - application/json
  /documents/findByAuthor/{authorID}:
    get:
      description: "This endpoint returns a list of documents by a given author –\
        \ optionally filtered by document type \n"
      parameters:
      - description: |
          The author ID to search for. Accepted ID formats are WeGA, e.g. A002068 or http://weber-gesamtausgabe.de/A002068, VIAF, e.g. http://viaf.org/viaf/14959938, or  GND, e.g. http://d-nb.info/gnd/118629662
        in: path
        name: authorID
        required: true
        schema:
          default: A002068
          type: string
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Finds documents by author
      tags:
      - Documents
      x-accepts:
      - application/json
  /documents/findByDate:
    get:
      description: "This endpoint returns a list of documents related to the given\
        \ date – optionally filtered by document type. \n"
      parameters:
      - description: The min date to search for
        in: query
        name: fromDate
        required: true
        schema:
          default: 1786-11-18T00:00:00.000+00:00
          format: date
          type: string
      - description: The max date to search for
        in: query
        name: toDate
        schema:
          format: date
          type: string
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Finds documents by date
      tags:
      - Documents
      x-accepts:
      - application/json
  /documents/findByMention/{docID}:
    get:
      description: "This endpoint returns a list of documents that reference a particular\
        \ docID – optionally filtered by document type. \n"
      parameters:
      - description: |
          The document ID that is to be mentioned. Accepted ID formats are WeGA, e.g. A002068 or http://weber-gesamtausgabe.de/A002068, VIAF, e.g. http://viaf.org/viaf/14959938, or  GND, e.g. http://d-nb.info/gnd/118629662
        in: path
        name: docID
        required: true
        schema:
          default: A002068
          type: string
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Finds documents by reference
      tags:
      - Documents
      x-accepts:
      - application/json
  /documents/{docID}:
    get:
      description: |
        This endpoint returns documents, indicated by an ID.
         Accepted ID formats are WeGA, e.g. A002068 or http://weber-gesamtausgabe.de/A002068, VIAF, e.g. http://viaf.org/viaf/14959938, or  GND, e.g. http://d-nb.info/gnd/118629662
      parameters:
      - description: The document identifier to search for
        in: path
        name: docID
        required: true
        schema:
          default: A002068
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Returns documents by ID
      tags:
      - Documents
      x-accepts:
      - application/json
  /facets/{facet}:
    get:
      parameters:
      - description: The facet to search for
        in: path
        name: facet
        required: true
        schema:
          enum:
          - sender
          - addressee
          type: string
      - description: "The scope of the result set, i.e. 'indices' or a WeGA ID"
        in: query
        name: scope
        required: true
        schema:
          pattern: "^(indices)|(A[A-F0-9]{6})$"
          type: string
      - description: The search term to be looked for in the facet's label
        in: query
        name: term
        schema:
          type: string
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        required: true
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Facet'
                type: array
          description: An array of facets
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Returns facets
      tags:
      - Facets
      x-accepts:
      - application/json
  /search/entity:
    get:
      description: |
        This endpoint returns the search results for an entity's name or title.
      parameters:
      - description: The WeGA document type
        explode: false
        in: query
        name: docType
        schema:
          items:
            enum:
            - biblio
            - diaries
            - documents
            - letters
            - news
            - orgs
            - persons
            - places
            - thematicCommentaries
            - var
            - works
            - writings
            type: string
          type: array
        style: form
      - description: The query string
        in: query
        name: q
        schema:
          type: string
      - description: Position of first item to retrieve (starting from 1)
        in: query
        name: offset
        schema:
          default: 1
          format: int32
          minimum: 1
          type: integer
      - description: Number of items to retrieve (200 max)
        in: query
        name: limit
        schema:
          default: 10
          format: int32
          maximum: 200
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Document'
                type: array
          description: An array of documents
          headers:
            totalrecordcount:
              description: The total size of the result set
              schema:
                type: integer
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Unexpected error
      summary: Search for a WeGA entity
      tags:
      - Search
      x-accepts:
      - application/json
components:
  parameters:
    docTypeParam:
      description: The WeGA document type
      explode: false
      in: query
      name: docType
      schema:
        items:
          enum:
          - biblio
          - diaries
          - documents
          - letters
          - news
          - orgs
          - persons
          - places
          - thematicCommentaries
          - var
          - works
          - writings
          type: string
        type: array
      style: form
    docTypeRequiredParam:
      description: The WeGA document type
      explode: false
      in: query
      name: docType
      required: true
      schema:
        items:
          enum:
          - biblio
          - diaries
          - documents
          - letters
          - news
          - orgs
          - persons
          - places
          - thematicCommentaries
          - var
          - works
          - writings
          type: string
        type: array
      style: form
    fromDateParam:
      description: The earliest date
      in: query
      name: fromDate
      schema:
        format: date
        type: string
    limitParam:
      description: Number of items to retrieve (200 max)
      in: query
      name: limit
      schema:
        default: 10
        format: int32
        maximum: 200
        type: integer
    offsetParam:
      description: Position of first item to retrieve (starting from 1)
      in: query
      name: offset
      schema:
        default: 1
        format: int32
        minimum: 1
        type: integer
    qParam:
      description: The query string
      in: query
      name: q
      schema:
        type: string
    toDateParam:
      description: The latest date
      in: query
      name: toDate
      schema:
        format: date
        type: string
  schemas:
    CodeSample:
      example:
        docID: docID
        codeSample: codeSample
        uri: uri
      properties:
        codeSample:
          description: The code snippet
          type: string
        docID:
          description: The WeGA document identifier representing a specific document
          type: string
        uri:
          description: Unique identifier representing a specific document
          type: string
      type: object
    Document:
      example:
        docID: docID
        docType: docType
        title: title
        uri: uri
      properties:
        docID:
          description: The WeGA document identifier representing a specific document
          type: string
        docType:
          description: The WeGA document type
          type: string
        title:
          description: The title of the document
          type: string
        uri:
          description: Unique identifier representing a specific document
          type: string
      type: object
    Error:
      example:
        code: 6
        fields: fields
        message: message
      properties:
        code:
          format: int32
          type: integer
        fields:
          type: string
        message:
          type: string
      type: object
    Facet:
      example:
        label: label
        value: value
        frequency: 0
      properties:
        frequency:
          description: The sum of occurences of the object for the current result
            set
          type: integer
        label:
          description: The name or title of the object
          type: string
        value:
          description: the WeGA ID
          pattern: "^A[A-F0-9]{6}$"
          type: string
      type: object
    _application_newID_get_200_response:
      example:
        docID: docID
        docType: docType
      properties:
        docID:
          description: The WeGA ID
          pattern: "^A[A-F0-9]{6}$"
          type: string
        docType:
          description: The WeGA document type
          type: string
      type: object
    _application_newID_get_403_response:
      example:
        code: 0
        message: message
      properties:
        code:
          default: 403
          format: int32
          type: integer
        message:
          type: string
      type: object
    _application_status_get_200_response:
      example:
        svnRevision: 0
        version: version
        deployment: 2000-01-23T04:56:07.000+00:00
        status: healthy
      properties:
        deployment:
          description: The datetime of the deployment of the WeGA-WebApp
          format: date-time
          type: string
        status:
          default: healthy
          description: Status (healthy|unhealthy) of the currently running WeGA-WebApp
          type: string
        svnRevision:
          description: The Subversion revision of the currently installed WeGA-data
          type: integer
        version:
          pattern: ^\d+\.\d+\.\d+$
          type: string
      type: object
    _application_status_get_500_response:
      example:
        svnRevision: 6
        version: version
        deployment: 2000-01-23T04:56:07.000+00:00
        status: unhealthy
      properties:
        deployment:
          description: The datetime of the deployment of the WeGA-WebApp
          format: date-time
          type: string
        status:
          default: unhealthy
          description: Status (healthy|unhealthy) of the currently running WeGA-WebApp
          type: string
        svnRevision:
          description: The Subversion revision of the currently installed WeGA-data
          type: integer
        version:
          pattern: ^\d+\.\d+\.\d+$
          type: string
      type: object
x-original-swagger-version: "2.0"

