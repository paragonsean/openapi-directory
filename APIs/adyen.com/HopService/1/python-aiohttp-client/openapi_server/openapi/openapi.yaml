openapi: 3.1.0
info:
  contact:
    name: Adyen Developer Experience team
    url: https://github.com/Adyen/adyen-openapi
    x-twitter: Adyen
  description: |-
    This API is used for the classic integration. If you are just starting your implementation, refer to our [new integration guide](https://docs.adyen.com/marketplaces-and-platforms) instead.

    The Hosted onboarding API provides endpoints that you can use to generate links to Adyen-hosted pages, such as an [onboarding page](https://docs.adyen.com/marketplaces-and-platforms/classic/hosted-onboarding-page) or a [PCI compliance questionnaire](https://docs.adyen.com/marketplaces-and-platforms/classic/platforms-for-partners). You can provide these links to your account holders so that they can complete their onboarding.

    ## Authentication
    Your Adyen contact will provide your API credential and an API key. To connect to the API, add an `X-API-Key` header with the API key as the value, for example:

     ```
    curl
    -H "Content-Type: application/json" \
    -H "X-API-Key: YOUR_API_KEY" \
    ...
    ```

    Alternatively, you can use the username and password to connect to the API using basic authentication. For example:

    ```
    curl
    -U "ws@MarketPlace.YOUR_PLATFORM_ACCOUNT":"YOUR_WS_PASSWORD" \
    -H "Content-Type: application/json" \
    ...
    ```
    When going live, you need to generate new web service user credentials to access the [live endpoints](https://docs.adyen.com/development-resources/live-endpoints).

    ## Versioning
    The Hosted onboarding API supports [versioning](https://docs.adyen.com/development-resources/versioning) using a version suffix in the endpoint URL. This suffix has the following format: "vXX", where XX is the version number.

    For example:
    ```
    https://cal-test.adyen.com/cal/services/Hop/v1/getOnboardingUrl
    ```
  termsOfService: https://www.adyen.com/legal/terms-and-conditions
  title: Hosted onboarding API
  version: "1"
  x-apisguru-categories:
  - payment
  x-logo:
    url: https://twitter.com/Adyen/profile_image?size=original
  x-origin:
  - format: openapi
    url: https://raw.githubusercontent.com/Adyen/adyen-openapi/main/json/HopService-v1.json
    version: "3.1"
  x-preferred: false
  x-providerName: adyen.com
  x-publicVersion: true
  x-serviceName: HopService
  x-timestamp: 2023-05-30T15:27:20Z
servers:
- url: https://cal-test.adyen.com/cal/services/Hop/v1
tags:
- name: Hosted Onboarding Page
- name: PCI Compliance Questionnaire Page
paths:
  /getOnboardingUrl:
    post:
      description: "Returns a link to an Adyen-hosted onboarding page (HOP) that you\
        \ can send to your account holder. For more information on how to use HOP,\
        \ refer to [Hosted onboarding](https://docs.adyen.com/marketplaces-and-platforms/classic/collect-verification-details/hosted-onboarding-page). "
      operationId: post_get_onboarding_url
      requestBody:
        content:
          application/json:
            examples:
              get-onboarding-url:
                $ref: '#/components/examples/post-getOnboardingUrl-get-onboarding-url'
            schema:
              $ref: '#/components/schemas/GetOnboardingUrlRequest'
        x-body-name: body
      responses:
        "200":
          content:
            application/json:
              examples:
                get-onboarding-url:
                  $ref: '#/components/examples/post-getOnboardingUrl-get-onboarding-url-200'
              schema:
                $ref: '#/components/schemas/GetOnboardingUrlResponse'
          description: OK - the request has succeeded.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Bad Request - a problem reading or understanding the request.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Unauthorized - authentication required.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Forbidden - insufficient permissions to process the request.
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Unprocessable Entity - a request validation error.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Internal Server Error - the server could not process the request.
      security:
      - BasicAuth: []
      - ApiKeyAuth: []
      summary: Get a link to a Adyen-hosted onboarding page
      tags:
      - Hosted Onboarding Page
      x-groupName: Hosted Onboarding Page
      x-methodName: getOnboardingUrl
      x-sortIndex: 1
      x-openapi-router-controller: openapi_server.controllers.hosted_onboarding_page_controller
      x-codegen-request-body-name: body
  /getPciQuestionnaireUrl:
    post:
      description: |-
        Returns a link to a PCI compliance questionnaire that you can send to your account holder.
         > You should only use this endpoint if you have a [partner platform setup](https://docs.adyen.com/marketplaces-and-platforms/classic/platforms-for-partners).
      operationId: post_get_pci_questionnaire_url
      requestBody:
        content:
          application/json:
            examples:
              get-pci-questionnaire-url:
                $ref: '#/components/examples/post-getPciQuestionnaireUrl-get-pci-questionnaire-url'
            schema:
              $ref: '#/components/schemas/GetPciUrlRequest'
        x-body-name: body
      responses:
        "200":
          content:
            application/json:
              examples:
                get-pci-questionnaire-url:
                  $ref: '#/components/examples/post-getPciQuestionnaireUrl-get-pci-questionnaire-url-200'
              schema:
                $ref: '#/components/schemas/GetPciUrlResponse'
          description: OK - the request has succeeded.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Bad Request - a problem reading or understanding the request.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Unauthorized - authentication required.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Forbidden - insufficient permissions to process the request.
        "422":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Unprocessable Entity - a request validation error.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceError'
          description: Internal Server Error - the server could not process the request.
      security:
      - BasicAuth: []
      - ApiKeyAuth: []
      summary: Get a link to a PCI compliance questionnaire
      tags:
      - PCI Compliance Questionnaire Page
      x-groupName: PCI Compliance Questionnaire Page
      x-methodName: getPciQuestionnaireUrl
      x-sortIndex: 1
      x-openapi-router-controller: openapi_server.controllers.pci_compliance_questionnaire_page_controller
      x-codegen-request-body-name: body
components:
  examples:
    post-getOnboardingUrl-get-onboarding-url:
      description: Returns a link to an Adyen-hosted onboarding page (HOP) that you
        can send to your account holder.
      summary: Get a hosted onboarding page link
      value:
        accountHolderCode: CODE_OF_ACCOUNT_HOLDER
        returnUrl: https://your.return-url.com/?submerchant=123
    post-getOnboardingUrl-get-onboarding-url-200:
      description: Example response for requesting a hosted onboarding page link
      summary: Hosted onboarding page link
      value:
        invalidFields: []
        pspReference: "9115677600500127"
        redirectUrl: https://hop-test.adyen.com/hop/view/?token=<token>
        resultCode: Success
    post-getPciQuestionnaireUrl-get-pci-questionnaire-url:
      description: Returns a link to an Adyen-hosted PCI compliance questionnaire
        that you can send to your account holder.
      summary: Get a PCI questionnaire link
      value:
        accountHolderCode: CODE_OF_ACCOUNT_HOLDER
        returnUrl: https://your.return-url.com/?submerchant=123
    post-getPciQuestionnaireUrl-get-pci-questionnaire-url-200:
      description: Example response for requesting a hosted onboarding page link
      summary: Hosted onboarding page link
      value:
        invalidFields: []
        pspReference: "8315748692943050"
        redirectUrl: https://hop-test.adyen.com/hop/pci/?token=<token>
        resultCode: Success
  schemas:
    CollectInformation:
      example:
        bankDetails: true
        individualDetails: true
        businessDetails: true
        legalArrangementDetails: true
        pciQuestionnaire: true
        shareholderDetails: true
      properties:
        bankDetails:
          description: "Indicates whether [bank account details](https://docs.adyen.com/marketplaces-and-platforms/classic/verification-checks/bank-account-check)\
            \ must be collected. Default is **true**."
          title: bankDetails
          type: boolean
        businessDetails:
          description: "Indicates whether [business details](https://docs.adyen.com/marketplaces-and-platforms/classic/verification-checks/company-check)\
            \ must be collected. Default is **true**."
          title: businessDetails
          type: boolean
        individualDetails:
          description: "Indicates whether [individual details](https://docs.adyen.com/marketplaces-and-platforms/classic/verification-checks/identity-check)\
            \ must be collected. Default is **true**."
          title: individualDetails
          type: boolean
        legalArrangementDetails:
          description: "Indicates whether [legal arrangement details](https://docs.adyen.com/marketplaces-and-platforms/classic/verification-checks/legal-arrangements)\
            \ must be collected. Default is **true**."
          title: legalArrangementDetails
          type: boolean
        pciQuestionnaire:
          description: "Indicates whether answers to a [PCI questionnaire](https://docs.adyen.com/marketplaces-and-platforms/classic/platforms-for-partners#onboard-partner-platform)\
            \ must be collected. Applies only to partner platforms. Default is **true**."
          title: pciQuestionnaire
          type: boolean
        shareholderDetails:
          description: "Indicates whether [shareholder details](https://docs.adyen.com/marketplaces-and-platforms/classic/verification-checks/identity-check)\
            \ must be collected. Defaults to **true**."
          title: shareholderDetails
          type: boolean
      title: CollectInformation
    ErrorFieldType:
      example:
        errorDescription: errorDescription
        errorCode: 0
        fieldType:
          fieldName: accountCode
          field: field
          shareholderCode: shareholderCode
      properties:
        errorCode:
          description: The validation error code.
          format: int32
          title: errorCode
          type: integer
        errorDescription:
          description: A description of the validation error.
          title: errorDescription
          type: string
        fieldType:
          $ref: '#/components/schemas/FieldType'
      title: ErrorFieldType
    ErrorFieldTypeWrapper:
      example:
        ErrorFieldType:
          errorDescription: errorDescription
          errorCode: 0
          fieldType:
            fieldName: accountCode
            field: field
            shareholderCode: shareholderCode
      properties:
        ErrorFieldType:
          $ref: '#/components/schemas/ErrorFieldType'
      title: ErrorFieldTypeWrapper
    FieldType:
      example:
        fieldName: accountCode
        field: field
        shareholderCode: shareholderCode
      properties:
        field:
          description: The full name of the property.
          title: field
          type: string
        fieldName:
          description: The type of the field.
          enum:
          - accountCode
          - accountHolderCode
          - accountHolderDetails
          - accountNumber
          - accountStateType
          - accountStatus
          - accountType
          - address
          - balanceAccount
          - balanceAccountActive
          - balanceAccountCode
          - balanceAccountId
          - bankAccount
          - bankAccountCode
          - bankAccountName
          - bankAccountUUID
          - bankBicSwift
          - bankCity
          - bankCode
          - bankName
          - bankStatement
          - branchCode
          - businessContact
          - cardToken
          - checkCode
          - city
          - companyRegistration
          - constitutionalDocument
          - controller
          - country
          - countryCode
          - currency
          - currencyCode
          - dateOfBirth
          - destinationAccountCode
          - document
          - documentContent
          - documentExpirationDate
          - documentIssuerCountry
          - documentIssuerState
          - documentName
          - documentNumber
          - documentType
          - doingBusinessAs
          - drivingLicence
          - drivingLicenceBack
          - drivingLicenceFront
          - drivingLicense
          - email
          - firstName
          - formType
          - fullPhoneNumber
          - gender
          - hopWebserviceUser
          - houseNumberOrName
          - iban
          - idCard
          - idNumber
          - identityDocument
          - individualDetails
          - infix
          - jobTitle
          - lastName
          - lastReviewDate
          - legalArrangement
          - legalArrangementCode
          - legalArrangementEntity
          - legalArrangementEntityCode
          - legalArrangementLegalForm
          - legalArrangementMember
          - legalArrangementMembers
          - legalArrangementName
          - legalArrangementReference
          - legalArrangementRegistrationNumber
          - legalArrangementTaxNumber
          - legalArrangementType
          - legalBusinessName
          - legalEntity
          - legalEntityType
          - logo
          - merchantAccount
          - merchantCategoryCode
          - merchantHouseNumber
          - merchantReference
          - microDeposit
          - name
          - nationality
          - originalReference
          - ownerCity
          - ownerCountryCode
          - ownerDateOfBirth
          - ownerHouseNumberOrName
          - ownerName
          - ownerPostalCode
          - ownerState
          - ownerStreet
          - passport
          - passportNumber
          - payoutMethod
          - payoutMethodCode
          - payoutSchedule
          - pciSelfAssessment
          - personalData
          - phoneCountryCode
          - phoneNumber
          - postalCode
          - primaryCurrency
          - reason
          - returnUrl
          - schedule
          - shareholder
          - shareholderCode
          - shareholderCodeAndSignatoryCode
          - shareholderCodeOrSignatoryCode
          - shareholderType
          - shareholderTypes
          - shopperInteraction
          - signatory
          - signatoryCode
          - socialSecurityNumber
          - sourceAccountCode
          - splitAccount
          - splitConfigurationUUID
          - splitCurrency
          - splitValue
          - splits
          - stateOrProvince
          - status
          - stockExchange
          - stockNumber
          - stockTicker
          - store
          - storeDetail
          - storeName
          - storeReference
          - street
          - taxId
          - tier
          - tierNumber
          - transferCode
          - ultimateParentCompany
          - ultimateParentCompanyAddressDetails
          - ultimateParentCompanyAddressDetailsCountry
          - ultimateParentCompanyBusinessDetails
          - ultimateParentCompanyBusinessDetailsLegalBusinessName
          - ultimateParentCompanyBusinessDetailsRegistrationNumber
          - ultimateParentCompanyCode
          - ultimateParentCompanyStockExchange
          - ultimateParentCompanyStockNumber
          - ultimateParentCompanyStockNumberOrStockTicker
          - ultimateParentCompanyStockTicker
          - unknown
          - value
          - verificationType
          - virtualAccount
          - visaNumber
          - webAddress
          - year
          title: fieldName
          type: string
        shareholderCode:
          description: "The code of the shareholder that the field belongs to. If\
            \ empty, the field belongs to an account holder."
          title: shareholderCode
          type: string
      title: FieldType
    GetOnboardingUrlRequest:
      example:
        accountHolderCode: accountHolderCode
        collectInformation:
          bankDetails: true
          individualDetails: true
          businessDetails: true
          legalArrangementDetails: true
          pciQuestionnaire: true
          shareholderDetails: true
        mobileOAuthCallbackUrl: mobileOAuthCallbackUrl
        showPages:
          manualBankAccountPage: true
          shareholderDetailsSummaryPage: true
          checksOverviewPage: true
          bankVerificationPage: true
          businessDetailsSummaryPage: true
          welcomePage: true
          legalArrangementsDetailsSummaryPage: true
          individualDetailsSummaryPage: true
          bankDetailsSummaryPage: true
        editMode: true
        shopperLocale: shopperLocale
        platformName: platformName
        returnUrl: returnUrl
      properties:
        accountHolderCode:
          description: The account holder code you provided when you created the account
            holder.
          title: accountHolderCode
          type: string
        collectInformation:
          $ref: '#/components/schemas/CollectInformation'
        editMode:
          description: Indicates if editing checks is allowed even if all the checks
            have passed.
          title: editMode
          type: boolean
        mobileOAuthCallbackUrl:
          description: The URL to which the account holder is redirected after completing
            an OAuth authentication with a bank through Trustly/PayMyBank.
          title: mobileOAuthCallbackUrl
          type: string
        platformName:
          description: The platform name which will show up in the welcome page.
          title: platformName
          type: string
        returnUrl:
          description: "The URL where the account holder will be redirected back to\
            \ after they complete the onboarding, or if their session times out. Maximum\
            \ length of 500 characters. If you don't provide this, the account holder\
            \ will be redirected back to the default return URL configured in your\
            \ platform account."
          title: returnUrl
          type: string
        shopperLocale:
          description: "The language to be used in the page, specified by a combination\
            \ of a language and country code. For example, **pt-BR**. \n\nIf not specified\
            \ in the request or if the language is not supported, the page uses the\
            \ browser language. If the browser language is not supported, the page\
            \ uses **en-US** by default.\n\nFor a list of supported languages, refer\
            \ to [Change the page language](https://docs.adyen.com/marketplaces-and-platforms/classic/hosted-onboarding-page/customize-experience#change-page-language)."
          title: shopperLocale
          type: string
        showPages:
          $ref: '#/components/schemas/ShowPages'
      required:
      - accountHolderCode
      title: GetOnboardingUrlRequest
    GetOnboardingUrlResponse:
      example:
        submittedAsync: true
        redirectUrl: redirectUrl
        invalidFields:
        - ErrorFieldType:
            errorDescription: errorDescription
            errorCode: 0
            fieldType:
              fieldName: accountCode
              field: field
              shareholderCode: shareholderCode
        - ErrorFieldType:
            errorDescription: errorDescription
            errorCode: 0
            fieldType:
              fieldName: accountCode
              field: field
              shareholderCode: shareholderCode
        resultCode: resultCode
        pspReference: pspReference
      properties:
        invalidFields:
          description: Information about any invalid fields.
          items:
            $ref: '#/components/schemas/ErrorFieldTypeWrapper'
          title: invalidFields
          type: array
          x-addedInVersion: "5"
        pspReference:
          description: The reference of a request. Can be used to uniquely identify
            the request.
          title: pspReference
          type: string
        redirectUrl:
          description: The URL to the Hosted Onboarding Page where you should redirect
            your sub-merchant. This URL must be used within 30 seconds and can only
            be used once.
          title: redirectUrl
          type: string
        resultCode:
          description: The result code.
          title: resultCode
          type: string
        submittedAsync:
          description: |-
            Indicates whether the request is processed asynchronously. Depending on the request's platform settings, the following scenarios may be applied:
            * **true**: The request is queued and will be executed when the providing service is available in the order in which the requests are received.
            * **false**: The processing of the request is immediately attempted; it may result in an error if the providing service is unavailable.
          title: submittedAsync
          type: boolean
      title: GetOnboardingUrlResponse
    GetPciUrlRequest:
      example:
        accountHolderCode: accountHolderCode
        returnUrl: returnUrl
      properties:
        accountHolderCode:
          description: The account holder code you provided when you created the account
            holder.
          title: accountHolderCode
          type: string
        returnUrl:
          description: "The URL where the account holder will be redirected back to\
            \ after they fill out the questionnaire, or if their session times out.\
            \ Maximum length of 500 characters."
          title: returnUrl
          type: string
      required:
      - accountHolderCode
      title: GetPciUrlRequest
    GetPciUrlResponse:
      example:
        submittedAsync: true
        redirectUrl: redirectUrl
        invalidFields:
        - ErrorFieldType:
            errorDescription: errorDescription
            errorCode: 0
            fieldType:
              fieldName: accountCode
              field: field
              shareholderCode: shareholderCode
        - ErrorFieldType:
            errorDescription: errorDescription
            errorCode: 0
            fieldType:
              fieldName: accountCode
              field: field
              shareholderCode: shareholderCode
        resultCode: resultCode
        pspReference: pspReference
      properties:
        invalidFields:
          description: Information about any invalid fields.
          items:
            $ref: '#/components/schemas/ErrorFieldTypeWrapper'
          title: invalidFields
          type: array
          x-addedInVersion: "5"
        pspReference:
          description: The reference of a request. Can be used to uniquely identify
            the request.
          title: pspReference
          type: string
        redirectUrl:
          description: The URL to the PCI compliance questionnaire where you should
            redirect your account holder. This URL must be used within 30 seconds
            and can only be used once.
          title: redirectUrl
          type: string
        resultCode:
          description: The result code.
          title: resultCode
          type: string
        submittedAsync:
          description: |-
            Indicates whether the request is processed asynchronously. Depending on the request's platform settings, the following scenarios may be applied:
            * **true**: The request is queued and will be executed when the providing service is available in the order in which the requests are received.
            * **false**: The processing of the request is immediately attempted; it may result in an error if the providing service is unavailable.
          title: submittedAsync
          type: boolean
      title: GetPciUrlResponse
    ServiceError:
      example:
        errorType: errorType
        errorCode: errorCode
        message: message
        pspReference: pspReference
        status: 6
      properties:
        errorCode:
          description: The error code mapped to the error message.
          title: errorCode
          type: string
        errorType:
          description: The category of the error.
          title: errorType
          type: string
        message:
          description: A short explanation of the issue.
          title: message
          type: string
        pspReference:
          description: The PSP reference of the payment.
          title: pspReference
          type: string
        status:
          description: The HTTP response status.
          format: int32
          title: status
          type: integer
      title: ServiceError
    ShowPages:
      example:
        manualBankAccountPage: true
        shareholderDetailsSummaryPage: true
        checksOverviewPage: true
        bankVerificationPage: true
        businessDetailsSummaryPage: true
        welcomePage: true
        legalArrangementsDetailsSummaryPage: true
        individualDetailsSummaryPage: true
        bankDetailsSummaryPage: true
      properties:
        bankDetailsSummaryPage:
          description: Indicates whether the page with bank account details must be
            shown. Defaults to **true**.
          title: bankDetailsSummaryPage
          type: boolean
        bankVerificationPage:
          description: Indicates whether the bank check instant verification' details
            must be shown. Defaults to **true**.
          title: bankVerificationPage
          type: boolean
        businessDetailsSummaryPage:
          description: Indicates whether the page with the company's or organization's
            details must be shown. Defaults to **true**.
          title: businessDetailsSummaryPage
          type: boolean
        checksOverviewPage:
          description: Indicates whether the checks overview page must be shown. Defaults
            to **false**.
          title: checksOverviewPage
          type: boolean
        individualDetailsSummaryPage:
          description: Indicates whether the page with the individual's details must
            be shown. Defaults to **true**.
          title: individualDetailsSummaryPage
          type: boolean
        legalArrangementsDetailsSummaryPage:
          description: Indicates whether the page with the legal arrangements' details
            must be shown. Defaults to **true**.
          title: legalArrangementsDetailsSummaryPage
          type: boolean
        manualBankAccountPage:
          description: Indicates whether the page to manually add bank account' details
            must be shown. Defaults to **true**.
          title: manualBankAccountPage
          type: boolean
        shareholderDetailsSummaryPage:
          description: Indicates whether the page with the shareholders' details must
            be shown. Defaults to **true**.
          title: shareholderDetailsSummaryPage
          type: boolean
        welcomePage:
          description: Indicates whether the welcome page must be shown. Defaults
            to **false**.
          title: welcomePage
          type: boolean
      title: ShowPages
  securitySchemes:
    ApiKeyAuth:
      in: header
      name: X-API-Key
      type: apiKey
      x-apikeyInfoFunc: openapi_server.controllers.security_controller.info_from_ApiKeyAuth
    BasicAuth:
      scheme: basic
      type: http
      x-basicInfoFunc: openapi_server.controllers.security_controller.info_from_BasicAuth
x-groups:
- Hosted Onboarding Page
- PCI Compliance Questionnaire Page
