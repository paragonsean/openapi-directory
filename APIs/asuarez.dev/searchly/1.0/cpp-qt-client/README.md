# C++ Qt API client

# 

SearchLy API v1

- API version: 1.0
- Generator version: 7.9.0

# Introduction
The SearchLy API provides similarity searching based on song lyrics.

# Operations
The API allows for the `/similarity/by_song` operation, which allows clients to search the similarity for an existing song in the database. Also, the API has an additional `/similarity/by_content` endpoint which allows clients to search similarity given a free String input through a JSON request body. Additional `/song/search` operation is available for searching songs given a query String.

# Endpoint
The API endpoint for the SearchLy API v1 is as follows:
```
https://searchly.asuarez.dev/api/v1
```

# Motivation
This project was built in order to create an API for searching similarities based on song lyrics. There are a lot of songs in the industry and most of them are talking about the same topic. What I wanted to prove with SearchLy was to estimate how similar are two songs between them based on the meaning of their lyrics.

SearchLy is using a database of 100k songs from AZLyrics, using [this scraper](https://github.com/AlbertSuarez/azlyrics-scraper), which is being updated periodically. Then, using word2vec and NMSLIB, it was possible to create an index where you can search similarities using the k-nearest neighbors (KNN) algorithm.

> **Note**: I am currently using a micro-instance from DigitalOcean where the API is deployed, so you should expect a bad performance. However, if this API becomes popular I will deploy it in a bigger instance.



*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*


## Requirements

Building the API client library requires:

1. CMake 3.2+
2. Qt
3. C++ Compiler

## Getting Started

example.h:
```c++

#include <iostream>
#include "../client/OAISimilarityApi.h"

using namespace test_namespace;

class Example : public QObject {
    Q_OBJECT
    OAISrc_searchly_api_v1_controllers_similarity_by_content_request create();
public Q_SLOTS:
   void exampleFunction1();
};

```

example.cpp:
```c++

#include "../client/OAISimilarityApi.h"
#include "example.h"
#include <QTimer>
#include <QEventLoop>

OAISrc_searchly_api_v1_controllers_similarity_by_content_request Example::create(){
    OAISrc_searchly_api_v1_controllers_similarity_by_content_request obj;
 return obj;
}

void Example::exampleFunction1(){
     OAISimilarityApi apiInstance;
     
      QEventLoop loop;
      connect(&apiInstance, &OAISimilarityApi::src_searchly_api_v1_controllers_similarity_byContentSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISimilarityApi::src_searchly_api_v1_controllers_similarity_byContentSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      OAISrc_searchly_api_v1_controllers_similarity_by_content_request oai_src_searchly_api_v1_controllers_similarity_by_content_request = create(); // OAISrc_searchly_api_v1_controllers_similarity_by_content_request | Body wrapper for the request.
      apiInstance.src_searchly_api_v1_controllers_similarity_byContent(oai_src_searchly_api_v1_controllers_similarity_by_content_request);
      QTimer::singleShot(5000, &loop, &QEventLoop::quit);
      loop.exec();
  }

```

## Documentation for Servers

Parameterized Servers are supported. Define a server in the API for each endpoint with arbitrary numbers of variables:

```yaml
servers:
- url: http://{server}:{port}/{basePath}
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
    port:
      enum:
        - '3000'
        - '1000'
      default: '3000'
    basePath:
      default: v1
```
To change the default variable, use this function in each Api:
```c++
int setDefaultServerValue(int serverIndex,const QString &operation, const QString &variable,const QString &val);
```
The parameter "serverIndex" will choose a server from the server list for each endpoint. There is always at least one server with index 0. The Parameter "operation" should be the desired endpoint operationid.
Variable is the name of the variable you wish to change and the value is the new default Value.
The function will return -1 when the variable does not exists, -2 if value is not defined in the variable enum and -3 if the operation is not found.

If your endpoint has multiple server objects in the servers array, you can set the server that will be used with this function:
```c++
void setServerIndex(const QString &operation, int serverIndex);
```
Parameter "operation" should be your operationid. "serverIndex" is the index you want to set as your default server. The function will check if there is a server with your index.
Here is an example of multiple servers in the servers array. The first server will have index 0 and the second will have index 1.
```yaml
servers:
- url: http://{server}:8080/
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
- url: https://localhost:8080/v1
```

## Documentation for Authorization

All endpoints do not require authorization.
Authentication schemes defined for the API:

## Author

hi@asuarez.dev


## License

 for more information visit []()