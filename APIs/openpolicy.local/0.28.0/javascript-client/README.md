# open_policy_agent__opa_rest_api

OpenPolicyAgentOpaRestApi - JavaScript client for open_policy_agent__opa_rest_api
OPA provides policy-based control for cloud native environments. The following *endpoints* (such as `PUT /v1/policies`) provide reference documentation for the OPA REST API.

### API specification viewing options

- **[View the specification in *Redoc* (default)](index.html)**
- **[View the specification in *Swagger UI*](swagger-ui.html)**
This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 0.28.0
- Package version: 0.28.0
- Generator version: 7.9.0
- Build package: org.openapitools.codegen.languages.JavascriptClientCodegen
For more information, please visit [https://github.com/open-policy-agent/opa](https://github.com/open-policy-agent/opa)

## Installation

### For [Node.js](https://nodejs.org/)

#### npm

To publish the library as a [npm](https://www.npmjs.com/), please follow the procedure in ["Publishing npm packages"](https://docs.npmjs.com/getting-started/publishing-npm-packages).

Then install it via:

```shell
npm install open_policy_agent__opa_rest_api --save
```

Finally, you need to build the module:

```shell
npm run build
```

##### Local development

To use the library locally without publishing to a remote npm registry, first install the dependencies by changing into the directory containing `package.json` (and this README). Let's call this `JAVASCRIPT_CLIENT_DIR`. Then run:

```shell
npm install
```

Next, [link](https://docs.npmjs.com/cli/link) it globally in npm with the following, also from `JAVASCRIPT_CLIENT_DIR`:

```shell
npm link
```

To use the link you just defined in your project, switch to the directory you want to use your open_policy_agent__opa_rest_api from, and run:

```shell
npm link /path/to/<JAVASCRIPT_CLIENT_DIR>
```

Finally, you need to build the module:

```shell
npm run build
```

#### git

If the library is hosted at a git repository, e.g.https://github.com/GIT_USER_ID/GIT_REPO_ID
then install it via:

```shell
    npm install GIT_USER_ID/GIT_REPO_ID --save
```

### For browser

The library also works in the browser environment via npm and [browserify](http://browserify.org/). After following
the above steps with Node.js and installing browserify with `npm install -g browserify`,
perform the following (assuming *main.js* is your entry file):

```shell
browserify main.js > bundle.js
```

Then include *bundle.js* in the HTML pages.

### Webpack Configuration

Using Webpack you may encounter the following error: "Module not found: Error:
Cannot resolve module", most certainly you should disable AMD loader. Add/merge
the following section to your webpack config:

```javascript
module: {
  rules: [
    {
      parser: {
        amd: false
      }
    }
  ]
}
```

## Getting Started

Please follow the [installation](#installation) instruction and execute the following JS code:

```javascript
var OpenPolicyAgentOpaRestApi = require('open_policy_agent__opa_rest_api');


var api = new OpenPolicyAgentOpaRestApi.CompileAPIApi()
var opts = {
  'pretty': true, // {Boolean} If true, response will be in a human-readable format.
  'explain': "full", // {String} If set to *full*, response will include query explanations in addition to the result.
  'metrics': false, // {Boolean} If true, compiler performance metrics will be returned in the response.
  'instrument': false, // {Boolean} If true, response will return additional performance metrics in addition to the result and the standard metrics.  **Caution:** This can add significant overhead to query evaluation. The recommendation is to only use this parameter if you are debugging a performance problem.
  'requestBody': {key: null} // {{String: Object}} The query (in JSON format)
};
var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
};
api.postCompile(opts, callback);

```

## Documentation for API Endpoints

All URIs are relative to *http://openpolicy.local*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*OpenPolicyAgentOpaRestApi.CompileAPIApi* | [**postCompile**](docs/CompileAPIApi.md#postCompile) | **POST** /v1/compile | Compile
*OpenPolicyAgentOpaRestApi.ConfigAPIApi* | [**getConfig**](docs/ConfigAPIApi.md#getConfig) | **GET** /v1/config | Get configurations
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**deleteDocument**](docs/DataAPIApi.md#deleteDocument) | **DELETE** /v1/data/{path} | Delete a document
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**getDocument**](docs/DataAPIApi.md#getDocument) | **GET** /v1/data/{path} | Get a document
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**getDocumentWithPath**](docs/DataAPIApi.md#getDocumentWithPath) | **POST** /v1/data/{path} | Get a document (with input)
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**getDocumentWithWebHook**](docs/DataAPIApi.md#getDocumentWithWebHook) | **POST** /v0/data/{path} | Get a document (with webhook)
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**patchDocument**](docs/DataAPIApi.md#patchDocument) | **PATCH** /v1/data/{path} | Update a document
*OpenPolicyAgentOpaRestApi.DataAPIApi* | [**putDocument**](docs/DataAPIApi.md#putDocument) | **PUT** /v1/data/{path} | Create or overwrite a document
*OpenPolicyAgentOpaRestApi.HealthAPIApi* | [**getHealth**](docs/HealthAPIApi.md#getHealth) | **GET** /health | Health
*OpenPolicyAgentOpaRestApi.PolicyAPIApi* | [**deletePolicyModule**](docs/PolicyAPIApi.md#deletePolicyModule) | **DELETE** /v1/policies/{id} | Delete a policy module
*OpenPolicyAgentOpaRestApi.PolicyAPIApi* | [**getPolicies**](docs/PolicyAPIApi.md#getPolicies) | **GET** /v1/policies | List policies
*OpenPolicyAgentOpaRestApi.PolicyAPIApi* | [**getPolicyModule**](docs/PolicyAPIApi.md#getPolicyModule) | **GET** /v1/policies/{id} | Get a policy module
*OpenPolicyAgentOpaRestApi.PolicyAPIApi* | [**putPolicyModule**](docs/PolicyAPIApi.md#putPolicyModule) | **PUT** /v1/policies/{id} | Create or update a policy module
*OpenPolicyAgentOpaRestApi.QueryAPIApi* | [**getQuery**](docs/QueryAPIApi.md#getQuery) | **GET** /v1/query | Execute an ad-hoc query (simple)
*OpenPolicyAgentOpaRestApi.QueryAPIApi* | [**postQuery**](docs/QueryAPIApi.md#postQuery) | **POST** /v1/query | Execute an ad-hoc query (complex)
*OpenPolicyAgentOpaRestApi.QueryAPIApi* | [**postSimpleQuery**](docs/QueryAPIApi.md#postSimpleQuery) | **POST** / | Execute a simple query


## Documentation for Models

 - [OpenPolicyAgentOpaRestApi.GetDocumentWithWebHook200Response](docs/GetDocumentWithWebHook200Response.md)
 - [OpenPolicyAgentOpaRestApi.Model200Explanations](docs/Model200Explanations.md)
 - [OpenPolicyAgentOpaRestApi.Model200ExplanationsExplanationInner](docs/Model200ExplanationsExplanationInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ExplanationsExplanationInnerLocalsInner](docs/Model200ExplanationsExplanationInnerLocalsInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ExplanationsExplanationInnerLocalsInnerKey](docs/Model200ExplanationsExplanationInnerLocalsInnerKey.md)
 - [OpenPolicyAgentOpaRestApi.Model200ExplanationsExplanationInnerNode](docs/Model200ExplanationsExplanationInnerNode.md)
 - [OpenPolicyAgentOpaRestApi.Model200ExplanationsExplanationInnerNodeTermsInner](docs/Model200ExplanationsExplanationInnerNodeTermsInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200Metrics](docs/Model200Metrics.md)
 - [OpenPolicyAgentOpaRestApi.Model200MetricsMetrics](docs/Model200MetricsMetrics.md)
 - [OpenPolicyAgentOpaRestApi.Model200Provenance](docs/Model200Provenance.md)
 - [OpenPolicyAgentOpaRestApi.Model200ProvenanceProvenance](docs/Model200ProvenanceProvenance.md)
 - [OpenPolicyAgentOpaRestApi.Model200Result](docs/Model200Result.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInner](docs/Model200ResultResultInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAst](docs/Model200ResultResultInnerAst.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstPackage](docs/Model200ResultResultInnerAstPackage.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstPackagePathInner](docs/Model200ResultResultInnerAstPackagePathInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInner](docs/Model200ResultResultInnerAstRulesInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInnerBodyInner](docs/Model200ResultResultInnerAstRulesInnerBodyInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInnerBodyInnerTermsInner](docs/Model200ResultResultInnerAstRulesInnerBodyInnerTermsInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInnerBodyInnerTermsInnerValueInner](docs/Model200ResultResultInnerAstRulesInnerBodyInnerTermsInnerValueInner.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInnerHead](docs/Model200ResultResultInnerAstRulesInnerHead.md)
 - [OpenPolicyAgentOpaRestApi.Model200ResultResultInnerAstRulesInnerHeadKey](docs/Model200ResultResultInnerAstRulesInnerHeadKey.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResult](docs/Model200SingleResult.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResult](docs/Model200SingleResultResult.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultBundles](docs/Model200SingleResultResultBundles.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultBundlesAuthz](docs/Model200SingleResultResultBundlesAuthz.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultDecisionLogs](docs/Model200SingleResultResultDecisionLogs.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultKeys](docs/Model200SingleResultResultKeys.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultKeysGlobalKey](docs/Model200SingleResultResultKeysGlobalKey.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultLabels](docs/Model200SingleResultResultLabels.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultServices](docs/Model200SingleResultResultServices.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultServicesAcmecorp](docs/Model200SingleResultResultServicesAcmecorp.md)
 - [OpenPolicyAgentOpaRestApi.Model200SingleResultResultStatus](docs/Model200SingleResultResultStatus.md)
 - [OpenPolicyAgentOpaRestApi.Model400](docs/Model400.md)
 - [OpenPolicyAgentOpaRestApi.Model400ErrorsInner](docs/Model400ErrorsInner.md)
 - [OpenPolicyAgentOpaRestApi.Model400ErrorsInnerLocation](docs/Model400ErrorsInnerLocation.md)
 - [OpenPolicyAgentOpaRestApi.Model404](docs/Model404.md)
 - [OpenPolicyAgentOpaRestApi.PatchesSchemaInner](docs/PatchesSchemaInner.md)
 - [OpenPolicyAgentOpaRestApi.PostCompile200Response](docs/PostCompile200Response.md)


## Documentation for Authorization

Endpoints do not require authorization.

