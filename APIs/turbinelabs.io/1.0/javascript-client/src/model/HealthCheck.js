/**
 * Turbine Labs API
 * The Turbine Labs API provides CRUD operations for core object types, and is mostly RESTy. The easiest way to interact with the API is with [tbnctl](https://docs.turbinelabs.io/advanced/tbnctl.html). If you want to make direct HTTP calls, however, you can obtain an access token using tbnctl, and then pass it in the Authorization header, prefixed by `Token `: ```console curl -H \"Authorization: Token <access token>\" https://api.turbinelabs.io/v1.0/cluster ``` 
 *
 * The version of the OpenAPI document: 1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 */

import ApiClient from '../ApiClient';
import HealthCheckHealthChecker from './HealthCheckHealthChecker';

/**
 * The HealthCheck model module.
 * @module model/HealthCheck
 * @version 1.0
 */
class HealthCheck {
    /**
     * Constructs a new <code>HealthCheck</code>.
     * Configures active health checking for every instance in a cluster. 
     * @alias module:model/HealthCheck
     * @param healthChecker {module:model/HealthCheckHealthChecker} 
     * @param healthyThreshold {Number} The number of healthy health checks required before a host is marked healthy. Note that during startup, only a single successful health check is required to mark a host healthy. 
     * @param intervalMsec {Number} The interval between health checks. The first round of health checks will occur during startup before any traffic is routed to a cluster. This means that the \\'no_traffic_interval_msec\\' value will be used as the first interval of health checks. 
     * @param timeoutMsec {Number} The time to wait for a health check response. If the timeout is reached without a response, the health check attempt will be considered a failure. This is a required field and must be greater than 0. 
     * @param unhealthyThreshold {Number} The number of unhealthy health checks required before a host is marked unhealthy. Note that for *http* health checking, if a host responds with 503, this threshold is ignored and the host is considered unhealthy immediately. 
     */
    constructor(healthChecker, healthyThreshold, intervalMsec, timeoutMsec, unhealthyThreshold) { 
        
        HealthCheck.initialize(this, healthChecker, healthyThreshold, intervalMsec, timeoutMsec, unhealthyThreshold);
    }

    /**
     * Initializes the fields of this object.
     * This method is used by the constructors of any subclasses, in order to implement multiple inheritance (mix-ins).
     * Only for internal use.
     */
    static initialize(obj, healthChecker, healthyThreshold, intervalMsec, timeoutMsec, unhealthyThreshold) { 
        obj['health_checker'] = healthChecker;
        obj['healthy_threshold'] = healthyThreshold;
        obj['interval_msec'] = intervalMsec;
        obj['timeout_msec'] = timeoutMsec;
        obj['unhealthy_threshold'] = unhealthyThreshold;
    }

    /**
     * Constructs a <code>HealthCheck</code> from a plain JavaScript object, optionally creating a new instance.
     * Copies all relevant properties from <code>data</code> to <code>obj</code> if supplied or a new instance if not.
     * @param {Object} data The plain JavaScript object bearing properties of interest.
     * @param {module:model/HealthCheck} obj Optional instance to populate.
     * @return {module:model/HealthCheck} The populated <code>HealthCheck</code> instance.
     */
    static constructFromObject(data, obj) {
        if (data) {
            obj = obj || new HealthCheck();

            if (data.hasOwnProperty('health_checker')) {
                obj['health_checker'] = HealthCheckHealthChecker.constructFromObject(data['health_checker']);
            }
            if (data.hasOwnProperty('healthy_edge_interval_msec')) {
                obj['healthy_edge_interval_msec'] = ApiClient.convertToType(data['healthy_edge_interval_msec'], 'Number');
            }
            if (data.hasOwnProperty('healthy_threshold')) {
                obj['healthy_threshold'] = ApiClient.convertToType(data['healthy_threshold'], 'Number');
            }
            if (data.hasOwnProperty('interval_jitter_msec')) {
                obj['interval_jitter_msec'] = ApiClient.convertToType(data['interval_jitter_msec'], 'Number');
            }
            if (data.hasOwnProperty('interval_msec')) {
                obj['interval_msec'] = ApiClient.convertToType(data['interval_msec'], 'Number');
            }
            if (data.hasOwnProperty('no_traffic_interval_msec')) {
                obj['no_traffic_interval_msec'] = ApiClient.convertToType(data['no_traffic_interval_msec'], 'Number');
            }
            if (data.hasOwnProperty('reuse_connection')) {
                obj['reuse_connection'] = ApiClient.convertToType(data['reuse_connection'], 'Boolean');
            }
            if (data.hasOwnProperty('timeout_msec')) {
                obj['timeout_msec'] = ApiClient.convertToType(data['timeout_msec'], 'Number');
            }
            if (data.hasOwnProperty('unhealthy_edge_interval_msec')) {
                obj['unhealthy_edge_interval_msec'] = ApiClient.convertToType(data['unhealthy_edge_interval_msec'], 'Number');
            }
            if (data.hasOwnProperty('unhealthy_interval_msec')) {
                obj['unhealthy_interval_msec'] = ApiClient.convertToType(data['unhealthy_interval_msec'], 'Number');
            }
            if (data.hasOwnProperty('unhealthy_threshold')) {
                obj['unhealthy_threshold'] = ApiClient.convertToType(data['unhealthy_threshold'], 'Number');
            }
        }
        return obj;
    }

    /**
     * Validates the JSON data with respect to <code>HealthCheck</code>.
     * @param {Object} data The plain JavaScript object bearing properties of interest.
     * @return {boolean} to indicate whether the JSON data is valid with respect to <code>HealthCheck</code>.
     */
    static validateJSON(data) {
        // check to make sure all required properties are present in the JSON string
        for (const property of HealthCheck.RequiredProperties) {
            if (!data.hasOwnProperty(property)) {
                throw new Error("The required field `" + property + "` is not found in the JSON data: " + JSON.stringify(data));
            }
        }
        // validate the optional field `health_checker`
        if (data['health_checker']) { // data not null
          HealthCheckHealthChecker.validateJSON(data['health_checker']);
        }

        return true;
    }


}

HealthCheck.RequiredProperties = ["health_checker", "healthy_threshold", "interval_msec", "timeout_msec", "unhealthy_threshold"];

/**
 * @member {module:model/HealthCheckHealthChecker} health_checker
 */
HealthCheck.prototype['health_checker'] = undefined;

/**
 * Interval used for the first health check right after a host is marked as healthy. For subsequent health checks, the proxy will shift back to using the standard health check interval(\\'interval_msec\\') that is defined. Defaults to the same value as \\'interval_msec\\' if not specified. 
 * @member {Number} healthy_edge_interval_msec
 */
HealthCheck.prototype['healthy_edge_interval_msec'] = undefined;

/**
 * The number of healthy health checks required before a host is marked healthy. Note that during startup, only a single successful health check is required to mark a host healthy. 
 * @member {Number} healthy_threshold
 */
HealthCheck.prototype['healthy_threshold'] = undefined;

/**
 * An optional jitter amount that is added to each interval value calculated by the proxy. If not specified, defaults to 0. 
 * @member {Number} interval_jitter_msec
 */
HealthCheck.prototype['interval_jitter_msec'] = undefined;

/**
 * The interval between health checks. The first round of health checks will occur during startup before any traffic is routed to a cluster. This means that the \\'no_traffic_interval_msec\\' value will be used as the first interval of health checks. 
 * @member {Number} interval_msec
 */
HealthCheck.prototype['interval_msec'] = undefined;

/**
 * Interval used when a cluster has never had traffic routed to it. It allows cluster information to be kept up to date, without sending a potentially large amount of active health checking traffic for no reason. Once a cluster has been used for traffic routing, The proxy will shift back to using the standard health check interval that is defined. Note that this interval takes precedence over any other. Defaults to 60s. 
 * @member {Number} no_traffic_interval_msec
 */
HealthCheck.prototype['no_traffic_interval_msec'] = undefined;

/**
 * Whether or not to reuse health check connections between health checks. Default is true. 
 * @member {Boolean} reuse_connection
 */
HealthCheck.prototype['reuse_connection'] = undefined;

/**
 * The time to wait for a health check response. If the timeout is reached without a response, the health check attempt will be considered a failure. This is a required field and must be greater than 0. 
 * @member {Number} timeout_msec
 */
HealthCheck.prototype['timeout_msec'] = undefined;

/**
 * Interval used for the first health check right after a host is marked as unhealthy. For subsequent health checks, the proxy will shift back to using either \\'unhealthy_interval_msec\\' if present or the standard health check interval, \\'interval_msec\\'. 
 * @member {Number} unhealthy_edge_interval_msec
 */
HealthCheck.prototype['unhealthy_edge_interval_msec'] = undefined;

/**
 * Interval used for hosts that are marked as unhealthy. As soon as the host is marked as healthy, The proxy will shift back to using the standard health check interval that is defined. This defaults to the same value as \\'interval_msec\\' if not specified. 
 * @member {Number} unhealthy_interval_msec
 */
HealthCheck.prototype['unhealthy_interval_msec'] = undefined;

/**
 * The number of unhealthy health checks required before a host is marked unhealthy. Note that for *http* health checking, if a host responds with 503, this threshold is ignored and the host is considered unhealthy immediately. 
 * @member {Number} unhealthy_threshold
 */
HealthCheck.prototype['unhealthy_threshold'] = undefined;






export default HealthCheck;

