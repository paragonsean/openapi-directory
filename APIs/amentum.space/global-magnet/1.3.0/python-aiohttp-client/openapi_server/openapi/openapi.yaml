openapi: 3.0.0
info:
  contact:
    x-twitter: amentumspace
  description: "\nThe World Magnetic Model calculates the intensity and direction\
    \ of the Earth's magnetic field on a specific date-time, geodetic altitude, latitude,\
    \ and longitude. It is relied upon throughout the world for navigation, mineral\
    \ exploration, atmospheric and space science, and is installed on billions of\
    \ devices.  <br><br>\nA comprehensive description of the World Magnetic Model,\
    \ including its  limitations, can be found <a href='https://www.ngdc.noaa.gov/geomag/WMM/'>here</a>.\
    \  <br><br>\nWe provide a RESTful API to access the out-of-cycle  World Magnetic\
    \ Model (WMM2015v2) valid for years 2015.0 - 2020.0 and WMM2020 valid for years\
    \ 2020.0 - 2025.0<br><br>\nAPI requests must contain a key \"API-Key\" in the\
    \ header (see code samples). Obtain a key from  <a href='https://developer.amentum.io'>here</a>.\
    \ <br><br> \nAmentum Pty Ltd is not responsible nor liable for any loss or damage\
    \ of any sort incurred as a result of using the API. <br><br>\nHelp us improve\
    \ the quality of our web APIs by completing our 2 minute survey <a href=\"https://www.surveymonkey.com/r/CTDTRBN\"\
    >here</a>.<br><br>\nCopyright <a href='https://amentum.space'>Amentum Pty Ltd</a>\
    \ 2021.\n"
  title: Geomag API
  version: 1.3.0
  x-apisguru-categories:
  - location
  x-logo:
    altText: Amentum Aerospace
    backgroundColor: '#FFFFFF'
    url: https://twitter.com/amentumspace/profile_image?size=original
  x-origin:
  - format: openapi
    url: https://globalmagnet.amentum.space/wmm/openapi.json
    version: "3.0"
  x-providerName: amentum.space
  x-serviceName: global-magnet
servers:
- url: /wmm
paths:
  /magnetic_field:
    get:
      description: |
        at specified conditions.
      operationId: app_api_wmm_endpoints_wmm_magnetic_field
      parameters:
      - description: Geodetic Altitude 0 km to 600 km.
        explode: true
        in: query
        name: altitude
        required: true
        schema:
          example: 10
          type: number
        style: form
      - description: Geodetic Latitude. -90 deg (S) to 90 deg (N).
        explode: true
        in: query
        name: latitude
        required: true
        schema:
          example: 80
          type: number
        style: form
      - description: Geodetic Longitude. -180 deg (W) to 180 deg (E).
        explode: true
        in: query
        name: longitude
        required: true
        schema:
          example: 100
          type: number
        style: form
      - description: Year as a decimal in the range 2015-2025 (2017.5 would be half
          way through 2017).
        explode: true
        in: query
        name: year
        required: true
        schema:
          example: 2020.5
          type: number
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/app_api_wmm_endpoints_WMM_magnetic_field_200_response'
          description: Successful magnetic field intensity calculation
      summary: |
        Calculate magnetic declination, inclination, total field intensity, and grid variation
      x-codeSamples:
      - lang: Shell
        source: |
          curl -X GET "https://geomag.amentum.io/wmm/magnetic_field?altitude=10&latitude=80&longitude=100&year=2020.5" -H "API-Key: <your_key>" -H  "accept: application/json"
      - lang: Python
        source: "import json\nimport requests\n\nheaders = {\"API-Key\" : \"<add_your_key>\"\
          }\n\nhostname = \"https://geomag.amentum.io/wmm/magnetic_field\"\n\nparams\
          \ = dict(\n    altitude = 10, # [km]\n    longitude = 100, # [deg]\n   \
          \ latitude = 80, \n    year = 2020.5 # decimal year, half-way through 2020\n\
          )\n\ntry: \n  response = requests.get(hostname, params=params, headers=headers)\n\
          \  # extract JSON payload of response as Python dictionary\n  json_payload\
          \ = response.json()\n  # raise an Exception if we encoutnered any HTTP error\
          \ codes like 404 \n  response.raise_for_status()\nexcept requests.exceptions.ConnectionError\
          \ as e: \n  # handle any typo errors in url or endpoint, or just patchy\
          \ internet connection\n  print(e)\nexcept requests.exceptions.HTTPError\
          \ as e:  \n  # handle HTTP error codes in the response\n  print(e, json_payload['error'])\n\
          except requests.exceptions.RequestException as e:  \n  # general error handling\n\
          \  print(e, json_payload['error'])\nelse:\n  json_payload = response.json()\n\
          \  print(json.dumps(json_payload, indent=4, sort_keys=True))\n"
      - lang: Javascript
        source: "let url = 'https://geomag.amentum.io/wmm/magnetic_field?'\n\nvar\
          \ params = new URLSearchParams({\n  year: 2020.5, // decimal year, half-way\
          \ through 2020\n  latitude: 80, // [deg]\n  longitude: 100,\n  altitude:\
          \ 10 // [km]\n})\n\nvar requestOptions = {\n  method: 'GET',\n  redirect:\
          \ 'follow',\n  headers: {'API-Key': '<add_your_key>'} \n};\n\nfetch(url\
          \ + params, requestOptions)\n  .then(response => response.text())\n  .then(result\
          \ => console.log(result))\n  .catch(error => console.log('error', error));\n"
      x-openapi-router-controller: openapi_server.controllers.default_controller
components:
  parameters:
    Altitude:
      description: Geodetic Altitude 0 km to 600 km.
      explode: true
      in: query
      name: altitude
      required: true
      schema:
        example: 10
        type: number
      style: form
    Latitude:
      description: Geodetic Latitude. -90 deg (S) to 90 deg (N).
      explode: true
      in: query
      name: latitude
      required: true
      schema:
        example: 80
        type: number
      style: form
    Longitude:
      description: Geodetic Longitude. -180 deg (W) to 180 deg (E).
      explode: true
      in: query
      name: longitude
      required: true
      schema:
        example: 100
        type: number
      style: form
    Year:
      description: Year as a decimal in the range 2015-2025 (2017.5 would be half
        way through 2017).
      explode: true
      in: query
      name: year
      required: true
      schema:
        example: 2020.5
        type: number
      style: form
  schemas:
    app_api_wmm_endpoints_WMM_magnetic_field_200_response_inclination:
      description: "Also known as 'dip', is the angle made between the horizontal\
        \ plane and the magnetic field vector at some position. Positive inclination\
        \ corresponds to a downward pointing. \n"
      properties:
        units:
          title: units
          type: string
        value:
          title: value
          type: number
      title: app_api_wmm_endpoints_WMM_magnetic_field_200_response_inclination
      type: object
    app_api_wmm_endpoints_WMM_magnetic_field_200_response_grid_variation:
      description: |
        Referenced to grid north, referenced to 0 deg meridian of a polar stereographic projection.  Only defined for latitudes greater than 55 degrees and less than -55 degrees (arctic and antarctic).
      properties:
        units:
          title: units
          type: string
        value:
          title: value
          type: number
      title: app_api_wmm_endpoints_WMM_magnetic_field_200_response_grid_variation
      type: object
    app_api_wmm_endpoints_WMM_magnetic_field_200_response_total_intensity:
      description: |
        Total magnetic field intensity in nano Teslas.
      properties:
        units:
          title: units
          type: string
        value:
          title: value
          type: number
      title: app_api_wmm_endpoints_WMM_magnetic_field_200_response_total_intensity
      type: object
    app_api_wmm_endpoints_WMM_magnetic_field_200_response_declination:
      description: |
        The angle in the horizontal plane between magnetic north and true north. Declination is positive when magnetic north is east of true north.
      properties:
        units:
          title: units
          type: string
        value:
          title: value
          type: number
      title: app_api_wmm_endpoints_WMM_magnetic_field_200_response_declination
      type: object
    app_api_wmm_endpoints_WMM_magnetic_field_200_response:
      example:
        declination:
          units: Deg
          value: 34.144142150878906
        grid_variation:
          units: -65.8558578491211
          value: Deg
        inclination:
          units: Deg
          value: 87.98262786865234
        total_intensity:
          units: nT
          value: 58421.87109375
      properties:
        declination:
          $ref: '#/components/schemas/app_api_wmm_endpoints_WMM_magnetic_field_200_response_declination'
        grid_variation:
          $ref: '#/components/schemas/app_api_wmm_endpoints_WMM_magnetic_field_200_response_grid_variation'
        inclination:
          $ref: '#/components/schemas/app_api_wmm_endpoints_WMM_magnetic_field_200_response_inclination'
        total_intensity:
          $ref: '#/components/schemas/app_api_wmm_endpoints_WMM_magnetic_field_200_response_total_intensity'
      title: app_api_wmm_endpoints_WMM_magnetic_field_200_response
      type: object
