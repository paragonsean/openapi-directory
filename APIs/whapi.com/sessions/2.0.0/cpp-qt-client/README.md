# C++ Qt API client

# 

Sessions API

- API version: 2.0.0
- Generator version: 7.9.0

The William Hill Sessions API uses a central authentication service (CAS*) on all resources that require access to a customer’s account or betting functionality. To authenticate, you’ll need to supply a sportsbook username and password, in return you will be given an authentication ticket, which you can use on the majority of requests found within our services. <br /><br /><br /> The Sessions API should be used whenever you want to login a customer and:<br /><br /> <ul> <li>continue to use the William Hill API for that customer’s transactions</li> <li>use other CAS-enabled William Hill services outside the suite of APIs</li> </ul> <br /> CAS is an enterprise Single Sign-On solution for web services (see https://wiki.jasig.org/display/CAS/Home). It is used by many William Hill services. <br /> Note: all requests must be executed over HTTPS and include an API key and secret.<br /><br /><br /> <b>Authentication Ticket Expiration Times</b><br /><br /> When a customer is logged in using the Sessions API, they are given an Authentication Ticket; using this ticket on subsequent API requests gives you access to account activities (such as placing a bet, deposits, etc). However, this ticket is only valid for a given period of time depending on how it is used. If the ticket is used and then has a period of inactivity longer than 7,200 seconds (2 hours), then the ticket will expire and further requests using the ticket will be denied - in effect, a customer has been logged out and will need to authenticate again. <br /><br /><br /> Normally, any ticket issued only has a maximum life expectancy of 28,000 seconds (8 hours) after which it can no longer be used, even if it has been used regularly. The customer again will be effectively logged out and will need to authenticate again. If you wish to avoid this, you need to set the query parameter extended to Y, which will enable your application to generate a ticket valid for 60 days without expiring due to inactivity. <br />

  For more information, please visit [http://developer.williamhill.com](http://developer.williamhill.com)

*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*


## Requirements

Building the API client library requires:

1. CMake 3.2+
2. Qt
3. C++ Compiler

## Getting Started

example.h:
```c++

#include <iostream>
#include "../client/OAISessionsApi.h"

using namespace test_namespace;

class Example : public QObject {
    Q_OBJECT
    QString create();
    QString create();
    QString create();
    QString create();
    QString create();
    QString create();
    QList<QString> create();
    QList<QString> create();
    QList<QString> create();
public Q_SLOTS:
   void exampleFunction1();
};

```

example.cpp:
```c++

#include "../client/OAISessionsApi.h"
#include "example.h"
#include <QTimer>
#include <QEventLoop>

QString Example::create(){
    QString obj;
QString Example::create(){
    QString obj;
QString Example::create(){
    QString obj;
QString Example::create(){
    QString obj;
QString Example::create(){
    QString obj;
QString Example::create(){
    QString obj;
QList&lt;QString&gt; Example::create(){
    QList<QString> obj;
QList&lt;QString&gt; Example::create(){
    QList<QString> obj;
QList&lt;QString&gt; Example::create(){
    QList<QString> obj;
 return obj;
}

void Example::exampleFunction1(){
     OAISessionsApi apiInstance;
     
      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString api_key = create(); // QString | A unique identifier of your application that is generated by the API portal.

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString api_secret = create(); // QString | Another unique identifier for your application.

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString tgt = create(); // QString | Ticket Granting Ticket obtained from a previous request

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString target = create(); // QString | The target URL of the CAS enabled service that you want to use with the service ticket.

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString territory = create(); // QString | Territory from which request originates

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QString language_as_per_territory = create(); // QString | Defines response field name language, true (default) returns in language defined by territory, false returns in English

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QList<QString> fields = create(); // QList<QString> | Specify an absolute field list to return (Comma Separated List)

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QList<QString> include = create(); // QList<QString> | Specify fields in addition to the default to return (Comma Separated List)

      QEventLoop loop;
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAISessionsApi::getServiceTicketSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QList<QString> exclude = create(); // QList<QString> | Specify fields from the default to exclude (Comma Separated List)
      apiInstance.getServiceTicket(api_keyapi_secrettgttargetterritorylanguage_as_per_territoryfieldsincludeexclude);
      QTimer::singleShot(5000, &loop, &QEventLoop::quit);
      loop.exec();
  }

```

## Documentation for Servers

Parameterized Servers are supported. Define a server in the API for each endpoint with arbitrary numbers of variables:

```yaml
servers:
- url: http://{server}:{port}/{basePath}
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
    port:
      enum:
        - '3000'
        - '1000'
      default: '3000'
    basePath:
      default: v1
```
To change the default variable, use this function in each Api:
```c++
int setDefaultServerValue(int serverIndex,const QString &operation, const QString &variable,const QString &val);
```
The parameter "serverIndex" will choose a server from the server list for each endpoint. There is always at least one server with index 0. The Parameter "operation" should be the desired endpoint operationid.
Variable is the name of the variable you wish to change and the value is the new default Value.
The function will return -1 when the variable does not exists, -2 if value is not defined in the variable enum and -3 if the operation is not found.

If your endpoint has multiple server objects in the servers array, you can set the server that will be used with this function:
```c++
void setServerIndex(const QString &operation, int serverIndex);
```
Parameter "operation" should be your operationid. "serverIndex" is the index you want to set as your default server. The function will check if there is a server with your index.
Here is an example of multiple servers in the servers array. The first server will have index 0 and the second will have index 1.
```yaml
servers:
- url: http://{server}:8080/
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
- url: https://localhost:8080/v1
```

## Documentation for Authorization

All endpoints do not require authorization.
Authentication schemes defined for the API:

## Author

platform@williamhill.com


## License

 for more information visit []()