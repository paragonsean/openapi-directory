openapi: 3.0.1
info:
  description: The HDInsight Job Client.
  title: HDInsightJobManagementClient
  version: 2018-11-01-preview
  x-apisguru-categories:
  - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
  - format: swagger
    url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/hdinsight/data-plane/Microsoft.HDInsight/preview/2018-11-01-preview/job.json
    version: "2.0"
  x-providerName: azure.com
  x-serviceName: hdinsight-job
  x-tags:
  - Azure
  - Microsoft
servers:
- url: https://azure.local/
security:
- azure_auth:
  - user_impersonation
paths:
  /templeton/v1/hive:
    post:
      description: Submits a Hive job to an HDInsight cluster.
      operationId: job_submit_hive_job
      parameters:
      - description: The user name used for running job.
        in: query
        name: user.name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      requestBody:
        content:
          application/text:
            schema:
              format: file
              type: object
        description: The content of the Hive job request.
        required: true
        x-body-name: content
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobSubmissionJsonResponse'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Submits a Hive job to an HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            content: execute=select%20querydwelltime%2B2%20from%20hivesampletable%20where%20clientid%20%3D%208&statusdir=2018-10-30T10-13-36-30513317-c398-4da0-a98c-57db43750f3a
            user.name: admin
          responses:
            "200":
              body:
                id: job_1540456943299_0046
      x-codegen-request-body-name: content
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/jobs:
    get:
      description: Gets the list of jobs from the specified HDInsight cluster.
      operationId: job_list
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      - description: "If showall is set to 'true', the request will return all jobs\
          \ the user has permission to view, not only the jobs belonging to the user."
        in: query
        name: showall
        required: true
        schema:
          enum:
          - "true"
          type: string
      - description: "If fields set to '*', the request will return full details of\
          \ the job. Currently the value can only be '*'."
        in: query
        name: fields
        required: true
        schema:
          enum:
          - '*'
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/JobListJsonObject'
                type: array
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Gets the list of jobs from the specified HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            fields: '*'
            showall: "true"
            user.name: admin
          responses:
            "200":
              body:
              - detail:
                  id: job_1542085634998_0027
                  profile:
                    jobFile: /mapreducestaging/testuser11750/.staging/job_1542085634998_0027/job.xml
                    jobID:
                      id: 27
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0027
                    jobName: TempletonControllerJob
                    queueName: default
                    url: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0027/
                    user: testuser11750
                  status:
                    cleanupProgress: 0
                    failureInfo: NA
                    finishTime: 0
                    historyFile: ""
                    jobACLs: {}
                    jobComplete: false
                    jobFile: /mapreducestaging/testuser11750/.staging/job_1542085634998_0027/job.xml
                    jobID:
                      id: 27
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0027
                    jobName: TempletonControllerJob
                    jobPriority: NORMAL
                    mapProgress: 0
                    neededMem: 0
                    numReservedSlots: 0
                    numUsedSlots: 0
                    priority: NORMAL
                    queue: default
                    reduceProgress: 0
                    reservedMem: 0
                    retired: false
                    runState: 4
                    schedulingInfo: NA
                    setupProgress: 0
                    startTime: 1542088296429
                    state: PREP
                    trackingUrl: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0027/
                    uber: false
                    usedMem: 0
                    username: testuser11750
                  user: testuser11750
                  userargs:
                    define: []
                    enablelog: "false"
                    execute: select querydwelltime+2 from hivesampletable where clientid
                      = 8
                id: job_1542085634998_0027
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/jobs/{jobId}:
    delete:
      description: Initiates cancel on given running job in the specified HDInsight.
      operationId: job_kill
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      - description: The id of the job.
        in: path
        name: jobId
        required: true
        schema:
          minLength: 1
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobDetailRootJsonObject'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Initiates cancel on given running job in the specified HDInsight.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            jobId: job_1542085634998_0007
            user.name: admin
          responses:
            "200":
              body:
                id: job_1542085634998_0007
                profile:
                  jobFile: /mapreducestaging/testuser11750/.staging/job_1542085634998_0007/job.xml
                  jobID:
                    id: 7
                    jtIdentifier: "1542085634998"
                  jobId: job_1542085634998_0007
                  jobName: TempletonControllerJob
                  queueName: default
                  url: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/cluster/app/application_1542085634998_0007
                  user: testuser11750
                status:
                  cleanupProgress: 0
                  failureInfo: NA
                  finishTime: 1542087305443
                  historyFile: ""
                  jobACLs: {}
                  jobComplete: true
                  jobFile: /mapreducestaging/testuser11750/.staging/job_1542085634998_0007/job.xml
                  jobID:
                    id: 7
                    jtIdentifier: "1542085634998"
                  jobId: job_1542085634998_0007
                  jobName: TempletonControllerJob
                  jobPriority: NORMAL
                  mapProgress: 0
                  neededMem: 0
                  numReservedSlots: 0
                  numUsedSlots: 0
                  priority: NORMAL
                  queue: default
                  reduceProgress: 0
                  reservedMem: 0
                  retired: false
                  runState: 5
                  schedulingInfo: NA
                  setupProgress: 0
                  startTime: 1542087304445
                  state: KILLED
                  trackingUrl: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/cluster/app/application_1542085634998_0007
                  uber: false
                  usedMem: 0
                  username: testuser11750
                user: testuser11750
                userargs:
                  arg:
                  - "10"
                  - "1000"
                  class: pi
                  define:
                  - mapreduce.map.maxattempts=10
                  - mapreduce.reduce.maxattempts=10
                  - mapreduce.task.timeout=60000
                  enablelog: "false"
                  jar: /example/jars/hadoop-mapreduce-examples.jar
                  statusdir: 2018-11-13T05-35-01-6f79af0f-6157-494a-a03e-eabb190a0c10
      x-openapi-router-controller: openapi_server.controllers.job_controller
    get:
      description: Gets job details from the specified HDInsight cluster.
      operationId: job_get
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      - description: The id of the job.
        in: path
        name: jobId
        required: true
        schema:
          type: string
      - description: "If fields set to '*', the request will return full details of\
          \ the job. Currently the value can only be '*'."
        in: query
        name: fields
        required: true
        schema:
          enum:
          - '*'
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobDetailRootJsonObject'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Gets job details from the specified HDInsight cluster:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            fields: '*'
            jobId: job_1542085634998_0024
            user.name: admin
          responses:
            "200":
              body:
                completed: done
                exitValue: 0
                id: job_1542085634998_0024
                profile:
                  jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mr-history/done/2018/11/13/000000/job_1542085634998_0024_conf.xml
                  jobID:
                    id: 24
                    jtIdentifier: "1542085634998"
                  jobId: job_1542085634998_0024
                  jobName: TempletonControllerJob
                  queueName: default
                  user: testuser11750
                status:
                  cleanupProgress: 0
                  failureInfo: NA
                  finishTime: 1542088277769
                  historyFile: ""
                  jobACLs: {}
                  jobComplete: true
                  jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mr-history/done/2018/11/13/000000/job_1542085634998_0024_conf.xml
                  jobID:
                    id: 24
                    jtIdentifier: "1542085634998"
                  jobId: job_1542085634998_0024
                  jobName: TempletonControllerJob
                  jobPriority: NORMAL
                  mapProgress: 1
                  neededMem: 0
                  numReservedSlots: 0
                  numUsedSlots: 0
                  priority: NORMAL
                  queue: default
                  reduceProgress: 1
                  reservedMem: 0
                  retired: false
                  runState: 2
                  schedulingInfo: NA
                  setupProgress: 0
                  startTime: 1542088206436
                  state: SUCCEEDED
                  trackingUrl: hn1-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:19888/jobhistory/job/job_1542085634998_0024
                  uber: false
                  usedMem: 0
                  username: testuser11750
                user: testuser11750
                userargs:
                  define: []
                  enablelog: "false"
                  execute: select querydwelltime+2 from hivesampletable where clientid
                    = 8
                  statusdir: 2018-11-13T05-49-52-4418fce1-e92e-4732-bc12-f2a3b8ef4432
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/jobs?op=LISTAFTERID:
    get:
      description: Gets numrecords Of Jobs after jobid from the specified HDInsight
        cluster.
      operationId: job_list_after_job_id
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      - description: JobId from where to list jobs.
        in: query
        name: jobid
        schema:
          type: string
      - description: Number of jobs to fetch.
        in: query
        name: numrecords
        schema:
          format: int32
          minimum: 1
          type: integer
      - description: "If showall is set to 'true', the request will return all jobs\
          \ the user has permission to view, not only the jobs belonging to the user."
        in: query
        name: showall
        required: true
        schema:
          enum:
          - "true"
          type: string
      - description: "If fields set to '*', the request will return full details of\
          \ the job. Currently the value can only be '*'."
        in: query
        name: fields
        required: true
        schema:
          enum:
          - '*'
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/JobListJsonObject'
                type: array
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Gets numOfJobs after jobId from the specified HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            fields: '*'
            jobId: job_1542085634998_0029
            numrecords: 3
            showall: "true"
            user.name: admin
          responses:
            "200":
              body:
              - detail:
                  id: job_1542085634998_0028
                  profile:
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mapreducestaging/testuser11750/.staging/job_1542085634998_0028/job.xml
                    jobID:
                      id: 28
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0028
                    jobName: TempletonControllerJob
                    queueName: default
                    url: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0028/
                    user: yarn
                  status:
                    cleanupProgress: 0
                    failureInfo: NA
                    finishTime: 0
                    historyFile: ""
                    jobACLs: {}
                    jobComplete: false
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mapreducestaging/testuser11750/.staging/job_1542085634998_0028/job.xml
                    jobID:
                      id: 28
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0028
                    jobName: TempletonControllerJob
                    jobPriority: NORMAL
                    mapProgress: 0
                    neededMem: 0
                    numReservedSlots: 0
                    numUsedSlots: 0
                    priority: NORMAL
                    queue: default
                    reduceProgress: 0
                    reservedMem: 0
                    retired: false
                    runState: 1
                    schedulingInfo: NA
                    setupProgress: 1
                    startTime: 1542088315731
                    state: RUNNING
                    trackingUrl: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0028/
                    uber: false
                    usedMem: 0
                    username: yarn
                  user: yarn
                  userargs:
                    define: []
                    enablelog: "false"
                    execute: select querydwelltime+2 from hivesampletable where clientid
                      = 8
                id: job_1542085634998_0028
              - detail:
                  id: job_1542085634998_0027
                  profile:
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mapreducestaging/testuser11750/.staging/job_1542085634998_0027/job.xml
                    jobID:
                      id: 27
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0027
                    jobName: TempletonControllerJob
                    queueName: default
                    url: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0027/
                    user: yarn
                  status:
                    cleanupProgress: 0
                    failureInfo: NA
                    finishTime: 0
                    historyFile: ""
                    jobACLs: {}
                    jobComplete: false
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mapreducestaging/testuser11750/.staging/job_1542085634998_0027/job.xml
                    jobID:
                      id: 27
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0027
                    jobName: TempletonControllerJob
                    jobPriority: NORMAL
                    mapProgress: 0
                    neededMem: 0
                    numReservedSlots: 0
                    numUsedSlots: 0
                    priority: NORMAL
                    queue: default
                    reduceProgress: 0
                    reservedMem: 0
                    retired: false
                    runState: 1
                    schedulingInfo: NA
                    setupProgress: 1
                    startTime: 1542088307280
                    state: RUNNING
                    trackingUrl: http://hn0-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:8088/proxy/application_1542085634998_0027/
                    uber: false
                    usedMem: 0
                    username: yarn
                  user: yarn
                  userargs:
                    define: []
                    enablelog: "false"
                    execute: select querydwelltime+2 from hivesampletable where clientid
                      = 8
                id: job_1542085634998_0027
              - detail:
                  id: job_1542085634998_0025
                  parentId: job_1542085634998_0023
                  profile:
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mr-history/done/2018/11/13/000000/job_1542085634998_0025_conf.xml
                    jobID:
                      id: 25
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0025
                    jobName: QuasiMonteCarlo
                    queueName: default
                    user: testuser11750
                  status:
                    cleanupProgress: 0
                    failureInfo: NA
                    finishTime: 1542088250019
                    historyFile: ""
                    jobACLs: {}
                    jobComplete: true
                    jobFile: wasb://testcontainer11549@testazureblob1114.blob.core.windows.net/mr-history/done/2018/11/13/000000/job_1542085634998_0025_conf.xml
                    jobID:
                      id: 25
                      jtIdentifier: "1542085634998"
                    jobId: job_1542085634998_0025
                    jobName: QuasiMonteCarlo
                    jobPriority: NORMAL
                    mapProgress: 1
                    neededMem: 0
                    numReservedSlots: 0
                    numUsedSlots: 0
                    priority: NORMAL
                    queue: default
                    reduceProgress: 1
                    reservedMem: 0
                    retired: false
                    runState: 2
                    schedulingInfo: NA
                    setupProgress: 0
                    startTime: 1542088225363
                    state: SUCCEEDED
                    trackingUrl: hn1-testcl.422g4qa5a0lehgxxtnagxxuu2h.ex.internal.cloudapp.net:19888/jobhistory/job/job_1542085634998_0025
                    uber: false
                    usedMem: 0
                    username: testuser11750
                  user: testuser11750
                  userargs: {}
                id: job_1542085634998_0025
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/mapreduce/jar:
    post:
      description: Submits a MapReduce job to an HDInsight cluster.
      operationId: job_submit_map_reduce_job
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      requestBody:
        content:
          text/plain:
            schema:
              format: file
              type: object
        description: The content of the MapReduce job request.
        required: true
        x-body-name: content
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobSubmissionJsonResponse'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Submits a MapReduce job to an HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            content: jar=%2Fexample%2Fjars%2Fhadoop-mapreduce-examples.jar&class=pi&arg=10&arg=1000&define=mapreduce.map.maxattempts%3D10&define=mapreduce.reduce.maxattempts%3D10&define=mapreduce.task.timeout%3D60000&statusdir=2018-10-30T10-12-29-595ef52d-583c-4b17-987b-675e4f8eea8f
            user.name: admin
          responses:
            "200":
              body:
                id: job_1540456943299_0046
      x-codegen-request-body-name: content
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/mapreduce/streaming:
    post:
      description: Submits a MapReduce streaming job to an HDInsight cluster.
      operationId: job_submit_map_reduce_streaming_job
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      requestBody:
        content:
          text/plain:
            schema:
              format: file
              type: object
        description: The content of the MapReduce job request.
        required: true
        x-body-name: content
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobSubmissionJsonResponse'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Submits a MapReduce streaming job to an HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            content: input=%2Fexample%2Fdata%2Fgutenberg%2Fdavinci.txt&output=%2Fexample%2Fdata%2Fgutenberg%2Fwcount%2F3745c39c-0115-4735-a9eb-c57de9a29dcd&mapper=cat&reducer=wc&statusdir=2018-10-30T11-40-44-eb9dc5c1-99dd-4282-9d4a-a77c8ffb6b35
            user.name: admin
          responses:
            "200":
              body:
                id: job_1540456943299_0046
      x-codegen-request-body-name: content
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/pig:
    post:
      description: Submits a Pig job to an HDInsight cluster.
      operationId: job_submit_pig_job
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      requestBody:
        content:
          text/plain:
            schema:
              format: file
              type: object
        description: The content of the Pig job request.
        required: true
        x-body-name: content
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobSubmissionJsonResponse'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Submits a Pig job to an HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            content: execute=LOGS%20%3D%20LOAD%20%27wasb%3A%2F%2F%2Fexample%2Fdata%2Fsample.log%27%3BLEVELS%20%3D%20foreach%20LOGS%20generate%20REGEX_EXTRACT%28%240%2C%20%27%28TRACE%7CDEBUG%7CINFO%7CWARN%7CERROR%7CFATAL%29%27%2C%201%29%20%20as%20LOGLEVEL%3BFILTEREDLEVELS%20%3D%20FILTER%20LEVELS%20by%20LOGLEVEL%20is%20not%20null%3BGROUPEDLEVELS%20%3D%20GROUP%20FILTEREDLEVELS%20by%20LOGLEVEL%3BFREQUENCIES%20%3D%20foreach%20GROUPEDLEVELS%20generate%20group%20as%20LOGLEVEL%2C%20COUNT%28FILTEREDLEVELS.LOGLEVEL%29%20as%20COUNT%3BRESULT%20%3D%20order%20FREQUENCIES%20by%20COUNT%20desc%3BDUMP%20RESULT%3B&statusdir=2018-10-30T12-44-24-bd642975-9a89-4480-aea7-3ee1f34016ec
            user.name: admin
          responses:
            "200":
              body:
                id: job_1540456943299_0046
      x-codegen-request-body-name: content
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /templeton/v1/sqoop:
    post:
      description: Submits a Sqoop job to an HDInsight cluster.
      operationId: job_submit_sqoop_job
      parameters:
      - description: The user name used for running job.
        in: query
        name: user_name
        required: true
        schema:
          type: string
          x-ms-parameter-location: client
        x-ms-parameter-location: client
      requestBody:
        content:
          text/plain:
            schema:
              format: file
              type: object
        description: The content of the Sqoop job request.
        required: true
        x-body-name: content
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobSubmissionJsonResponse'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Submits a Sqoop job to an HDInsight cluster.:
          parameters:
            clusterDnsName: cluster.azurehdinsight.net
            content: command=import%20--connect%20jdbc%3Asqlserver%3A%2F%2Fdongwwahdi.database.windows.net%3A1433%3Bdatabase%3DHdInsightJobTest%3Buser%3Ddongwwaadmin%3Bpassword%3DHDInsight123%21%3B%20--table%20dept%20--warehouse-dir%20%2Fuser%2Fadmin%2Fsqoop%2F25c8b9f9-dbc1-4096-aa42-45f2868ab782%20--hive-import%20-m%201%20--hive-table%20deptd3175062928d4170831ac17d2eefdaeb&statusdir=SqoopStatus
            user.name: admin
          responses:
            "200":
              body:
                id: job_1540456943299_0046
      x-codegen-request-body-name: content
      x-openapi-router-controller: openapi_server.controllers.job_controller
  /ws/v1/cluster/apps/{appId}/state:
    get:
      description: Gets application state from the specified HDInsight cluster.
      operationId: job_get_app_state
      parameters:
      - description: The id of the job.
        in: path
        name: appId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppState'
          description: OK response definition.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationsErrorResponse'
          description: Error response describing why the operation failed.
      tags:
      - Job
      x-ms-examples:
        Gets application state from the specified HDInsight cluster.:
          parameters:
            appId: application_1462754318084_0071
            clusterDnsName: cluster.azurehdinsight.net
          responses:
            "200":
              body:
                state: ACCEPTED
      x-openapi-router-controller: openapi_server.controllers.job_controller
components:
  parameters:
    UserNameParameter:
      description: The user name used for running job.
      in: query
      name: user.name
      required: true
      schema:
        type: string
        x-ms-parameter-location: client
      x-ms-parameter-location: client
    clusterDnsNameParameter:
      description: The cluster dns name against which the job management is to be.
      in: path
      name: clusterDnsName
      required: true
      schema:
        type: string
        x-ms-parameter-location: client
        x-ms-skip-url-encoding: true
      x-ms-parameter-location: client
      x-ms-skip-url-encoding: true
  schemas:
    AppState:
      description: The State of the application.
      example:
        state: NEW
      properties:
        state:
          description: The State of the application.
          enum:
          - NEW
          - NEW_SAVING
          - SUBMITTED
          - ACCEPTED
          - RUNNING
          - FINISHED
          - FINISHING
          - FAILED
          - KILLED
          title: state
          type: string
          x-ms-enum:
            modelAsString: false
            name: ApplicationState
      title: AppState
      type: object
    JobACLs:
      description: The object containing the job ACLs.
      title: JobACLs
      type: object
    JobDetailRootJsonObject:
      description: The object containing the job details.
      example:
        msg: "{}"
        exitValue: 0
        profile:
          jobName: jobName
          jobID:
            jtIdentifier: jtIdentifier
            id: 6
          jobId: jobId
          queueName: queueName
          jobFile: jobFile
          user: user
          url: url
        callback: "{}"
        completed: completed
        id: id
        percentComplete: percentComplete
        userargs:
          statusdir: "{}"
          file: "{}"
          arg:
          - arg
          - arg
          define:
          - define
          - define
          enablelog: enablelog
          callback: "{}"
          files: "{}"
          jar: jar
          execute: execute
        user: user
        parentId: parentId
        status:
          historyFile: historyFile
          jobACLs: "{}"
          trackingUrl: trackingUrl
          reduceProgress: 3.616076749251911
          reservedMem: 2
          setupProgress: 7.386281948385884
          jobComplete: true
          uber: true
          cleanupProgress: 1.4658129805029452
          jobID:
            jtIdentifier: jtIdentifier
            id: 6
          neededMem: 2
          retired: true
          startTime: 1
          state: state
          jobFile: jobFile
          jobPriority: jobPriority
          jobName: jobName
          finishTime: 5
          numUsedSlots: 9
          priority: priority
          usedMem: 1
          numReservedSlots: 7
          failureInfo: failureInfo
          jobId: jobId
          schedulingInfo: schedulingInfo
          mapProgress: 5.637376656633329
          runState: 4
          queue: queue
          username: username
      properties:
        callback:
          description: "The callback URL, if any."
          properties: {}
          title: callback
          type: object
        completed:
          description: "The string representing completed status, for example 'done'."
          title: completed
          type: string
        exitValue:
          description: The job's exit value.
          format: int32
          title: exitValue
          type: integer
        id:
          description: The job ID.
          title: id
          type: string
        msg:
          description: The message returned.
          properties: {}
          title: msg
          type: object
        parentId:
          description: The parent job ID.
          title: parentId
          type: string
        percentComplete:
          description: "The job completion percentage, for example '75% complete'."
          title: percentComplete
          type: string
        profile:
          $ref: '#/components/schemas/Profile'
        status:
          $ref: '#/components/schemas/Status'
        user:
          description: The user name of the job creator.
          title: user
          type: string
        userargs:
          $ref: '#/components/schemas/Userargs'
      title: JobDetailRootJsonObject
      type: object
    JobID:
      description: The object with the Job ID.
      example:
        jtIdentifier: jtIdentifier
        id: 6
      properties:
        id:
          description: The job number.
          format: int64
          title: id
          type: integer
        jtIdentifier:
          description: The jobTracker identifier.
          title: jtIdentifier
          type: string
      title: JobID
      type: object
    JobListJsonObject:
      description: The List Job operation response.
      example:
        detail:
          msg: "{}"
          exitValue: 0
          profile:
            jobName: jobName
            jobID:
              jtIdentifier: jtIdentifier
              id: 6
            jobId: jobId
            queueName: queueName
            jobFile: jobFile
            user: user
            url: url
          callback: "{}"
          completed: completed
          id: id
          percentComplete: percentComplete
          userargs:
            statusdir: "{}"
            file: "{}"
            arg:
            - arg
            - arg
            define:
            - define
            - define
            enablelog: enablelog
            callback: "{}"
            files: "{}"
            jar: jar
            execute: execute
          user: user
          parentId: parentId
          status:
            historyFile: historyFile
            jobACLs: "{}"
            trackingUrl: trackingUrl
            reduceProgress: 3.616076749251911
            reservedMem: 2
            setupProgress: 7.386281948385884
            jobComplete: true
            uber: true
            cleanupProgress: 1.4658129805029452
            jobID:
              jtIdentifier: jtIdentifier
              id: 6
            neededMem: 2
            retired: true
            startTime: 1
            state: state
            jobFile: jobFile
            jobPriority: jobPriority
            jobName: jobName
            finishTime: 5
            numUsedSlots: 9
            priority: priority
            usedMem: 1
            numReservedSlots: 7
            failureInfo: failureInfo
            jobId: jobId
            schedulingInfo: schedulingInfo
            mapProgress: 5.637376656633329
            runState: 4
            queue: queue
            username: username
        id: id
      properties:
        detail:
          $ref: '#/components/schemas/JobDetailRootJsonObject'
        id:
          description: The Id of the job.
          title: id
          type: string
      title: JobListJsonObject
      type: object
    JobOperationsErrorResponse:
      description: Describes the format of Error response.
      example:
        error: error
      properties:
        error:
          description: Error message indicating why the operation failed.
          title: error
          type: string
      title: JobOperationsErrorResponse
      type: object
    JobSubmissionJsonResponse:
      description: The job submission json response.
      example:
        id: id
      properties:
        id:
          description: The Id of the created job.
          title: id
          type: string
      title: JobSubmissionJsonResponse
      type: object
    Profile:
      description: The object containing the job profile information.
      example:
        jobName: jobName
        jobID:
          jtIdentifier: jtIdentifier
          id: 6
        jobId: jobId
        queueName: queueName
        jobFile: jobFile
        user: user
        url: url
      properties:
        jobFile:
          description: The job configuration file.
          title: jobFile
          type: string
        jobID:
          $ref: '#/components/schemas/JobID'
        jobId:
          description: The full ID of the job.
          title: jobId
          type: string
        jobName:
          description: The user-specified job name.
          title: jobName
          type: string
        queueName:
          description: The name of the queue to which the job is submitted.
          title: queueName
          type: string
        url:
          description: The link to the web-ui for details of the job.
          title: url
          type: string
        user:
          description: The userid of the person who submitted the job.
          title: user
          type: string
      title: Profile
      type: object
    Status:
      description: Gets or sets the object containing the job status information.
      example:
        historyFile: historyFile
        jobACLs: "{}"
        trackingUrl: trackingUrl
        reduceProgress: 3.616076749251911
        reservedMem: 2
        setupProgress: 7.386281948385884
        jobComplete: true
        uber: true
        cleanupProgress: 1.4658129805029452
        jobID:
          jtIdentifier: jtIdentifier
          id: 6
        neededMem: 2
        retired: true
        startTime: 1
        state: state
        jobFile: jobFile
        jobPriority: jobPriority
        jobName: jobName
        finishTime: 5
        numUsedSlots: 9
        priority: priority
        usedMem: 1
        numReservedSlots: 7
        failureInfo: failureInfo
        jobId: jobId
        schedulingInfo: schedulingInfo
        mapProgress: 5.637376656633329
        runState: 4
        queue: queue
        username: username
      properties:
        cleanupProgress:
          description: The progress made on the cleanup.
          format: double
          title: cleanupProgress
          type: number
        failureInfo:
          description: The information about any failures that have occurred.
          title: failureInfo
          type: string
        finishTime:
          description: "The time at which the job completed. It is an integer in milliseconds,\
            \ as a Unix timestamp relative to 1/1/1970 00:00:00."
          format: int64
          title: finishTime
          type: integer
        historyFile:
          description: The history file of the job.
          title: historyFile
          type: string
        jobACLs:
          description: The object containing the job ACLs.
          title: JobACLs
          type: object
        jobComplete:
          description: Whether or not the job has completed.
          title: jobComplete
          type: boolean
        jobFile:
          description: The job configuration file.
          title: jobFile
          type: string
        jobID:
          $ref: '#/components/schemas/JobID'
        jobId:
          description: The full ID of the job.
          title: jobId
          type: string
        jobName:
          description: The user-specified job name.
          title: jobName
          type: string
        jobPriority:
          description: The priority of the job.
          title: jobPriority
          type: string
        mapProgress:
          description: The progress made on the maps.
          format: double
          title: mapProgress
          type: number
        neededMem:
          description: The amount of memory needed for the job.
          format: int64
          title: neededMem
          type: integer
        numReservedSlots:
          description: The number of slots reserved.
          format: int32
          title: numReservedSlots
          type: integer
        numUsedSlots:
          description: The number of slots used for the job.
          format: int32
          title: numUsedSlots
          type: integer
        priority:
          description: The priority of the job.
          title: priority
          type: string
        queue:
          description: The job queue name.
          title: queue
          type: string
        reduceProgress:
          description: The progress made on the reduces.
          format: double
          title: reduceProgress
          type: number
        reservedMem:
          description: The amount of memory reserved for the job.
          format: int64
          title: reservedMem
          type: integer
        retired:
          description: 'Whether or not the job has been retired. '
          title: retired
          type: boolean
        runState:
          description: The current state of the job.
          format: int32
          title: runState
          type: integer
        schedulingInfo:
          description: The information about the scheduling of the job.
          title: schedulingInfo
          type: string
        setupProgress:
          description: The progress made on the setup.
          format: double
          title: setupProgress
          type: number
        startTime:
          description: "The time at which the job started. It is an integer in milliseconds,\
            \ as a Unix timestamp relative to 1/1/1970 00:00:00."
          format: int64
          title: startTime
          type: integer
        state:
          description: The state of the job.
          title: state
          type: string
        trackingUrl:
          description: The link to the web-ui for details of the job.
          title: trackingUrl
          type: string
        uber:
          description: Whether job running in uber mode.
          title: uber
          type: boolean
        usedMem:
          description: The amount of memory used by the job.
          format: int64
          title: usedMem
          type: integer
        username:
          description: The userid of the person who submitted the job.
          title: username
          type: string
      title: Status
      type: object
    Userargs:
      description: Gets or sets the object containing the user arguments.
      example:
        statusdir: "{}"
        file: "{}"
        arg:
        - arg
        - arg
        define:
        - define
        - define
        enablelog: enablelog
        callback: "{}"
        files: "{}"
        jar: jar
        execute: execute
      properties:
        arg:
          description: The list of args defined by the user.
          items:
            type: string
          readOnly: true
          title: arg
          type: array
        callback:
          description: "The callback URL, if any."
          properties: {}
          title: callback
          type: object
        define:
          description: The define properties defined by the user.
          items:
            type: string
          readOnly: true
          title: define
          type: array
        enablelog:
          description: Whether or not the user enabled logs.
          title: enablelog
          type: string
        execute:
          description: The query defined by the user.
          title: execute
          type: string
        file:
          description: The query file provided by the user.
          properties: {}
          title: file
          type: object
        files:
          description: The files defined by the user.
          properties: {}
          title: files
          type: object
        jar:
          description: The JAR file provided by the user.
          title: jar
          type: string
        statusdir:
          description: The status directory defined by the user.
          properties: {}
          title: statusdir
          type: object
      title: Userargs
      type: object
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
      type: oauth2
      x-tokenInfoFunc: openapi_server.controllers.security_controller.info_from_azure_auth
      x-scopeValidateFunc: openapi_server.controllers.security_controller.validate_scope_azure_auth
x-ms-parameterized-host:
  hostTemplate: "{clusterDnsName}"
  parameters:
  - $ref: '#/parameters/clusterDnsNameParameter'
x-original-swagger-version: "2.0"
