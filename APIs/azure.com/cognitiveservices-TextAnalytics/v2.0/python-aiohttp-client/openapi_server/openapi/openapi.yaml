openapi: 3.0.1
info:
  contact:
    email: mlapi@microsoft.com
    name: Microsoft Cognitive Services
    url: https://azure.microsoft.com/en-us/services/cognitive-services/text-analytics/
  description: "The Text Analytics API is a suite of text analytics web services built\
    \ with best-in-class Microsoft machine learning algorithms. The API can be used\
    \ to analyze unstructured text for tasks such as sentiment analysis, key phrase\
    \ extraction and language detection. No training data is needed to use this API;\
    \ just bring your text data. This API uses advanced natural language processing\
    \ techniques to deliver best in class predictions. Further documentation can be\
    \ found in https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview"
  title: Text Analytics Client
  version: v2.0
  x-apisguru-categories:
  - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
  - format: swagger
    url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/cognitiveservices/data-plane/TextAnalytics/stable/v2.0/TextAnalytics.json
    version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: cognitiveservices-TextAnalytics
  x-tags:
  - Azure
  - Microsoft
servers:
- url: https://azure.local/
security:
- apim_key: []
paths:
  /entities:
    post:
      deprecated: false
      description: To get even more information on each recognized entity we recommend
        using the Bing Entity Search API by querying for the recognized entities names.
        See the <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/text-analytics-supported-languages">Supported
        languages in Text Analytics API</a> for the list of enabled languages.
      operationId: entities
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MultiLanguageBatchInput'
        description: Collection of documents to analyze.
        required: true
        x-body-name: input
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EntitiesBatchResult'
          description: A successful call results in a list of recognized entities
            returned for each valid document
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Error Response
      summary: The API returns a list of recognized entities in a given document.
      tags:
      - Entities
      x-ms-examples:
        Successful Entities request:
          parameters:
            Endpoint: "{Endpoint}"
            Ocp-Apim-Subscription-Key: "{API key}"
            input:
              documents:
              - id: "1"
                language: en
                text: Microsoft released Windows 10
              - id: "2"
                language: en
                text: "In 1975, Bill Gates III and Paul Allen founded the company."
          responses:
            "200":
              body:
                documents:
                - entities:
                  - bingId: 5f9fbd03-49c4-39ef-cc95-de83ab897b94
                    matches:
                    - length: 10
                      offset: 19
                      text: Windows 10
                    name: Windows 10
                    wikipediaId: Windows 10
                    wikipediaLanguage: en
                    wikipediaUrl: https://en.wikipedia.org/wiki/Windows_10
                  - bingId: a093e9b9-90f5-a3d5-c4b8-5855e1b01f85
                    matches:
                    - length: 9
                      offset: 0
                      text: Microsoft
                    name: Microsoft
                    wikipediaId: Microsoft
                    wikipediaLanguage: en
                    wikipediaUrl: https://en.wikipedia.org/wiki/Microsoft
                  id: "1"
                - entities:
                  - bingId: 0d47c987-0042-5576-15e8-97af601614fa
                    matches:
                    - length: 14
                      offset: 9
                      text: Bill Gates III
                    name: Bill Gates
                    wikipediaId: Bill Gates
                    wikipediaLanguage: en
                    wikipediaUrl: https://en.wikipedia.org/wiki/Bill_Gates
                  - bingId: df2c4376-9923-6a54-893f-2ee5a5badbc7
                    matches:
                    - length: 10
                      offset: 28
                      text: Paul Allen
                    name: Paul Allen
                    wikipediaId: Paul Allen
                    wikipediaLanguage: en
                    wikipediaUrl: https://en.wikipedia.org/wiki/Paul_Allen
                  id: "2"
                errors: []
              headers: {}
      x-codegen-request-body-name: input
      x-openapi-router-controller: openapi_server.controllers.entities_controller
  /keyPhrases:
    post:
      deprecated: false
      description: See the <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview#supported-languages">Text
        Analytics Documentation</a> for details about the languages that are supported
        by key phrase extraction.
      operationId: key_phrases
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MultiLanguageBatchInput'
        description: Collection of documents to analyze. Documents can now contain
          a language field to indicate the text language
        required: true
        x-body-name: input
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KeyPhraseBatchResult'
          description: A successful response results in 0 or more key phrases identified
            in each valid document
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Error Response
      summary: The API returns a list of strings denoting the key talking points in
        the input text.
      tags:
      - Key Phrases
      x-ms-examples:
        Successful Key Phrase request:
          parameters:
            Endpoint: "{Endpoint}"
            Ocp-Apim-Subscription-Key: "{API key}"
            input:
              documents:
              - id: "1"
                language: en
                text: If this demo doesn't work I will be super sad
              - id: "2"
                language: es
                text: Español es muy difícil de aprender
              - id: "3"
                language: en
                text: I really really love machine learning
              - id: "4"
                language: fr
                text: Le soleil se lève à l'Est
          responses:
            "200":
              body:
                documents:
                - id: "1"
                  keyPhrases:
                  - demo
                - id: "2"
                  keyPhrases:
                  - Español
                - id: "3"
                  keyPhrases:
                  - machine
                - id: "4"
                  keyPhrases:
                  - soleil
                errors: []
              headers: {}
      x-codegen-request-body-name: input
      x-openapi-router-controller: openapi_server.controllers.key_phrases_controller
  /languages:
    post:
      deprecated: false
      description: Scores close to 1 indicate 100% certainty that the identified language
        is true. A total of 120 languages are supported.
      operationId: detect_language
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchInput'
        description: Collection of documents to analyze.
        required: true
        x-body-name: input
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LanguageBatchResult'
          description: A successful call results in the detected language with the
            highest probability for each valid document
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Error Response
      summary: The API returns the detected language and a numeric score between 0
        and 1.
      tags:
      - Detect Language
      x-ms-examples:
        Successful Detect Language request:
          parameters:
            Endpoint: "{Endpoint}"
            Ocp-Apim-Subscription-Key: "{API key}"
            input:
              documents:
              - id: "1"
                text: If this demo doesn't work I will be super sad
              - id: "2"
                text: Español es muy difícil de aprender
              - id: "3"
                text: I really really love machine learning
              - id: "4"
                text: Le soleil se lève à l'Est
          responses:
            "200":
              body:
                documents:
                - detectedLanguages:
                  - iso6391Name: en
                    name: English
                    score: 1
                  id: "1"
                - detectedLanguages:
                  - iso6391Name: es
                    name: Spanish
                    score: 1
                  id: "2"
                - detectedLanguages:
                  - iso6391Name: en
                    name: English
                    score: 1
                  id: "3"
                - detectedLanguages:
                  - iso6391Name: fr
                    name: French
                    score: 1
                  id: "4"
                errors: []
              headers: {}
      x-codegen-request-body-name: input
      x-openapi-router-controller: openapi_server.controllers.detect_language_controller
  /sentiment:
    post:
      deprecated: false
      description: "Scores close to 1 indicate positive sentiment, while scores close\
        \ to 0 indicate negative sentiment. A score of 0.5 indicates the lack of sentiment\
        \ (e.g. a factoid statement). See the <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview#supported-languages\"\
        >Text Analytics Documentation</a> for details about the languages that are\
        \ supported by sentiment analysis."
      operationId: sentiment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MultiLanguageBatchInput'
        description: Collection of documents to analyze.
        required: true
        x-body-name: input
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SentimentBatchResult'
          description: A successful call results in each valid document getting a
            sentiment score between 0 and 1
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Error Response
      summary: The API returns a numeric score between 0 and 1.
      tags:
      - Sentiment
      x-ms-examples:
        Successful Sentiment request:
          parameters:
            Endpoint: "{Endpoint}"
            Ocp-Apim-Subscription-Key: "{API key}"
            input:
              documents:
              - id: "1"
                language: en
                text: If this demo doesn't work I will be super sad
              - id: "2"
                language: es
                text: Español es muy difícil de aprender
              - id: "3"
                language: en
                text: I really really love machine learning
              - id: "4"
                language: fr
                text: Le soleil se lève à l'Est
          responses:
            "200":
              body:
                documents:
                - id: "1"
                  score: 0.006573081016540527
                - id: "3"
                  score: 0.9733303189277649
                - id: "2"
                  score: 0.4421966075897217
                - id: "4"
                  score: 0.5342581272125244
                errors: []
              headers: {}
      x-codegen-request-body-name: input
      x-openapi-router-controller: openapi_server.controllers.sentiment_controller
components:
  parameters:
    Endpoint:
      description: "Supported Cognitive Services endpoints (protocol and hostname,\
        \ for example: https://westus.api.cognitive.microsoft.com)."
      in: path
      name: Endpoint
      required: true
      schema:
        type: string
        x-ms-parameter-location: client
        x-ms-skip-url-encoding: true
      x-ms-parameter-location: client
      x-ms-skip-url-encoding: true
  schemas:
    BatchInput:
      example:
        documents:
        - id: "1"
          text: Hello world
        - id: "2"
          text: Bonjour tout le monde
        - id: "3"
          text: La carretera estaba atascada. Había mucho tráfico el día de ayer.
        - id: "4"
          text: :) :( :D
      properties:
        documents:
          items:
            $ref: '#/components/schemas/Input'
          type: array
      title: BatchInput
      type: object
    DetectedLanguage:
      example:
        score: 0.8008281904610115
        iso6391Name: iso6391Name
        name: name
      properties:
        iso6391Name:
          description: "A two letter representation of the detected language according\
            \ to the ISO 639-1 standard (e.g. en, fr)."
          title: iso6391Name
          type: string
        name:
          description: "Long name of a detected language (e.g. English, French)."
          title: name
          type: string
        score:
          description: A confidence score between 0 and 1. Scores close to 1 indicate
            100% certainty that the identified language is true.
          format: double
          title: score
          type: number
      title: DetectedLanguage
      type: object
    EntitiesBatchResult:
      example:
        documents:
        - entities:
          - name: name
            wikipediaId: wikipediaId
            bingId: bingId
            matches:
            - offset: 6
              length: 0
              text: text
            - offset: 6
              length: 0
              text: text
            wikipediaLanguage: wikipediaLanguage
            wikipediaUrl: wikipediaUrl
          - name: name
            wikipediaId: wikipediaId
            bingId: bingId
            matches:
            - offset: 6
              length: 0
              text: text
            - offset: 6
              length: 0
              text: text
            wikipediaLanguage: wikipediaLanguage
            wikipediaUrl: wikipediaUrl
          id: id
        - entities:
          - name: name
            wikipediaId: wikipediaId
            bingId: bingId
            matches:
            - offset: 6
              length: 0
              text: text
            - offset: 6
              length: 0
              text: text
            wikipediaLanguage: wikipediaLanguage
            wikipediaUrl: wikipediaUrl
          - name: name
            wikipediaId: wikipediaId
            bingId: bingId
            matches:
            - offset: 6
              length: 0
              text: text
            - offset: 6
              length: 0
              text: text
            wikipediaLanguage: wikipediaLanguage
            wikipediaUrl: wikipediaUrl
          id: id
        errors:
        - id: id
          message: message
        - id: id
          message: message
      properties:
        documents:
          items:
            $ref: '#/components/schemas/EntitiesBatchResultItem'
          readOnly: true
          title: documents
          type: array
        errors:
          items:
            $ref: '#/components/schemas/ErrorRecord'
          readOnly: true
          title: errors
          type: array
      title: EntitiesBatchResult
      type: object
    EntitiesBatchResultItem:
      example:
        entities:
        - name: name
          wikipediaId: wikipediaId
          bingId: bingId
          matches:
          - offset: 6
            length: 0
            text: text
          - offset: 6
            length: 0
            text: text
          wikipediaLanguage: wikipediaLanguage
          wikipediaUrl: wikipediaUrl
        - name: name
          wikipediaId: wikipediaId
          bingId: bingId
          matches:
          - offset: 6
            length: 0
            text: text
          - offset: 6
            length: 0
            text: text
          wikipediaLanguage: wikipediaLanguage
          wikipediaUrl: wikipediaUrl
        id: id
      properties:
        entities:
          description: Recognized entities in the document.
          items:
            $ref: '#/components/schemas/EntityRecord'
          readOnly: true
          title: entities
          type: array
        id:
          description: Unique document identifier.
          readOnly: true
          title: id
          type: string
      title: EntitiesBatchResultItem
      type: object
    EntityRecord:
      example:
        name: name
        wikipediaId: wikipediaId
        bingId: bingId
        matches:
        - offset: 6
          length: 0
          text: text
        - offset: 6
          length: 0
          text: text
        wikipediaLanguage: wikipediaLanguage
        wikipediaUrl: wikipediaUrl
      properties:
        bingId:
          description: Bing unique identifier of the recognized entity. Use in conjunction
            with the Bing Entity Search API to fetch additional relevant information.
          title: bingId
          type: string
        matches:
          description: List of instances this entity appears in the text.
          items:
            $ref: '#/components/schemas/MatchRecord'
          readOnly: true
          title: matches
          type: array
        name:
          description: Entity formal name.
          title: name
          type: string
        wikipediaId:
          description: Wikipedia unique identifier of the recognized entity.
          title: wikipediaId
          type: string
        wikipediaLanguage:
          description: Wikipedia language for which the WikipediaId and WikipediaUrl
            refers to.
          title: wikipediaLanguage
          type: string
        wikipediaUrl:
          description: URL for the entity's English Wikipedia page.
          readOnly: true
          title: wikipediaUrl
          type: string
      title: EntityRecord
      type: object
    ErrorRecord:
      example:
        id: id
        message: message
      properties:
        id:
          description: Input document unique identifier the error refers to.
          title: id
          type: string
        message:
          description: Error message.
          title: message
          type: string
      title: ErrorRecord
      type: object
    ErrorResponse:
      example:
        code: code
        innerError:
          code: code
          innerError: null
          message: message
        message: message
        target: target
      properties:
        code:
          title: code
          type: string
        innerError:
          $ref: '#/components/schemas/InternalError'
        message:
          title: message
          type: string
        target:
          title: target
          type: string
      title: ErrorResponse
      type: object
    Input:
      properties:
        id:
          description: "Unique, non-empty document identifier."
          title: id
          type: string
        text:
          title: text
          type: string
      title: Input
      type: object
    InternalError:
      example:
        code: code
        innerError: null
        message: message
      properties:
        code:
          title: code
          type: string
        innerError:
          $ref: '#/components/schemas/InternalError'
        message:
          title: message
          type: string
      title: InternalError
      type: object
    KeyPhraseBatchResult:
      example:
        documents:
        - keyPhrases:
          - keyPhrases
          - keyPhrases
          id: id
        - keyPhrases:
          - keyPhrases
          - keyPhrases
          id: id
        errors:
        - id: id
          message: message
        - id: id
          message: message
      properties:
        documents:
          items:
            $ref: '#/components/schemas/KeyPhraseBatchResultItem'
          readOnly: true
          title: documents
          type: array
        errors:
          items:
            $ref: '#/components/schemas/ErrorRecord'
          readOnly: true
          title: errors
          type: array
      title: KeyPhraseBatchResult
      type: object
    KeyPhraseBatchResultItem:
      example:
        keyPhrases:
        - keyPhrases
        - keyPhrases
        id: id
      properties:
        id:
          description: Unique document identifier.
          readOnly: true
          title: id
          type: string
        keyPhrases:
          description: A list of representative words or phrases. The number of key
            phrases returned is proportional to the number of words in the input document.
          items:
            type: string
          readOnly: true
          title: keyPhrases
          type: array
      title: KeyPhraseBatchResultItem
      type: object
    LanguageBatchResult:
      example:
        documents:
        - detectedLanguages:
          - score: 0.8008281904610115
            iso6391Name: iso6391Name
            name: name
          - score: 0.8008281904610115
            iso6391Name: iso6391Name
            name: name
          id: id
        - detectedLanguages:
          - score: 0.8008281904610115
            iso6391Name: iso6391Name
            name: name
          - score: 0.8008281904610115
            iso6391Name: iso6391Name
            name: name
          id: id
        errors:
        - id: id
          message: message
        - id: id
          message: message
      properties:
        documents:
          items:
            $ref: '#/components/schemas/LanguageBatchResultItem'
          readOnly: true
          title: documents
          type: array
        errors:
          items:
            $ref: '#/components/schemas/ErrorRecord'
          readOnly: true
          title: errors
          type: array
      title: LanguageBatchResult
      type: object
    LanguageBatchResultItem:
      example:
        detectedLanguages:
        - score: 0.8008281904610115
          iso6391Name: iso6391Name
          name: name
        - score: 0.8008281904610115
          iso6391Name: iso6391Name
          name: name
        id: id
      properties:
        detectedLanguages:
          description: A list of extracted languages.
          items:
            $ref: '#/components/schemas/DetectedLanguage'
          readOnly: true
          title: detectedLanguages
          type: array
        id:
          description: Unique document identifier.
          readOnly: true
          title: id
          type: string
      title: LanguageBatchResultItem
      type: object
    MatchRecord:
      example:
        offset: 6
        length: 0
        text: text
      properties:
        length:
          description: Length (in Unicode characters) for the entity match text.
          format: int32
          title: length
          type: integer
        offset:
          description: Start position (in Unicode characters) for the entity match
            text.
          format: int32
          title: offset
          type: integer
        text:
          description: Entity text as appears in the request.
          title: text
          type: string
      title: MatchRecord
      type: object
    MultiLanguageBatchInput:
      example:
        documents:
        - id: "1"
          language: en
          text: Hello world. This is some input text that I love.
        - id: "2"
          language: fr
          text: Bonjour tout le monde
        - id: "3"
          language: es
          text: La carretera estaba atascada. Había mucho tráfico el día de ayer.
      properties:
        documents:
          items:
            $ref: '#/components/schemas/MultiLanguageInput'
          type: array
      title: MultiLanguageBatchInput
      type: object
    MultiLanguageInput:
      properties:
        id:
          description: "Unique, non-empty document identifier."
          title: id
          type: string
        language:
          description: "This is the 2 letter ISO 639-1 representation of a language.\
            \ For example, use \"en\" for English; \"es\" for Spanish etc.,"
          title: language
          type: string
        text:
          title: text
          type: string
      title: MultiLanguageInput
      type: object
    Object:
      type: object
    SentimentBatchResult:
      example:
        documents:
        - score: 0.8008281904610115
          id: id
        - score: 0.8008281904610115
          id: id
        errors:
        - id: id
          message: message
        - id: id
          message: message
      properties:
        documents:
          items:
            $ref: '#/components/schemas/SentimentBatchResultItem'
          readOnly: true
          title: documents
          type: array
        errors:
          items:
            $ref: '#/components/schemas/ErrorRecord'
          readOnly: true
          title: errors
          type: array
      title: SentimentBatchResult
      type: object
    SentimentBatchResultItem:
      example:
        score: 0.8008281904610115
        id: id
      properties:
        id:
          description: Unique document identifier.
          readOnly: true
          title: id
          type: string
        score:
          description: A decimal number between 0 and 1 denoting the sentiment of
            the document. A score above 0.7 usually refers to a positive document
            while a score below 0.3 normally has a negative connotation. Mid values
            refer to neutral text.
          format: double
          readOnly: true
          title: score
          type: number
      title: SentimentBatchResultItem
      type: object
  securitySchemes:
    apim_key:
      in: header
      name: Ocp-Apim-Subscription-Key
      type: apiKey
      x-apikeyInfoFunc: openapi_server.controllers.security_controller.info_from_apim_key
x-ms-parameterized-host:
  hostTemplate: "{Endpoint}/text/analytics/v2.0"
  parameters:
  - $ref: '#/parameters/Endpoint'
  useSchemePrefix: false
x-original-swagger-version: "2.0"
