openapi: 3.0.1
info:
  contact:
    email: softwareengineering@parliament.uk
    name: UK Parliament
    url: https://www.parliament.uk/
  description: Get data from the annunciator system.
  title: Annunciator content API
  version: v1
  x-apisguru-categories:
  - open_data
  x-origin:
  - format: openapi
    url: https://now-api.parliament.uk/swagger/v1/swagger.json
    version: "3.0"
  x-providerName: parliament.uk
  x-serviceName: now
servers:
- url: /
paths:
  /api/Message/message/{annunciator}/current:
    get:
      operationId: api_message_message_annunciator_current_get
      parameters:
      - description: Current message by annunciator
        explode: false
        in: path
        name: annunciator
        required: true
        schema:
          $ref: '#/components/schemas/AnnunciatorMessageType'
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
            text/json:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
            text/plain:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
          description: Success
        "404":
          description: Not Found
      summary: Return the current message by annunciator type
      tags:
      - Message
      x-openapi-router-controller: openapi_server.controllers.message_controller
  /api/Message/message/{annunciator}/{date}:
    get:
      operationId: api_message_message_annunciator_date_get
      parameters:
      - description: Message by annunciator type
        explode: false
        in: path
        name: annunciator
        required: true
        schema:
          $ref: '#/components/schemas/AnnunciatorMessageType'
        style: simple
      - description: First message after date time specified
        explode: false
        in: path
        name: date
        required: true
        schema:
          format: date-time
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
            text/json:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
            text/plain:
              schema:
                $ref: '#/components/schemas/MessageViewModel'
          description: Latest message for given annunciator was issued before specified
            date
        "400":
          description: Date provided wasn't in a valid format
        "404":
          description: No message for given annunciator was issued before specified
            date
      summary: Return the most recent message by annunciator after date time specified
      tags:
      - Message
      x-openapi-router-controller: openapi_server.controllers.message_controller
components:
  schemas:
    AnnunciatorMessageType:
      enum:
      - CommonsMain
      - LordsMain
      title: AnnunciatorMessageType
      type: string
    ContentStyle:
      enum:
      - DividerSolid
      - EmptyLine
      - Member
      - Footer
      - AnsweringBody
      - WestminsterHallInfo
      - GrandCommitteeInfo
      - DividerDotted
      - DividerDashed
      - Division
      - Text150
      - Text140
      - Text130
      - Text120
      - Text110
      - Text100
      - Text90
      - Text80
      - Text70
      title: ContentStyle
      type: string
    ContentType:
      enum:
      - Generic
      - Member
      - OralQuestionTime
      - AnsweringBody
      - Bill
      title: ContentType
      type: string
    HorizontalAlignment:
      enum:
      - Left
      - Right
      - Centre
      title: HorizontalAlignment
      type: string
    HouseMembershipViewModel:
      additionalProperties: false
      example:
        membershipFrom: membershipFrom
      properties:
        membershipFrom:
          nullable: true
          title: membershipFrom
          type: string
      title: HouseMembershipViewModel
      type: object
    LineViewModel:
      additionalProperties: false
      example:
        contentUrl: contentUrl
        horizontalAlignment: Left
        displayOrder: 2
        forceCapitalisation: true
        member:
          latestHouseMembership:
            membershipFrom: membershipFrom
          latestParty:
            name: name
            id: 9
            backgroundColour: backgroundColour
          nameAddressAs: nameAddressAs
          nameDisplayAs: nameDisplayAs
          id: 7
          nameListAs: nameListAs
          nameFullTitle: nameFullTitle
          thumbnailUrl: thumbnailUrl
        style: DividerSolid
        contentType: Generic
        content: content
        contentAdditionalJson: contentAdditionalJson
        verticalAlignment: null
      properties:
        content:
          nullable: true
          title: content
          type: string
        contentAdditionalJson:
          nullable: true
          title: contentAdditionalJson
          type: string
        contentType:
          $ref: '#/components/schemas/ContentType'
        contentUrl:
          nullable: true
          title: contentUrl
          type: string
        displayOrder:
          format: int32
          title: displayOrder
          type: integer
        forceCapitalisation:
          title: forceCapitalisation
          type: boolean
        horizontalAlignment:
          $ref: '#/components/schemas/HorizontalAlignment'
        member:
          $ref: '#/components/schemas/MemberViewModel'
        style:
          $ref: '#/components/schemas/ContentStyle'
        verticalAlignment:
          $ref: '#/components/schemas/VerticalAlignment'
      title: LineViewModel
      type: object
    MemberViewModel:
      additionalProperties: false
      example:
        latestHouseMembership:
          membershipFrom: membershipFrom
        latestParty:
          name: name
          id: 9
          backgroundColour: backgroundColour
        nameAddressAs: nameAddressAs
        nameDisplayAs: nameDisplayAs
        id: 7
        nameListAs: nameListAs
        nameFullTitle: nameFullTitle
        thumbnailUrl: thumbnailUrl
      properties:
        id:
          format: int32
          title: id
          type: integer
        latestHouseMembership:
          $ref: '#/components/schemas/HouseMembershipViewModel'
        latestParty:
          $ref: '#/components/schemas/PartyViewModel'
        nameAddressAs:
          nullable: true
          title: nameAddressAs
          type: string
        nameDisplayAs:
          nullable: true
          title: nameDisplayAs
          type: string
        nameFullTitle:
          nullable: true
          title: nameFullTitle
          type: string
        nameListAs:
          nullable: true
          title: nameListAs
          type: string
        thumbnailUrl:
          nullable: true
          title: thumbnailUrl
          type: string
      title: MemberViewModel
      type: object
    MessageViewModel:
      additionalProperties: false
      example:
        annunciatorDisabled: true
        publishTime: 2000-01-23T04:56:07.000+00:00
        scrollingMessages:
        - alertType: Standard
          displayFrom: 2000-01-23T04:56:07.000+00:00
          id: 6
          displayTo: 2000-01-23T04:56:07.000+00:00
          content: content
          verticalAlignment: Top
        - alertType: Standard
          displayFrom: 2000-01-23T04:56:07.000+00:00
          id: 6
          displayTo: 2000-01-23T04:56:07.000+00:00
          content: content
          verticalAlignment: Top
        showLordsBell: true
        slides:
        - carouselOrder: 5
          slideTime: 2000-01-23T04:56:07.000+00:00
          carouselDisplaySeconds: 1
          soundToPlay: NewSlide
          id: 5
          lines:
          - contentUrl: contentUrl
            horizontalAlignment: Left
            displayOrder: 2
            forceCapitalisation: true
            member:
              latestHouseMembership:
                membershipFrom: membershipFrom
              latestParty:
                name: name
                id: 9
                backgroundColour: backgroundColour
              nameAddressAs: nameAddressAs
              nameDisplayAs: nameDisplayAs
              id: 7
              nameListAs: nameListAs
              nameFullTitle: nameFullTitle
              thumbnailUrl: thumbnailUrl
            style: DividerSolid
            contentType: Generic
            content: content
            contentAdditionalJson: contentAdditionalJson
            verticalAlignment: null
          - contentUrl: contentUrl
            horizontalAlignment: Left
            displayOrder: 2
            forceCapitalisation: true
            member:
              latestHouseMembership:
                membershipFrom: membershipFrom
              latestParty:
                name: name
                id: 9
                backgroundColour: backgroundColour
              nameAddressAs: nameAddressAs
              nameDisplayAs: nameDisplayAs
              id: 7
              nameListAs: nameListAs
              nameFullTitle: nameFullTitle
              thumbnailUrl: thumbnailUrl
            style: DividerSolid
            contentType: Generic
            content: content
            contentAdditionalJson: contentAdditionalJson
            verticalAlignment: null
          type: Debate
          speakerTime: 2000-01-23T04:56:07.000+00:00
        - carouselOrder: 5
          slideTime: 2000-01-23T04:56:07.000+00:00
          carouselDisplaySeconds: 1
          soundToPlay: NewSlide
          id: 5
          lines:
          - contentUrl: contentUrl
            horizontalAlignment: Left
            displayOrder: 2
            forceCapitalisation: true
            member:
              latestHouseMembership:
                membershipFrom: membershipFrom
              latestParty:
                name: name
                id: 9
                backgroundColour: backgroundColour
              nameAddressAs: nameAddressAs
              nameDisplayAs: nameDisplayAs
              id: 7
              nameListAs: nameListAs
              nameFullTitle: nameFullTitle
              thumbnailUrl: thumbnailUrl
            style: DividerSolid
            contentType: Generic
            content: content
            contentAdditionalJson: contentAdditionalJson
            verticalAlignment: null
          - contentUrl: contentUrl
            horizontalAlignment: Left
            displayOrder: 2
            forceCapitalisation: true
            member:
              latestHouseMembership:
                membershipFrom: membershipFrom
              latestParty:
                name: name
                id: 9
                backgroundColour: backgroundColour
              nameAddressAs: nameAddressAs
              nameDisplayAs: nameDisplayAs
              id: 7
              nameListAs: nameListAs
              nameFullTitle: nameFullTitle
              thumbnailUrl: thumbnailUrl
            style: DividerSolid
            contentType: Generic
            content: content
            contentAdditionalJson: contentAdditionalJson
            verticalAlignment: null
          type: Debate
          speakerTime: 2000-01-23T04:56:07.000+00:00
        annunciatorType: CommonsMain
        isSecurityOverride: true
        id: 0
        showCommonsBell: true
      properties:
        annunciatorDisabled:
          title: annunciatorDisabled
          type: boolean
        annunciatorType:
          $ref: '#/components/schemas/AnnunciatorMessageType'
        id:
          format: int32
          title: id
          type: integer
        isSecurityOverride:
          title: isSecurityOverride
          type: boolean
        publishTime:
          format: date-time
          title: publishTime
          type: string
        scrollingMessages:
          items:
            $ref: '#/components/schemas/ScrollingMessageViewModel'
          nullable: true
          title: scrollingMessages
          type: array
        showCommonsBell:
          title: showCommonsBell
          type: boolean
        showLordsBell:
          title: showLordsBell
          type: boolean
        slides:
          items:
            $ref: '#/components/schemas/SlideViewModel'
          nullable: true
          title: slides
          type: array
      title: MessageViewModel
      type: object
    PartyViewModel:
      additionalProperties: false
      example:
        name: name
        id: 9
        backgroundColour: backgroundColour
      properties:
        backgroundColour:
          nullable: true
          title: backgroundColour
          type: string
        id:
          format: int32
          title: id
          type: integer
        name:
          nullable: true
          title: name
          type: string
      title: PartyViewModel
      type: object
    ScrollingMessageAlertType:
      enum:
      - Standard
      - SecondaryChamber
      - Alert
      - SecurityNormal
      - SecurityHigh
      title: ScrollingMessageAlertType
      type: string
    ScrollingMessageViewModel:
      additionalProperties: false
      example:
        alertType: Standard
        displayFrom: 2000-01-23T04:56:07.000+00:00
        id: 6
        displayTo: 2000-01-23T04:56:07.000+00:00
        content: content
        verticalAlignment: Top
      properties:
        alertType:
          $ref: '#/components/schemas/ScrollingMessageAlertType'
        content:
          nullable: true
          title: content
          type: string
        displayFrom:
          format: date-time
          title: displayFrom
          type: string
        displayTo:
          format: date-time
          nullable: true
          title: displayTo
          type: string
        id:
          format: int32
          title: id
          type: integer
        verticalAlignment:
          $ref: '#/components/schemas/VerticalAlignment'
      title: ScrollingMessageViewModel
      type: object
    SlideType:
      enum:
      - Debate
      - Division
      - OralQuestionTime
      - UrgentQuestion
      - Statement
      - Prayers
      - HouseRisen
      - Generic
      - NotSitting
      - PrimeMinistersQuestions
      - PointsOfOrder
      - BlankSlide
      title: SlideType
      type: string
    SlideViewModel:
      additionalProperties: false
      example:
        carouselOrder: 5
        slideTime: 2000-01-23T04:56:07.000+00:00
        carouselDisplaySeconds: 1
        soundToPlay: NewSlide
        id: 5
        lines:
        - contentUrl: contentUrl
          horizontalAlignment: Left
          displayOrder: 2
          forceCapitalisation: true
          member:
            latestHouseMembership:
              membershipFrom: membershipFrom
            latestParty:
              name: name
              id: 9
              backgroundColour: backgroundColour
            nameAddressAs: nameAddressAs
            nameDisplayAs: nameDisplayAs
            id: 7
            nameListAs: nameListAs
            nameFullTitle: nameFullTitle
            thumbnailUrl: thumbnailUrl
          style: DividerSolid
          contentType: Generic
          content: content
          contentAdditionalJson: contentAdditionalJson
          verticalAlignment: null
        - contentUrl: contentUrl
          horizontalAlignment: Left
          displayOrder: 2
          forceCapitalisation: true
          member:
            latestHouseMembership:
              membershipFrom: membershipFrom
            latestParty:
              name: name
              id: 9
              backgroundColour: backgroundColour
            nameAddressAs: nameAddressAs
            nameDisplayAs: nameDisplayAs
            id: 7
            nameListAs: nameListAs
            nameFullTitle: nameFullTitle
            thumbnailUrl: thumbnailUrl
          style: DividerSolid
          contentType: Generic
          content: content
          contentAdditionalJson: contentAdditionalJson
          verticalAlignment: null
        type: Debate
        speakerTime: 2000-01-23T04:56:07.000+00:00
      properties:
        carouselDisplaySeconds:
          format: int32
          nullable: true
          title: carouselDisplaySeconds
          type: integer
        carouselOrder:
          format: int32
          nullable: true
          title: carouselOrder
          type: integer
        id:
          format: int32
          title: id
          type: integer
        lines:
          items:
            $ref: '#/components/schemas/LineViewModel'
          nullable: true
          title: lines
          type: array
        slideTime:
          format: date-time
          nullable: true
          title: slideTime
          type: string
        soundToPlay:
          $ref: '#/components/schemas/Sounds'
        speakerTime:
          format: date-time
          nullable: true
          title: speakerTime
          type: string
        type:
          $ref: '#/components/schemas/SlideType'
      title: SlideViewModel
      type: object
    Sounds:
      enum:
      - NewSlide
      - DivisionBell
      - Alert
      - GenericBeep
      title: Sounds
      type: string
    VerticalAlignment:
      enum:
      - Top
      - Middle
      - Bottom
      title: VerticalAlignment
      type: string
