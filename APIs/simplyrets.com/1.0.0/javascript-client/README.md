# simply_rets

SimplyRets - JavaScript client for simply_rets
The SimplyRETS API is an exciting step towards making it easier for
developers and real estate agents to build something awesome with
real estate data!

The documentation below makes live requests to our API using the
trial data. To get set up with the API using live MLS data, you
must have RETS credentials from your MLS, which you can then use to
create an app with SimplyRETS. For more information on that
process, please see our [FAQ](https://simplyrets.com/faq), [Getting
Started](https://simplyrets.com/blog/getting-set-up.html) page, or
[contact us](https://simplyrets.com/\\#home-contact).

Below you'll find the API endpoints, query parameters, response bodies,
and other information about using the SimplyRETS API. You can run
queries by clicking the 'Try it Out' button at the bottom of each
section.

### Authentication
The SimplyRETS API uses Basic Authentication. When you create an
app, you'll get a set of API credentials to access your
listings. If you're trying out the test data, you can use
`simplyrets:simplyrets` for connecting to the API.

### Media Types
The SimplyRETS API uses the `Accept` header to allow clients to
control media types (content versions). We maintain backwards
compatibility with API clients by allowing them to specify a
content version. We highly recommend setting and explicity media
type when your application reaches production. Both the structure
and content of our API response bodies is subject to change so we
can add new features while respecting the stability of applications
which have already been developed.

To always use the latest SimplyRETS content version, simply use
`application/json` in your application `Accept` header.

If you want to pin your clients media type to a specific version,
you can use the vendor-specific SimplyRETS media type, e.g.
`application/vnd.simplyrets-v0.1+json\"`

To view all valid content-types for making an `OPTIONS`, make a
request to the SimplyRETS api root

`curl -XOPTIONS -u simplyrets:simplyrets https://api.simplyrets.com/`

The default media types used in our API responses may change in the
future. If you're building an application and care about the
stability of the API, be sure to request a specific media type in the
Accept header as shown in the examples below.

The wordpress plugin automatically sets the `Accept` header for the
compatible SimplyRETS media types.

### Pagination

To paginate through listings, start your query with these
parameters: 'limit=500&lastId=0'. The 'lastId' is the important
part, you can use any limit up to 500. When you receive the
response from the API with the results, check the 'Link' header for
the 'next' link. That link is pre-built to access the next 'page'
of listings. Alternatively, you can use the last listing's 'mlsId'
from the previous request and use that in the next query. For
example:

First query:

curl -u username:password 'https://api.simplyrets.com/properties?limit=500&lastId=0'

If the 'mlsId' in the last listing of the results is '1234567', then the next query will be:

curl -u username:password 'https://api.simplyrets.com/properties?limit=500&lastId=1234567'

...and so one until you have reached the final page of listings.

There a few pieces of useful information about each request stored
in the HTTP Headers:

- `X-Total-Count` shows you the total amount of listings that match
  your current query.
- `Link` contains pre-built pagination links for accessing the next
'page' of listings that match your query.

### RETS Vendor Compliance

Many RETS vendors have strict requirements for showing disclaimers
with specific information embedded. For example, in many areas it's
required to show the timestamp of the time the listings were
refreshed inside a disclaimer or on a listing page.

The timestamp of the last listing refresh timestamp can be found in
one of two spots:

- The `X-SimplyRETS-LastUpdate` header from `GET /properties` or `GET /properties/{mlsId}`

- Calling the API root `/` or properties api endpoint `/properties`
  with an OPTIONS request

  - `OPTIONS /`

    This request will show the last update timestamp for all RETS
    vendors associated with your application. Look for the
    `updates` list in the JSON response.

  - `OPTIONS /properties`

    Using this request, look for the `lastUpdate` field in the JSON
    response.

This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- Package version: 1.0.0
- Generator version: 7.9.0
- Build package: org.openapitools.codegen.languages.JavascriptClientCodegen

## Installation

### For [Node.js](https://nodejs.org/)

#### npm

To publish the library as a [npm](https://www.npmjs.com/), please follow the procedure in ["Publishing npm packages"](https://docs.npmjs.com/getting-started/publishing-npm-packages).

Then install it via:

```shell
npm install simply_rets --save
```

Finally, you need to build the module:

```shell
npm run build
```

##### Local development

To use the library locally without publishing to a remote npm registry, first install the dependencies by changing into the directory containing `package.json` (and this README). Let's call this `JAVASCRIPT_CLIENT_DIR`. Then run:

```shell
npm install
```

Next, [link](https://docs.npmjs.com/cli/link) it globally in npm with the following, also from `JAVASCRIPT_CLIENT_DIR`:

```shell
npm link
```

To use the link you just defined in your project, switch to the directory you want to use your simply_rets from, and run:

```shell
npm link /path/to/<JAVASCRIPT_CLIENT_DIR>
```

Finally, you need to build the module:

```shell
npm run build
```

#### git

If the library is hosted at a git repository, e.g.https://github.com/GIT_USER_ID/GIT_REPO_ID
then install it via:

```shell
    npm install GIT_USER_ID/GIT_REPO_ID --save
```

### For browser

The library also works in the browser environment via npm and [browserify](http://browserify.org/). After following
the above steps with Node.js and installing browserify with `npm install -g browserify`,
perform the following (assuming *main.js* is your entry file):

```shell
browserify main.js > bundle.js
```

Then include *bundle.js* in the HTML pages.

### Webpack Configuration

Using Webpack you may encounter the following error: "Module not found: Error:
Cannot resolve module", most certainly you should disable AMD loader. Add/merge
the following section to your webpack config:

```javascript
module: {
  rules: [
    {
      parser: {
        amd: false
      }
    }
  ]
}
```

## Getting Started

Please follow the [installation](#installation) instruction and execute the following JS code:

```javascript
var SimplyRets = require('simply_rets');

var defaultClient = SimplyRets.ApiClient.instance;
// Configure HTTP basic authorization: basicAuth
var basicAuth = defaultClient.authentications['basicAuth'];
basicAuth.username = 'YOUR USERNAME'
basicAuth.password = 'YOUR PASSWORD'

var api = new SimplyRets.DefaultApi()
var opts = {
  'type': "type_example", // {String} Request listings by a specific property type. This defaults to Residential, and you can only specify one type in a single query. 
  'listingId': "listingId_example", // {String} Request openhouses for a specific `listingId`. 
  'cities': ["null"], // {[String]} Filter the openhouses returned by a list of valid cities.  The `cities` query parameter is case-insensitive.  The list of `cities` provided by your RETS vendor can be seen by sending an `OPTIONS` request to the `/properties` endpoint:  `curl -XOPTIONS -u simplyrets:simplyrets https://api.simplyrets.com/openhouses` 
  'brokers': ["null"], // {[String]} Filter the listings returned by brokerage with a Broker ID. You can specific multiple broker parameters. Note, the Broker ID is provided by your MLS. 
  'agent': "agent_example", // {String} Filter the listings returned by an agent ID.  Note, the Agent ID is provided by your MLS. 
  'minprice': 56, // {Number} Filter listings by a minimum price. 
  'startdate': new Date("2013-10-20T19:20:30+01:00"), // {Date} Scheduled date and time of the open house showing
  'offset': 56, // {Number} Increase the offset parameter by the limit to go to the next \"page\" of listings. Also take a look at the Link HTTP Header for pre-built pagination.  *NOTE:* Use the `lastId` parameter for pagination. 
  'lastId': 56, // {Number} Used as a cursor for pagination. 
  'limit': 56, // {Number} Set the number of listings to return in the response. This defaults to 20 listings, and can be a maximum of 500. To paginate through to the next page of listings, take a look at the `offset` parameter, or the Link in the HTTP Header. 
  'sort': "sort_example", // {String} Sort the response by a specific field. Values starting with a minus (-) denote descending order, while the others are ascending. 
  'include': ["null"] // {[String]} Include a extra fields which are not in the default response body - 'association' includes additional HOA data - 'agreement' information on the listing agreement - 'garageSpaces' additional garage data - 'maintenanceExpense' data on maintenance expenses - 'parking' additional parking data - 'pool' includes an additional pool description - 'taxAnnualAmount' include the annual tax amount - 'taxYear' include the tax year data - 'rooms' include parameter will include    any additional rooms as a list.  Note that your MLS must provide these fields in their RETS data for them to be available in the API response.  In the future, fields which require an 'include' may become available by default. 
};
var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully. Returned data: ' + data);
  }
};
api.openhousesGet(opts, callback);

```

## Documentation for API Endpoints

All URIs are relative to *https://api.simplyrets.com*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*SimplyRets.DefaultApi* | [**openhousesGet**](docs/DefaultApi.md#openhousesGet) | **GET** /openhouses | The SimplyRETS OpenHouses API
*SimplyRets.DefaultApi* | [**openhousesOpenHouseKeyGet**](docs/DefaultApi.md#openhousesOpenHouseKeyGet) | **GET** /openhouses/{openHouseKey} | Single OpenHouse Endpoint
*SimplyRets.DefaultApi* | [**propertiesGet**](docs/DefaultApi.md#propertiesGet) | **GET** /properties | The SimplyRETS Listings API
*SimplyRets.DefaultApi* | [**propertiesMlsIdGet**](docs/DefaultApi.md#propertiesMlsIdGet) | **GET** /properties/{mlsId} | Single Listing Endpoint


## Documentation for Models

 - [SimplyRets.Agent](docs/Agent.md)
 - [SimplyRets.Association](docs/Association.md)
 - [SimplyRets.Broker](docs/Broker.md)
 - [SimplyRets.ContactInformation](docs/ContactInformation.md)
 - [SimplyRets.Error](docs/Error.md)
 - [SimplyRets.GeographicData](docs/GeographicData.md)
 - [SimplyRets.Listing](docs/Listing.md)
 - [SimplyRets.MlsInformation](docs/MlsInformation.md)
 - [SimplyRets.Office](docs/Office.md)
 - [SimplyRets.OpenHouse](docs/OpenHouse.md)
 - [SimplyRets.Parking](docs/Parking.md)
 - [SimplyRets.Property](docs/Property.md)
 - [SimplyRets.Sales](docs/Sales.md)
 - [SimplyRets.School](docs/School.md)
 - [SimplyRets.StreetAddress](docs/StreetAddress.md)
 - [SimplyRets.Tax](docs/Tax.md)


## Documentation for Authorization


Authentication schemes defined for the API:
### basicAuth

- **Type**: HTTP basic authentication

