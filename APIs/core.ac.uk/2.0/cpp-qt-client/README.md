# C++ Qt API client

# 

CORE API v2

- API version: 2.0
- Generator version: 7.9.0

<p style=\"text-align: justify;\">You can use the CORE API to access the 
    resources harvested and enriched by CORE. If you encounter any problems with the API, please <a href=\"/contact\">report them to us</a>.</p>

<h2>Overview</h2>
<p style=\"text-align: justify;\">The API is organised by resource type. The resources are <b>articles</b>, 
    <b>journals</b> and <b>repositories</b> and are represented using JSON data format. Furthermore, 
    each resource has a list of methods. The API also provides two global methods for accessing all resources at once.</p>

<h2>Response format</h2>
<p style=\"text-align: justify;\">Response for each query contains two fields: <b>status</b> and <b>data</b>.
    In case of an error status, the data field is empty. The data field contains a single object
    in case the request is for a specific identifier (e.g. CORE ID, CORE repository ID, etc.), or  
    contains a list of objects, for example for search queries. In case of batch requests, the response
    is an array of objects, each of which contains its own <b>status</b> and <b>data</b> fields.
    For search queries the response contains an additional field <b>totalHits</b>, which is the 
    total number of items which match the search criteria.</p>

<h2>Search query syntax</h2>

<p style=\"text-align: justify\">Complex search queries can be used in all of the API search methods.
    The query can be a simple string or it can be built using terms and operators described in Elasticsearch
    <a href=\"http://www.elastic.co/guide/en/elasticsearch/reference/1.4/query-dsl-query-string-query.html#query-string-syntax\">documentation</a>.
    The usable field names are <strong>title</strong>, <strong>description</strong>, <strong>fullText</strong>, 
    <strong>authors</strong>, <strong>publisher</strong>, <strong>repositories.id</strong>, <strong>repositories.name</strong>, 
    <strong>doi</strong>, <strong>oai</strong>, <strong>identifiers</strong> (which is a list of article identifiers including OAI, URL, etc.), <strong>language.name</strong> 
    and <strong>year</strong>. Some example queries:
</p>

<ul style=\"margin-left: 30px;\">
    <li><p>title:psychology and language.name:English</p></li>
    <li><p>repositories.id:86 AND year:2014</p></li>
    <li><p>identifiers:\"oai:aura.abdn.ac.uk:2164/3837\" OR identifiers:\"oai:aura.abdn.ac.uk:2164/3843\"</p></li>
    <li><p>doi:\"10.1186/1471-2458-6-309\"</p></li>
</ul>

<h3>Retrieving the latest Articles</h3>
<p style=\"text-align: justify\">
    You can retrieve the harvested items since specific dates using the following queries:
</p>

<ul style=\"margin-left: 30px;\">
    <li><p>repositoryDocument.metadataUpdated:>2017-02-10</p></li>
    <li><p>repositoryDocument.metadataUpdated:>2017-03-01 AND repositoryDocument.metadataUpdated:<2017-03-31</p></li>    
</ul>

<h2>Sort order</h2>

<p style=\"text-align: justify;\">For search queries, the results are ordered by relevance score. For batch 
    requests, the results are retrieved in the order of the requests.</p>

<h2>Parameters</h2>
<p style=\"text-align: justify;\">The API methods allow different parameters to be passed. Additionally, there is an API key parameter which is common to all API methods. For all API methods 
    the API key can be provided either as a query parameter or in the request header. If the API key 
    is not provided, the API will return HTTP 401 error. You can register for an API key <a href=\"/services#api\">here</a>.</p>

<h2>API methods</h2>


*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*


## Requirements

Building the API client library requires:

1. CMake 3.2+
2. Qt
3. C++ Compiler

## Getting Started

example.h:
```c++

#include <iostream>
#include "../client/OAIAllApi.h"

using namespace test_namespace;

class Example : public QObject {
    Q_OBJECT
    QList<OAISearchRequest> create();
public Q_SLOTS:
   void exampleFunction1();
};

```

example.cpp:
```c++

#include "../client/OAIAllApi.h"
#include "example.h"
#include <QTimer>
#include <QEventLoop>

QList&lt;OAISearchRequest&gt; Example::create(){
    QList<OAISearchRequest> obj;
 return obj;
}

void Example::exampleFunction1(){
     OAIAllApi apiInstance;
     
      // Configure API key authorization: apiKey
      apiInstance.setApiKey("YOUR API KEY NAME","YOUR API KEY");

      QEventLoop loop;
      connect(&apiInstance, &OAIAllApi::searchPostSignal, [&]() {
          loop.quit();
      });
      connect(&apiInstance, &OAIAllApi::searchPostSignalE, [&](QNetworkReply::NetworkError, QString error_str) {
          qDebug() << "Error happened while issuing request : " << error_str;
          loop.quit();
      });

      QList<OAISearchRequest> body = create(); // QList<OAISearchRequest> | JSON array with search queries and pagination parameters. One request can contain up to 100 queries
      apiInstance.searchPost(body);
      QTimer::singleShot(5000, &loop, &QEventLoop::quit);
      loop.exec();
  }

```

## Documentation for Servers

Parameterized Servers are supported. Define a server in the API for each endpoint with arbitrary numbers of variables:

```yaml
servers:
- url: http://{server}:{port}/{basePath}
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
    port:
      enum:
        - '3000'
        - '1000'
      default: '3000'
    basePath:
      default: v1
```
To change the default variable, use this function in each Api:
```c++
int setDefaultServerValue(int serverIndex,const QString &operation, const QString &variable,const QString &val);
```
The parameter "serverIndex" will choose a server from the server list for each endpoint. There is always at least one server with index 0. The Parameter "operation" should be the desired endpoint operationid.
Variable is the name of the variable you wish to change and the value is the new default Value.
The function will return -1 when the variable does not exists, -2 if value is not defined in the variable enum and -3 if the operation is not found.

If your endpoint has multiple server objects in the servers array, you can set the server that will be used with this function:
```c++
void setServerIndex(const QString &operation, int serverIndex);
```
Parameter "operation" should be your operationid. "serverIndex" is the index you want to set as your default server. The function will check if there is a server with your index.
Here is an example of multiple servers in the servers array. The first server will have index 0 and the second will have index 1.
```yaml
servers:
- url: http://{server}:8080/
  description: Description of the Server
  variables:
    server:
        enum:
          - 'petstore'
          - 'qa-petstore'
          - 'dev-petstore'
        default: 'petstore'
- url: https://localhost:8080/v1
```

## Documentation for Authorization

Authentication schemes defined for the API:
### apiKey


- **Type**: API key
- **API key parameter name**: apiKey
- **Location**: URL query string


## Author




## License

 for more information visit []()