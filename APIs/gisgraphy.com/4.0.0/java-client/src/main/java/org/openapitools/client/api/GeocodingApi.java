/*
 * Gisgraphy webservices
 * Since 2006, [Gisgraphy](http://www.gisgraphy.com) is a free, open source framework that offers the possibility to do geolocalisation and geocoding via Java APIs or REST webservices. Because geocoding is nothing without data, it provides an easy to use importer that will automatically download and import the necessary (free) data to your local database ([OpenStreetMap](http://www.openstreetmap.org/), [Geonames](http://www.geonames.org/) and [Quattroshapes](http://www.quattroshapes.com/): more than 100 million entries). You can also add your own data with the Web interface or the importer connectors provided. Gisgraphy is production ready, and has been designed to be scalable(load balanced), performant and used in other languages than just java : results can be output in XML, JSON, PHP, Python, Ruby, YAML, GeoRSS, and Atom. One of the most popular GPS tracking System (OpenGTS) also includes a Gisgraphy client...Gisgraphy is a framework. As a result it's flexible and powerful enough to be used in a lot of different use cases. [read more](http://www.gisgraphy.com)   if you use the premium servers, you can use the api key to test the webservices 
 *
 * The version of the OpenAPI document: 4.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package org.openapitools.client.api;

import org.openapitools.client.ApiCallback;
import org.openapitools.client.ApiClient;
import org.openapitools.client.ApiException;
import org.openapitools.client.ApiResponse;
import org.openapitools.client.Configuration;
import org.openapitools.client.Pair;
import org.openapitools.client.ProgressRequestBody;
import org.openapitools.client.ProgressResponseBody;

import com.google.gson.reflect.TypeToken;

import java.io.IOException;


import org.openapitools.client.model.AddressResultsDto;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class GeocodingApi {
    private ApiClient localVarApiClient;
    private int localHostIndex;
    private String localCustomBaseUrl;

    public GeocodingApi() {
        this(Configuration.getDefaultApiClient());
    }

    public GeocodingApi(ApiClient apiClient) {
        this.localVarApiClient = apiClient;
    }

    public ApiClient getApiClient() {
        return localVarApiClient;
    }

    public void setApiClient(ApiClient apiClient) {
        this.localVarApiClient = apiClient;
    }

    public int getHostIndex() {
        return localHostIndex;
    }

    public void setHostIndex(int hostIndex) {
        this.localHostIndex = hostIndex;
    }

    public String getCustomBaseUrl() {
        return localCustomBaseUrl;
    }

    public void setCustomBaseUrl(String customBaseUrl) {
        this.localCustomBaseUrl = customBaseUrl;
    }

    /**
     * Build call for geocode
     * @param address A postal address, structured or not, a street, a city, a postal code, a country, or a combination. (required)
     * @param country The country where the place/address is. It is used to determine the postal address format and to improve performance. It will probably be optional in next version to ease the usability. The value must be the ISO 3166 Alpha 2 code of the country. (optional)
     * @param postal Whether the given address is a postal address. default to false. In other words, if the address follow the specification or if it is a well-formed address as it was written on an envelope. This parameter will enable the parsing of the address by the address parser before geocoding, this way, the relevance will be better because because if parsing is successful, we will know the meaning of each word. Note that you can also specify each field if you already know them. (optional)
     * @param format The output format. (optional, default to XML)
     * @param from The first pagination index. Numbered from 1. If the number is &lt; 1 or not specified, it will be set to the default value : 1 (optional, default to 1)
     * @param to The last pagination index. if &lt; 1 or not specified, it will be set to startindex + 10. Max &#x3D; 10 (can be changed) (optional, default to 10)
     * @param paramCallback The callback method name (optional), use to wrap the content into a (alphanumeric) Javascript method. Works only for script output formats (JSON, PHP, Ruby, Python) (optional)
     * @param indent indents the results. Possible values are true or false (or on when used with the rest service. If you use a checkbox in a web form, to indent the results, the value will be &#39;on&#39; or &#39;off&#39;, so for a simple use : the value of indent can be &#39;true&#39; or &#39;on&#39; (optional, default to false)
     * @param _callback Callback for upload/download progress
     * @return Call to execute
     * @throws ApiException If fail to serialize the request body object
     * @http.response.details
     <table summary="Response Details" border="1">
        <tr><td> Status Code </td><td> Description </td><td> Response Headers </td></tr>
        <tr><td> 200 </td><td> Sucessfully processed </td><td>  -  </td></tr>
        <tr><td> 401 </td><td> Need auth. The API key parameter is missing or wrong, or doesn&#39;t correspond to any subscriptions </td><td>  -  </td></tr>
        <tr><td> 403 </td><td> Unhauthorize (auth will change nothing).Your IP is not allowed. </td><td>  -  </td></tr>
        <tr><td> 412 </td><td> Missing parameter. Some parameters required for the webservices ar missing, please consult documentation </td><td>  -  </td></tr>
        <tr><td> 429 </td><td> Too many requests. You exceed the authorized rate </td><td>  -  </td></tr>
        <tr><td> 500 </td><td> Internal error </td><td>  -  </td></tr>
     </table>
     */
    public okhttp3.Call geocodeCall(String address, String country, String postal, String format, Integer from, Integer to, String paramCallback, Boolean indent, final ApiCallback _callback) throws ApiException {
        String basePath = null;
        // Operation Servers
        String[] localBasePaths = new String[] {  };

        // Determine Base Path to Use
        if (localCustomBaseUrl != null){
            basePath = localCustomBaseUrl;
        } else if ( localBasePaths.length > 0 ) {
            basePath = localBasePaths[localHostIndex];
        } else {
            basePath = null;
        }

        Object localVarPostBody = null;

        // create path and map variables
        String localVarPath = "/geocoding/geocode";

        List<Pair> localVarQueryParams = new ArrayList<Pair>();
        List<Pair> localVarCollectionQueryParams = new ArrayList<Pair>();
        Map<String, String> localVarHeaderParams = new HashMap<String, String>();
        Map<String, String> localVarCookieParams = new HashMap<String, String>();
        Map<String, Object> localVarFormParams = new HashMap<String, Object>();

        if (address != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("address", address));
        }

        if (country != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("country", country));
        }

        if (postal != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("postal", postal));
        }

        if (format != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("format", format));
        }

        if (from != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("from", from));
        }

        if (to != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("to", to));
        }

        if (paramCallback != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("callback", paramCallback));
        }

        if (indent != null) {
            localVarQueryParams.addAll(localVarApiClient.parameterToPair("indent", indent));
        }

        final String[] localVarAccepts = {
            "application/json",
            "application/xml",
            "application/php",
            "application/ruby",
            "application/yaml",
            "application/python"
        };
        final String localVarAccept = localVarApiClient.selectHeaderAccept(localVarAccepts);
        if (localVarAccept != null) {
            localVarHeaderParams.put("Accept", localVarAccept);
        }

        final String[] localVarContentTypes = {
        };
        final String localVarContentType = localVarApiClient.selectHeaderContentType(localVarContentTypes);
        if (localVarContentType != null) {
            localVarHeaderParams.put("Content-Type", localVarContentType);
        }

        String[] localVarAuthNames = new String[] { "api_key" };
        return localVarApiClient.buildCall(basePath, localVarPath, "GET", localVarQueryParams, localVarCollectionQueryParams, localVarPostBody, localVarHeaderParams, localVarCookieParams, localVarFormParams, localVarAuthNames, _callback);
    }

    @SuppressWarnings("rawtypes")
    private okhttp3.Call geocodeValidateBeforeCall(String address, String country, String postal, String format, Integer from, Integer to, String paramCallback, Boolean indent, final ApiCallback _callback) throws ApiException {
        // verify the required parameter 'address' is set
        if (address == null) {
            throw new ApiException("Missing the required parameter 'address' when calling geocode(Async)");
        }

        return geocodeCall(address, country, postal, format, from, to, paramCallback, indent, _callback);

    }

    /**
     * Geocode an address
     * The Gisgraphy geocoding service allows you to transform postal addresses or other descriptions (a street, a city, a postal code, a country, or a combination) of a location into a (latitude, longitude) coordinate.
     * @param address A postal address, structured or not, a street, a city, a postal code, a country, or a combination. (required)
     * @param country The country where the place/address is. It is used to determine the postal address format and to improve performance. It will probably be optional in next version to ease the usability. The value must be the ISO 3166 Alpha 2 code of the country. (optional)
     * @param postal Whether the given address is a postal address. default to false. In other words, if the address follow the specification or if it is a well-formed address as it was written on an envelope. This parameter will enable the parsing of the address by the address parser before geocoding, this way, the relevance will be better because because if parsing is successful, we will know the meaning of each word. Note that you can also specify each field if you already know them. (optional)
     * @param format The output format. (optional, default to XML)
     * @param from The first pagination index. Numbered from 1. If the number is &lt; 1 or not specified, it will be set to the default value : 1 (optional, default to 1)
     * @param to The last pagination index. if &lt; 1 or not specified, it will be set to startindex + 10. Max &#x3D; 10 (can be changed) (optional, default to 10)
     * @param paramCallback The callback method name (optional), use to wrap the content into a (alphanumeric) Javascript method. Works only for script output formats (JSON, PHP, Ruby, Python) (optional)
     * @param indent indents the results. Possible values are true or false (or on when used with the rest service. If you use a checkbox in a web form, to indent the results, the value will be &#39;on&#39; or &#39;off&#39;, so for a simple use : the value of indent can be &#39;true&#39; or &#39;on&#39; (optional, default to false)
     * @return AddressResultsDto
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @http.response.details
     <table summary="Response Details" border="1">
        <tr><td> Status Code </td><td> Description </td><td> Response Headers </td></tr>
        <tr><td> 200 </td><td> Sucessfully processed </td><td>  -  </td></tr>
        <tr><td> 401 </td><td> Need auth. The API key parameter is missing or wrong, or doesn&#39;t correspond to any subscriptions </td><td>  -  </td></tr>
        <tr><td> 403 </td><td> Unhauthorize (auth will change nothing).Your IP is not allowed. </td><td>  -  </td></tr>
        <tr><td> 412 </td><td> Missing parameter. Some parameters required for the webservices ar missing, please consult documentation </td><td>  -  </td></tr>
        <tr><td> 429 </td><td> Too many requests. You exceed the authorized rate </td><td>  -  </td></tr>
        <tr><td> 500 </td><td> Internal error </td><td>  -  </td></tr>
     </table>
     */
    public AddressResultsDto geocode(String address, String country, String postal, String format, Integer from, Integer to, String paramCallback, Boolean indent) throws ApiException {
        ApiResponse<AddressResultsDto> localVarResp = geocodeWithHttpInfo(address, country, postal, format, from, to, paramCallback, indent);
        return localVarResp.getData();
    }

    /**
     * Geocode an address
     * The Gisgraphy geocoding service allows you to transform postal addresses or other descriptions (a street, a city, a postal code, a country, or a combination) of a location into a (latitude, longitude) coordinate.
     * @param address A postal address, structured or not, a street, a city, a postal code, a country, or a combination. (required)
     * @param country The country where the place/address is. It is used to determine the postal address format and to improve performance. It will probably be optional in next version to ease the usability. The value must be the ISO 3166 Alpha 2 code of the country. (optional)
     * @param postal Whether the given address is a postal address. default to false. In other words, if the address follow the specification or if it is a well-formed address as it was written on an envelope. This parameter will enable the parsing of the address by the address parser before geocoding, this way, the relevance will be better because because if parsing is successful, we will know the meaning of each word. Note that you can also specify each field if you already know them. (optional)
     * @param format The output format. (optional, default to XML)
     * @param from The first pagination index. Numbered from 1. If the number is &lt; 1 or not specified, it will be set to the default value : 1 (optional, default to 1)
     * @param to The last pagination index. if &lt; 1 or not specified, it will be set to startindex + 10. Max &#x3D; 10 (can be changed) (optional, default to 10)
     * @param paramCallback The callback method name (optional), use to wrap the content into a (alphanumeric) Javascript method. Works only for script output formats (JSON, PHP, Ruby, Python) (optional)
     * @param indent indents the results. Possible values are true or false (or on when used with the rest service. If you use a checkbox in a web form, to indent the results, the value will be &#39;on&#39; or &#39;off&#39;, so for a simple use : the value of indent can be &#39;true&#39; or &#39;on&#39; (optional, default to false)
     * @return ApiResponse&lt;AddressResultsDto&gt;
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @http.response.details
     <table summary="Response Details" border="1">
        <tr><td> Status Code </td><td> Description </td><td> Response Headers </td></tr>
        <tr><td> 200 </td><td> Sucessfully processed </td><td>  -  </td></tr>
        <tr><td> 401 </td><td> Need auth. The API key parameter is missing or wrong, or doesn&#39;t correspond to any subscriptions </td><td>  -  </td></tr>
        <tr><td> 403 </td><td> Unhauthorize (auth will change nothing).Your IP is not allowed. </td><td>  -  </td></tr>
        <tr><td> 412 </td><td> Missing parameter. Some parameters required for the webservices ar missing, please consult documentation </td><td>  -  </td></tr>
        <tr><td> 429 </td><td> Too many requests. You exceed the authorized rate </td><td>  -  </td></tr>
        <tr><td> 500 </td><td> Internal error </td><td>  -  </td></tr>
     </table>
     */
    public ApiResponse<AddressResultsDto> geocodeWithHttpInfo(String address, String country, String postal, String format, Integer from, Integer to, String paramCallback, Boolean indent) throws ApiException {
        okhttp3.Call localVarCall = geocodeValidateBeforeCall(address, country, postal, format, from, to, paramCallback, indent, null);
        Type localVarReturnType = new TypeToken<AddressResultsDto>(){}.getType();
        return localVarApiClient.execute(localVarCall, localVarReturnType);
    }

    /**
     * Geocode an address (asynchronously)
     * The Gisgraphy geocoding service allows you to transform postal addresses or other descriptions (a street, a city, a postal code, a country, or a combination) of a location into a (latitude, longitude) coordinate.
     * @param address A postal address, structured or not, a street, a city, a postal code, a country, or a combination. (required)
     * @param country The country where the place/address is. It is used to determine the postal address format and to improve performance. It will probably be optional in next version to ease the usability. The value must be the ISO 3166 Alpha 2 code of the country. (optional)
     * @param postal Whether the given address is a postal address. default to false. In other words, if the address follow the specification or if it is a well-formed address as it was written on an envelope. This parameter will enable the parsing of the address by the address parser before geocoding, this way, the relevance will be better because because if parsing is successful, we will know the meaning of each word. Note that you can also specify each field if you already know them. (optional)
     * @param format The output format. (optional, default to XML)
     * @param from The first pagination index. Numbered from 1. If the number is &lt; 1 or not specified, it will be set to the default value : 1 (optional, default to 1)
     * @param to The last pagination index. if &lt; 1 or not specified, it will be set to startindex + 10. Max &#x3D; 10 (can be changed) (optional, default to 10)
     * @param paramCallback The callback method name (optional), use to wrap the content into a (alphanumeric) Javascript method. Works only for script output formats (JSON, PHP, Ruby, Python) (optional)
     * @param indent indents the results. Possible values are true or false (or on when used with the rest service. If you use a checkbox in a web form, to indent the results, the value will be &#39;on&#39; or &#39;off&#39;, so for a simple use : the value of indent can be &#39;true&#39; or &#39;on&#39; (optional, default to false)
     * @param _callback The callback to be executed when the API call finishes
     * @return The request call
     * @throws ApiException If fail to process the API call, e.g. serializing the request body object
     * @http.response.details
     <table summary="Response Details" border="1">
        <tr><td> Status Code </td><td> Description </td><td> Response Headers </td></tr>
        <tr><td> 200 </td><td> Sucessfully processed </td><td>  -  </td></tr>
        <tr><td> 401 </td><td> Need auth. The API key parameter is missing or wrong, or doesn&#39;t correspond to any subscriptions </td><td>  -  </td></tr>
        <tr><td> 403 </td><td> Unhauthorize (auth will change nothing).Your IP is not allowed. </td><td>  -  </td></tr>
        <tr><td> 412 </td><td> Missing parameter. Some parameters required for the webservices ar missing, please consult documentation </td><td>  -  </td></tr>
        <tr><td> 429 </td><td> Too many requests. You exceed the authorized rate </td><td>  -  </td></tr>
        <tr><td> 500 </td><td> Internal error </td><td>  -  </td></tr>
     </table>
     */
    public okhttp3.Call geocodeAsync(String address, String country, String postal, String format, Integer from, Integer to, String paramCallback, Boolean indent, final ApiCallback<AddressResultsDto> _callback) throws ApiException {

        okhttp3.Call localVarCall = geocodeValidateBeforeCall(address, country, postal, format, from, to, paramCallback, indent, _callback);
        Type localVarReturnType = new TypeToken<AddressResultsDto>(){}.getType();
        localVarApiClient.executeAsync(localVarCall, localVarReturnType, _callback);
        return localVarCall;
    }
}
