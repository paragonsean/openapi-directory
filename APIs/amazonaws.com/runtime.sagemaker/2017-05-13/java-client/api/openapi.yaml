openapi: 3.0.0
info:
  contact:
    email: mike.ralphson@gmail.com
    name: Mike Ralphson
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  description: ' The Amazon SageMaker runtime API. '
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  termsOfService: https://aws.amazon.com/service-terms/
  title: Amazon SageMaker Runtime
  version: 2017-05-13
  x-release: v4
  x-logo:
    url: https://twitter.com/awscloud/profile_image?size=original
    backgroundColor: '#FFFFFF'
  x-providerName: amazonaws.com
  x-serviceName: runtime.sagemaker
  x-aws-signingName: sagemaker
  x-origin:
  - contentType: application/json
    url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/runtime.sagemaker-2017-05-13.normal.json
    converter:
      url: https://github.com/mermade/aws2openapi
      version: 1.0.0
    x-apisguru-driver: external
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
  - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/sagemaker/
servers:
- description: The Amazon SageMaker Runtime multi-region endpoint
  url: "http://runtime.sagemaker.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The Amazon SageMaker Runtime multi-region endpoint
  url: "https://runtime.sagemaker.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The Amazon SageMaker Runtime endpoint for China (Beijing) and China
    (Ningxia)
  url: "http://runtime.sagemaker.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
- description: The Amazon SageMaker Runtime endpoint for China (Beijing) and China
    (Ningxia)
  url: "https://runtime.sagemaker.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
security:
- hmac: []
paths:
  /endpoints/{EndpointName}/invocations:
    post:
      description: "<p>After you deploy a model into production using Amazon SageMaker\
        \ hosting services, your client applications use this API to get inferences\
        \ from the model hosted at the specified endpoint. </p> <p>For an overview\
        \ of Amazon SageMaker, see <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/how-it-works.html\"\
        >How It Works</a>. </p> <p>Amazon SageMaker strips all POST headers except\
        \ those supported by the API. Amazon SageMaker might add additional headers.\
        \ You should not rely on the behavior of headers outside those enumerated\
        \ in the request syntax. </p> <p>Calls to <code>InvokeEndpoint</code> are\
        \ authenticated by using Amazon Web Services Signature Version 4. For information,\
        \ see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html\"\
        >Authenticating Requests (Amazon Web Services Signature Version 4)</a> in\
        \ the <i>Amazon S3 API Reference</i>.</p> <p>A customer's model containers\
        \ must respond to requests within 60 seconds. The model itself can have a\
        \ maximum processing time of 60 seconds before responding to invocations.\
        \ If your model is going to take 50-60 seconds of processing time, the SDK\
        \ socket timeout should be set to be 70 seconds.</p> <note> <p>Endpoints are\
        \ scoped to an individual account, and are not public. The URL does not contain\
        \ the account ID, but Amazon SageMaker determines the account ID from the\
        \ authentication token that is supplied by the caller.</p> </note>"
      operationId: InvokeEndpoint
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - description: 'The name of the endpoint that you specified when you created
          the endpoint using the <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/API_CreateEndpoint.html">CreateEndpoint</a>
          API. '
        explode: false
        in: path
        name: EndpointName
        required: true
        schema:
          maxLength: 63
          pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
          type: string
        style: simple
      - description: The MIME type of the input data in the request body.
        explode: false
        in: header
        name: Content-Type
        required: false
        schema:
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: The desired MIME type of the inference in the response.
        explode: false
        in: header
        name: Accept
        required: false
        schema:
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: "<p>Provides additional information about a request for an inference\
          \ submitted to a model hosted at an Amazon SageMaker endpoint. The information\
          \ is an opaque value that is forwarded verbatim. You could use this value,\
          \ for example, to provide an ID that you can use to track a request or to\
          \ provide other metadata that a service endpoint was programmed to process.\
          \ The value must consist of no more than 1024 visible US-ASCII characters\
          \ as specified in <a href=\"https://tools.ietf.org/html/rfc7230#section-3.2.6\"\
          >Section 3.3.6. Field Value Components</a> of the Hypertext Transfer Protocol\
          \ (HTTP/1.1). </p> <p>The code in your model is responsible for setting\
          \ or updating any custom attributes in the response. If your code does not\
          \ set this value in the response, an empty value is returned. For example,\
          \ if a custom attribute represents the trace ID, your model can prepend\
          \ the custom attribute with <code>Trace ID:</code> in your post-processing\
          \ function.</p> <p>This feature is currently supported in the Amazon Web\
          \ Services SDKs but not in the Amazon SageMaker Python SDK.</p>"
        explode: false
        in: header
        name: X-Amzn-SageMaker-Custom-Attributes
        required: false
        schema:
          format: password
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: The model to request for inference when invoking a multi-model
          endpoint.
        explode: false
        in: header
        name: X-Amzn-SageMaker-Target-Model
        required: false
        schema:
          maxLength: 1024
          minLength: 1
          pattern: "\\A\\S[\\p{Print}]*\\z"
          type: string
        style: simple
      - description: "<p>Specify the production variant to send the inference request\
          \ to when invoking an endpoint that is running two or more variants. Note\
          \ that this parameter overrides the default behavior for the endpoint, which\
          \ is to distribute the invocation traffic based on the variant weights.</p>\
          \ <p>For information about how to use variant targeting to perform a/b testing,\
          \ see <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/model-ab-testing.html\"\
          >Test models in production</a> </p>"
        explode: false
        in: header
        name: X-Amzn-SageMaker-Target-Variant
        required: false
        schema:
          maxLength: 63
          pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
          type: string
        style: simple
      - description: "If the endpoint hosts multiple containers and is configured\
          \ to use direct invocation, this parameter specifies the host name of the\
          \ container to invoke."
        explode: false
        in: header
        name: X-Amzn-SageMaker-Target-Container-Hostname
        required: false
        schema:
          maxLength: 63
          pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
          type: string
        style: simple
      - description: "If you provide a value, it is added to the captured data when\
          \ you enable data capture on the endpoint. For information about data capture,\
          \ see <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-data-capture.html\"\
          >Capture Data</a>."
        explode: false
        in: header
        name: X-Amzn-SageMaker-Inference-Id
        required: false
        schema:
          maxLength: 64
          minLength: 1
          pattern: "\\A\\S[\\p{Print}]*\\z"
          type: string
        style: simple
      - description: 'An optional JMESPath expression used to override the <code>EnableExplanations</code>
          parameter of the <code>ClarifyExplainerConfig</code> API. See the <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-create-endpoint.html#clarify-online-explainability-create-endpoint-enable">EnableExplanations</a>
          section in the developer guide for more information. '
        explode: false
        in: header
        name: X-Amzn-SageMaker-Enable-Explanations
        required: false
        schema:
          maxLength: 64
          minLength: 1
          pattern: .*
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InvokeEndpoint_request'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvokeEndpointOutput'
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalFailure'
          description: InternalFailure
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceUnavailable'
          description: ServiceUnavailable
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ValidationError
        "483":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelError'
          description: ModelError
        "484":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalDependencyException'
          description: InternalDependencyException
        "485":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelNotReadyException'
          description: ModelNotReadyException
      x-content-type: application/json
      x-accepts:
      - application/json
  /endpoints/{EndpointName}/async-invocations#X-Amzn-SageMaker-InputLocation:
    post:
      description: "<p>After you deploy a model into production using Amazon SageMaker\
        \ hosting services, your client applications use this API to get inferences\
        \ from the model hosted at the specified endpoint in an asynchronous manner.</p>\
        \ <p>Inference requests sent to this API are enqueued for asynchronous processing.\
        \ The processing of the inference request may or may not complete before you\
        \ receive a response from this API. The response from this API will not contain\
        \ the result of the inference request but contain information about where\
        \ you can locate it.</p> <p>Amazon SageMaker strips all <code>POST</code>\
        \ headers except those supported by the API. Amazon SageMaker might add additional\
        \ headers. You should not rely on the behavior of headers outside those enumerated\
        \ in the request syntax.</p> <p>Calls to <code>InvokeEndpointAsync</code>\
        \ are authenticated by using Amazon Web Services Signature Version 4. For\
        \ information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html\"\
        >Authenticating Requests (Amazon Web Services Signature Version 4)</a> in\
        \ the <i>Amazon S3 API Reference</i>.</p>"
      operationId: InvokeEndpointAsync
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - description: The name of the endpoint that you specified when you created
          the endpoint using the <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateEndpoint.html">
          <code>CreateEndpoint</code> </a> API.
        explode: false
        in: path
        name: EndpointName
        required: true
        schema:
          maxLength: 63
          pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
          type: string
        style: simple
      - description: The MIME type of the input data in the request body.
        explode: false
        in: header
        name: X-Amzn-SageMaker-Content-Type
        required: false
        schema:
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: The desired MIME type of the inference in the response.
        explode: false
        in: header
        name: X-Amzn-SageMaker-Accept
        required: false
        schema:
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: "<p>Provides additional information about a request for an inference\
          \ submitted to a model hosted at an Amazon SageMaker endpoint. The information\
          \ is an opaque value that is forwarded verbatim. You could use this value,\
          \ for example, to provide an ID that you can use to track a request or to\
          \ provide other metadata that a service endpoint was programmed to process.\
          \ The value must consist of no more than 1024 visible US-ASCII characters\
          \ as specified in <a href=\"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2.6\"\
          >Section 3.3.6. Field Value Components</a> of the Hypertext Transfer Protocol\
          \ (HTTP/1.1). </p> <p>The code in your model is responsible for setting\
          \ or updating any custom attributes in the response. If your code does not\
          \ set this value in the response, an empty value is returned. For example,\
          \ if a custom attribute represents the trace ID, your model can prepend\
          \ the custom attribute with <code>Trace ID</code>: in your post-processing\
          \ function. </p> <p>This feature is currently supported in the Amazon Web\
          \ Services SDKs but not in the Amazon SageMaker Python SDK. </p>"
        explode: false
        in: header
        name: X-Amzn-SageMaker-Custom-Attributes
        required: false
        schema:
          format: password
          maxLength: 1024
          pattern: "\\p{ASCII}*"
          type: string
        style: simple
      - description: 'The identifier for the inference request. Amazon SageMaker will
          generate an identifier for you if none is specified. '
        explode: false
        in: header
        name: X-Amzn-SageMaker-Inference-Id
        required: false
        schema:
          maxLength: 64
          minLength: 1
          pattern: "\\A\\S[\\p{Print}]*\\z"
          type: string
        style: simple
      - description: The Amazon S3 URI where the inference request payload is stored.
        explode: false
        in: header
        name: X-Amzn-SageMaker-InputLocation
        required: true
        schema:
          maxLength: 1024
          minLength: 1
          pattern: "^(https|s3)://([^/]+)/?(.*)$"
          type: string
        style: simple
      - description: "Maximum age in seconds a request can be in the queue before\
          \ it is marked as expired. The default is 6 hours, or 21,600 seconds."
        explode: false
        in: header
        name: X-Amzn-SageMaker-RequestTTLSeconds
        required: false
        schema:
          maximum: 21600
          minimum: 60
          type: integer
        style: simple
      - description: "Maximum amount of time in seconds a request can be processed\
          \ before it is marked as expired. The default is 15 minutes, or 900 seconds."
        explode: false
        in: header
        name: X-Amzn-SageMaker-InvocationTimeoutSeconds
        required: false
        schema:
          maximum: 3600
          minimum: 1
          type: integer
        style: simple
      responses:
        "202":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvokeEndpointAsyncOutput'
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalFailure'
          description: InternalFailure
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceUnavailable'
          description: ServiceUnavailable
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ValidationError
      x-accepts:
      - application/json
components:
  parameters:
    X-Amz-Content-Sha256:
      explode: false
      in: header
      name: X-Amz-Content-Sha256
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Date:
      explode: false
      in: header
      name: X-Amz-Date
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Algorithm:
      explode: false
      in: header
      name: X-Amz-Algorithm
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Credential:
      explode: false
      in: header
      name: X-Amz-Credential
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Security-Token:
      explode: false
      in: header
      name: X-Amz-Security-Token
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Signature:
      explode: false
      in: header
      name: X-Amz-Signature
      required: false
      schema:
        type: string
      style: simple
    X-Amz-SignedHeaders:
      explode: false
      in: header
      name: X-Amz-SignedHeaders
      required: false
      schema:
        type: string
      style: simple
  schemas:
    InvokeEndpointOutput:
      example:
        Body: ""
      properties:
        Body:
          allOf:
          - $ref: '#/components/schemas/BodyBlob'
          - description: "<p>Includes the inference provided by the model. </p> <p>For\
              \ information about the format of the response body, see <a href=\"\
              https://docs.aws.amazon.com/sagemaker/latest/dg/cdf-inference.html\"\
              >Common Data Formats-Inference</a>.</p> <p>If the explainer is activated,\
              \ the body includes the explanations provided by the model. For more\
              \ information, see the <b>Response section</b> under <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-invoke-endpoint.html#clarify-online-explainability-response\"\
              >Invoke the Endpoint</a> in the Developer Guide.</p>"
      required:
      - Body
      type: object
    InternalFailure: {}
    ServiceUnavailable: {}
    ValidationError: {}
    ModelError: {}
    InternalDependencyException: {}
    ModelNotReadyException: {}
    InvokeEndpointAsyncOutput:
      example:
        InferenceId: ""
      properties:
        InferenceId:
          allOf:
          - $ref: '#/components/schemas/Header'
          - description: Identifier for an inference request. This will be the same
              as the <code>InferenceId</code> specified in the input. Amazon SageMaker
              will generate an identifier for you if you do not specify one.
      type: object
    BodyBlob:
      format: password
      maxLength: 6291456
      type: string
    CustomAttributesHeader:
      format: password
      maxLength: 1024
      pattern: "\\p{ASCII}*"
      type: string
    EnableExplanationsHeader:
      maxLength: 64
      minLength: 1
      pattern: .*
      type: string
    EndpointName:
      maxLength: 63
      pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
      type: string
    Header:
      maxLength: 1024
      pattern: "\\p{ASCII}*"
      type: string
    InferenceId:
      maxLength: 64
      minLength: 1
      pattern: "\\A\\S[\\p{Print}]*\\z"
      type: string
    InputLocationHeader:
      maxLength: 1024
      minLength: 1
      pattern: "^(https|s3)://([^/]+)/?(.*)$"
      type: string
    InvocationTimeoutSecondsHeader:
      maximum: 3600
      minimum: 1
      type: integer
    RequestTTLSecondsHeader:
      maximum: 21600
      minimum: 60
      type: integer
    InvokeEndpointAsyncInput:
      properties: {}
      title: InvokeEndpointAsyncInput
      type: object
    TargetModelHeader:
      maxLength: 1024
      minLength: 1
      pattern: "\\A\\S[\\p{Print}]*\\z"
      type: string
    TargetVariantHeader:
      maxLength: 63
      pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
      type: string
    TargetContainerHostnameHeader:
      maxLength: 63
      pattern: "^[a-zA-Z0-9](-*[a-zA-Z0-9])*"
      type: string
    InvokeEndpointInput:
      properties:
        Body:
          allOf:
          - $ref: '#/components/schemas/BodyBlob'
          - description: "<p>Provides input data, in the format specified in the <code>ContentType</code>\
              \ request header. Amazon SageMaker passes all of the data in the body\
              \ to the model. </p> <p>For information about the format of the request\
              \ body, see <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/cdf-inference.html\"\
              >Common Data Formats-Inference</a>.</p>"
      required:
      - Body
      title: InvokeEndpointInput
      type: object
    InvokeEndpoint_request:
      properties:
        Body:
          description: "<p>Provides input data, in the format specified in the <code>ContentType</code>\
            \ request header. Amazon SageMaker passes all of the data in the body\
            \ to the model. </p> <p>For information about the format of the request\
            \ body, see <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/cdf-inference.html\"\
            >Common Data Formats-Inference</a>.</p>"
          format: password
          maxLength: 6291456
          type: string
      required:
      - Body
      type: object
  securitySchemes:
    hmac:
      description: Amazon Signature authorization v4
      in: header
      name: Authorization
      type: apiKey
      x-amazon-apigateway-authtype: awsSigv4

