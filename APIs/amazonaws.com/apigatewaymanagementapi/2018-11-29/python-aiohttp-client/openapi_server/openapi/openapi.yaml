openapi: 3.0.0
info:
  contact:
    email: mike.ralphson@gmail.com
    name: Mike Ralphson
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  description: "The Amazon API Gateway Management API allows you to directly manage\
    \ runtime aspects of your deployed APIs. To use it, you must explicitly set the\
    \ SDK's endpoint to point to the endpoint of your deployed API. The endpoint will\
    \ be of the form https://{api-id}.execute-api.{region}.amazonaws.com/{stage},\
    \ or will be the endpoint corresponding to your API's custom domain and base path,\
    \ if applicable."
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  termsOfService: https://aws.amazon.com/service-terms/
  title: AmazonApiGatewayManagementApi
  version: 2018-11-29
  x-release: v4
  x-logo:
    url: https://twitter.com/awscloud/profile_image?size=original
    backgroundColor: '#FFFFFF'
  x-providerName: amazonaws.com
  x-serviceName: apigatewaymanagementapi
  x-aws-signingName: execute-api
  x-origin:
  - contentType: application/json
    url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/apigatewaymanagementapi-2018-11-29.normal.json
    converter:
      url: https://github.com/mermade/aws2openapi
      version: 1.0.0
    x-apisguru-driver: external
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
  - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/execute-api/
servers:
- description: The AmazonApiGatewayManagementApi multi-region endpoint
  url: "http://execute-api.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The AmazonApiGatewayManagementApi multi-region endpoint
  url: "https://execute-api.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The AmazonApiGatewayManagementApi endpoint for China (Beijing) and
    China (Ningxia)
  url: "http://execute-api.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
- description: The AmazonApiGatewayManagementApi endpoint for China (Beijing) and
    China (Ningxia)
  url: "https://execute-api.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
security:
- hmac: []
paths:
  /@connections/{connectionId}:
    delete:
      description: Delete the connection with the provided id.
      operationId: delete_connection
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - description: ""
        explode: false
        in: path
        name: connectionId
        required: true
        schema:
          type: string
        style: simple
      responses:
        "204":
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoneException'
          description: GoneException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LimitExceededException'
          description: LimitExceededException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenException'
          description: ForbiddenException
      x-openapi-router-controller: openapi_server.controllers.default_controller
    get:
      description: Get information about the connection with the provided id.
      operationId: get_connection
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - description: ""
        explode: false
        in: path
        name: connectionId
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetConnectionResponse'
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoneException'
          description: GoneException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LimitExceededException'
          description: LimitExceededException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenException'
          description: ForbiddenException
      x-openapi-router-controller: openapi_server.controllers.default_controller
    post:
      description: Sends the provided data to the specified connection.
      operationId: post_to_connection
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - description: The identifier of the connection that a specific client is using.
        explode: false
        in: path
        name: connectionId
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostToConnection_request'
        required: true
        x-body-name: body
      responses:
        "200":
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoneException'
          description: GoneException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LimitExceededException'
          description: LimitExceededException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PayloadTooLargeException'
          description: PayloadTooLargeException
        "483":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenException'
          description: ForbiddenException
      x-openapi-router-controller: openapi_server.controllers.default_controller
      x-codegen-request-body-name: body
components:
  parameters:
    X-Amz-Content-Sha256:
      explode: false
      in: header
      name: X-Amz-Content-Sha256
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Date:
      explode: false
      in: header
      name: X-Amz-Date
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Algorithm:
      explode: false
      in: header
      name: X-Amz-Algorithm
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Credential:
      explode: false
      in: header
      name: X-Amz-Credential
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Security-Token:
      explode: false
      in: header
      name: X-Amz-Security-Token
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Signature:
      explode: false
      in: header
      name: X-Amz-Signature
      required: false
      schema:
        type: string
      style: simple
    X-Amz-SignedHeaders:
      explode: false
      in: header
      name: X-Amz-SignedHeaders
      required: false
      schema:
        type: string
      style: simple
  schemas:
    GoneException: {}
    LimitExceededException: {}
    ForbiddenException: {}
    GetConnectionResponse:
      example:
        LastActiveAt: ""
        Identity:
          SourceIp: ""
          UserAgent: ""
        ConnectedAt: ""
      properties:
        ConnectedAt:
          allOf:
          - $ref: '#/components/schemas/__timestampIso8601'
          - description: The time in ISO 8601 format for when the connection was established.
            xml:
              name: connectedAt
          title: ConnectedAt
        Identity:
          $ref: '#/components/schemas/GetConnectionResponse_Identity'
        LastActiveAt:
          allOf:
          - $ref: '#/components/schemas/__timestampIso8601'
          - description: The time in ISO 8601 format for when the connection was last
              active.
            xml:
              name: lastActiveAt
          title: LastActiveAt
      title: GetConnectionResponse
      type: object
    PayloadTooLargeException: {}
    Data:
      description: The data to be sent to the client specified by its connection id.
      maxLength: 131072
      type: string
    __string:
      type: string
    DeleteConnectionRequest:
      properties: {}
      title: DeleteConnectionRequest
      type: object
    GetConnectionRequest:
      properties: {}
      title: GetConnectionRequest
      type: object
    __timestampIso8601:
      format: date-time
      type: string
    Identity:
      properties:
        SourceIp:
          allOf:
          - $ref: '#/components/schemas/__string'
          - description: The source IP address of the TCP connection making the request
              to API Gateway.
            xml:
              name: sourceIp
          title: SourceIp
        UserAgent:
          allOf:
          - $ref: '#/components/schemas/__string'
          - description: The User Agent of the API caller.
            xml:
              name: userAgent
          title: UserAgent
      required:
      - SourceIp
      - UserAgent
      title: Identity
      type: object
    PostToConnectionRequest:
      example:
        Data: ""
      properties:
        Data:
          allOf:
          - $ref: '#/components/schemas/Data'
          - description: The data to be sent to the client specified by its connection
              id.
      required:
      - Data
      title: PostToConnectionRequest
      type: object
    PostToConnection_request:
      properties:
        Data:
          description: The data to be sent to the client specified by its connection
            id.
          maxLength: 131072
          title: Data
          type: string
      required:
      - Data
      title: PostToConnection_request
      type: object
    GetConnectionResponse_Identity:
      allOf:
      - $ref: '#/components/schemas/Identity'
      - xml:
          name: identity
      example:
        SourceIp: ""
        UserAgent: ""
      title: GetConnectionResponse_Identity
  securitySchemes:
    hmac:
      description: Amazon Signature authorization v4
      in: header
      name: Authorization
      type: apiKey
      x-amazon-apigateway-authtype: awsSigv4
      x-apikeyInfoFunc: openapi_server.controllers.security_controller.info_from_hmac
