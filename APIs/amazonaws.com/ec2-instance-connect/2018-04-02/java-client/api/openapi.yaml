openapi: 3.0.0
info:
  contact:
    email: mike.ralphson@gmail.com
    name: Mike Ralphson
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  description: "Amazon EC2 Instance Connect enables system administrators to publish\
    \ one-time use SSH public keys to EC2, providing users a simple and secure way\
    \ to connect to their instances."
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  termsOfService: https://aws.amazon.com/service-terms/
  title: AWS EC2 Instance Connect
  version: 2018-04-02
  x-release: v4
  x-logo:
    url: https://twitter.com/awscloud/profile_image?size=original
    backgroundColor: '#FFFFFF'
  x-providerName: amazonaws.com
  x-serviceName: ec2-instance-connect
  x-origin:
  - contentType: application/json
    url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/ec2-instance-connect-2018-04-02.normal.json
    converter:
      url: https://github.com/mermade/aws2openapi
      version: 1.0.0
    x-apisguru-driver: external
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
  - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/ec2-instance-connect/
servers:
- description: The EC2 Instance Connect multi-region endpoint
  url: "http://ec2-instance-connect.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The EC2 Instance Connect multi-region endpoint
  url: "https://ec2-instance-connect.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The EC2 Instance Connect endpoint for China (Beijing) and China (Ningxia)
  url: "http://ec2-instance-connect.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
- description: The EC2 Instance Connect endpoint for China (Beijing) and China (Ningxia)
  url: "https://ec2-instance-connect.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
security:
- hmac: []
paths:
  /#X-Amz-Target=AWSEC2InstanceConnectService.SendSSHPublicKey:
    post:
      description: "Pushes an SSH public key to the specified EC2 instance for use\
        \ by the specified user. The key remains for 60 seconds. For more information,\
        \ see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Connect-using-EC2-Instance-Connect.html\"\
        >Connect to your Linux instance using EC2 Instance Connect</a> in the <i>Amazon\
        \ EC2 User Guide</i>."
      operationId: SendSSHPublicKey
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Target
        required: true
        schema:
          enum:
          - AWSEC2InstanceConnectService.SendSSHPublicKey
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendSSHPublicKeyRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendSSHPublicKeyResponse'
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthException'
          description: AuthException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvalidArgsException'
          description: InvalidArgsException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceException'
          description: ServiceException
        "483":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThrottlingException'
          description: ThrottlingException
        "484":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceNotFoundException'
          description: EC2InstanceNotFoundException
        "485":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceStateInvalidException'
          description: EC2InstanceStateInvalidException
        "486":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceUnavailableException'
          description: EC2InstanceUnavailableException
      x-content-type: application/json
      x-accepts:
      - application/json
  /#X-Amz-Target=AWSEC2InstanceConnectService.SendSerialConsoleSSHPublicKey:
    post:
      description: "Pushes an SSH public key to the specified EC2 instance. The key\
        \ remains for 60 seconds, which gives you 60 seconds to establish a serial\
        \ console connection to the instance using SSH. For more information, see\
        \ <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-serial-console.html\"\
        >EC2 Serial Console</a> in the <i>Amazon EC2 User Guide</i>."
      operationId: SendSerialConsoleSSHPublicKey
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Target
        required: true
        schema:
          enum:
          - AWSEC2InstanceConnectService.SendSerialConsoleSSHPublicKey
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendSerialConsoleSSHPublicKeyRequest'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendSerialConsoleSSHPublicKeyResponse'
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthException'
          description: AuthException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SerialConsoleAccessDisabledException'
          description: SerialConsoleAccessDisabledException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvalidArgsException'
          description: InvalidArgsException
        "483":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceException'
          description: ServiceException
        "484":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThrottlingException'
          description: ThrottlingException
        "485":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceNotFoundException'
          description: EC2InstanceNotFoundException
        "486":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceTypeInvalidException'
          description: EC2InstanceTypeInvalidException
        "487":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SerialConsoleSessionLimitExceededException'
          description: SerialConsoleSessionLimitExceededException
        "488":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SerialConsoleSessionUnavailableException'
          description: SerialConsoleSessionUnavailableException
        "489":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceStateInvalidException'
          description: EC2InstanceStateInvalidException
        "490":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EC2InstanceUnavailableException'
          description: EC2InstanceUnavailableException
      x-content-type: application/json
      x-accepts:
      - application/json
components:
  parameters:
    X-Amz-Content-Sha256:
      explode: false
      in: header
      name: X-Amz-Content-Sha256
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Date:
      explode: false
      in: header
      name: X-Amz-Date
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Algorithm:
      explode: false
      in: header
      name: X-Amz-Algorithm
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Credential:
      explode: false
      in: header
      name: X-Amz-Credential
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Security-Token:
      explode: false
      in: header
      name: X-Amz-Security-Token
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Signature:
      explode: false
      in: header
      name: X-Amz-Signature
      required: false
      schema:
        type: string
      style: simple
    X-Amz-SignedHeaders:
      explode: false
      in: header
      name: X-Amz-SignedHeaders
      required: false
      schema:
        type: string
      style: simple
  schemas:
    SendSSHPublicKeyResponse:
      example:
        RequestId: abcd1234-abcd-1234-abcd-1234abcd1234
        Success: true
      properties:
        RequestId:
          allOf:
          - $ref: '#/components/schemas/RequestId'
          - description: The ID of the request. Please provide this ID when contacting
              AWS Support for assistance.
        Success:
          allOf:
          - $ref: '#/components/schemas/Success'
          - description: Is true if the request succeeds and an error otherwise.
      type: object
    SendSSHPublicKeyRequest:
      example:
        InstanceOSUser: ""
        InstanceId: ""
        SSHPublicKey: ""
        AvailabilityZone: ""
      properties:
        InstanceId:
          allOf:
          - $ref: '#/components/schemas/InstanceId'
          - description: The ID of the EC2 instance.
        InstanceOSUser:
          allOf:
          - $ref: '#/components/schemas/InstanceOSUser'
          - description: The OS user on the EC2 instance for whom the key can be used
              to authenticate.
        SSHPublicKey:
          allOf:
          - $ref: '#/components/schemas/SSHPublicKey'
          - description: "The public key material. To use the public key, you must\
              \ have the matching private key."
        AvailabilityZone:
          allOf:
          - $ref: '#/components/schemas/AvailabilityZone'
          - description: The Availability Zone in which the EC2 instance was launched.
      required:
      - InstanceId
      - InstanceOSUser
      - SSHPublicKey
      title: SendSSHPublicKeyRequest
      type: object
    AuthException: {}
    InvalidArgsException: {}
    ServiceException: {}
    ThrottlingException: {}
    EC2InstanceNotFoundException: {}
    EC2InstanceStateInvalidException: {}
    EC2InstanceUnavailableException: {}
    SendSerialConsoleSSHPublicKeyResponse:
      example:
        RequestId: ""
        Success: ""
      properties:
        RequestId:
          allOf:
          - $ref: '#/components/schemas/RequestId'
          - description: The ID of the request. Please provide this ID when contacting
              AWS Support for assistance.
        Success:
          allOf:
          - $ref: '#/components/schemas/Success'
          - description: Is true if the request succeeds and an error otherwise.
      type: object
    SendSerialConsoleSSHPublicKeyRequest:
      example:
        SerialPort: ""
        InstanceId: ""
        SSHPublicKey: ""
      properties:
        InstanceId:
          allOf:
          - $ref: '#/components/schemas/InstanceId'
          - description: The ID of the EC2 instance.
        SerialPort:
          allOf:
          - $ref: '#/components/schemas/SerialPort'
          - description: "<p>The serial port of the EC2 instance. Currently only port\
              \ 0 is supported.</p> <p>Default: 0</p>"
        SSHPublicKey:
          allOf:
          - $ref: '#/components/schemas/SSHPublicKey'
          - description: "The public key material. To use the public key, you must\
              \ have the matching private key. For information about the supported\
              \ key formats and lengths, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws\"\
              >Requirements for key pairs</a> in the <i>Amazon EC2 User Guide</i>."
      required:
      - InstanceId
      - SSHPublicKey
      title: SendSerialConsoleSSHPublicKeyRequest
      type: object
    SerialConsoleAccessDisabledException: {}
    EC2InstanceTypeInvalidException: {}
    SerialConsoleSessionLimitExceededException: {}
    SerialConsoleSessionUnavailableException: {}
    AvailabilityZone:
      maxLength: 32
      minLength: 6
      pattern: "^(\\w+-){2,3}\\d+\\w+$"
      type: string
    InstanceId:
      maxLength: 32
      minLength: 10
      pattern: "^i-[a-f0-9]+$"
      type: string
    InstanceOSUser:
      maxLength: 32
      minLength: 1
      pattern: "^[A-Za-z_][A-Za-z0-9\\@\\._-]{0,30}[A-Za-z0-9\\$_-]?$"
      type: string
    RequestId:
      type: string
    SSHPublicKey:
      maxLength: 4096
      minLength: 80
      type: string
    Success:
      type: boolean
    SerialPort:
      maximum: 0
      minimum: 0
      type: integer
  securitySchemes:
    hmac:
      description: Amazon Signature authorization v4
      in: header
      name: Authorization
      type: apiKey
      x-amazon-apigateway-authtype: awsSigv4
x-hasEquivalentPaths: true

