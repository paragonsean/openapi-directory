openapi: 3.0.0
info:
  contact:
    email: mike.ralphson@gmail.com
    name: Mike Ralphson
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  description: "Amazon Personalize can consume real-time user event data, such as\
    \ <i>stream</i> or <i>click</i> data, and use it for model training either alone\
    \ or combined with historical data. For more information see <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html\"\
    >Recording Events</a>."
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  termsOfService: https://aws.amazon.com/service-terms/
  title: Amazon Personalize Events
  version: 2018-03-22
  x-release: v4
  x-logo:
    url: https://twitter.com/awscloud/profile_image?size=original
    backgroundColor: '#FFFFFF'
  x-providerName: amazonaws.com
  x-serviceName: personalize-events
  x-aws-signingName: personalize
  x-origin:
  - contentType: application/json
    url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/personalize-events-2018-03-22.normal.json
    converter:
      url: https://github.com/mermade/aws2openapi
      version: 1.0.0
    x-apisguru-driver: external
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
  - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/personalize-events/
servers:
- description: The Amazon Personalize Events multi-region endpoint
  url: "http://personalize-events.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The Amazon Personalize Events multi-region endpoint
  url: "https://personalize-events.{region}.amazonaws.com"
  variables:
    region:
      default: us-east-1
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
- description: The Amazon Personalize Events endpoint for China (Beijing) and China
    (Ningxia)
  url: "http://personalize-events.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
- description: The Amazon Personalize Events endpoint for China (Beijing) and China
    (Ningxia)
  url: "https://personalize-events.{region}.amazonaws.com.cn"
  variables:
    region:
      default: cn-north-1
      description: The AWS region
      enum:
      - cn-north-1
      - cn-northwest-1
security:
- hmac: []
paths:
  /events:
    post:
      description: Records user interaction event data. For more information see <a
        href="https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html">Recording
        Events</a>.
      operationId: PutEvents
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutEvents_request'
        required: true
      responses:
        "200":
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvalidInputException'
          description: InvalidInputException
      x-content-type: application/json
      x-accepts:
      - application/json
  /items:
    post:
      description: 'Adds one or more items to an Items dataset. For more information
        see <a href="https://docs.aws.amazon.com/personalize/latest/dg/importing-items.html">Importing
        Items Incrementally</a>. '
      operationId: PutItems
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutItems_request'
        required: true
      responses:
        "200":
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvalidInputException'
          description: InvalidInputException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundException'
          description: ResourceNotFoundException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceInUseException'
          description: ResourceInUseException
      x-content-type: application/json
      x-accepts:
      - application/json
  /users:
    post:
      description: Adds one or more users to a Users dataset. For more information
        see <a href="https://docs.aws.amazon.com/personalize/latest/dg/importing-users.html">Importing
        Users Incrementally</a>.
      operationId: PutUsers
      parameters:
      - explode: false
        in: header
        name: X-Amz-Content-Sha256
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Date
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Algorithm
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Credential
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Security-Token
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-Signature
        required: false
        schema:
          type: string
        style: simple
      - explode: false
        in: header
        name: X-Amz-SignedHeaders
        required: false
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutUsers_request'
        required: true
      responses:
        "200":
          description: Success
        "480":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InvalidInputException'
          description: InvalidInputException
        "481":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceNotFoundException'
          description: ResourceNotFoundException
        "482":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceInUseException'
          description: ResourceInUseException
      x-content-type: application/json
      x-accepts:
      - application/json
components:
  parameters:
    X-Amz-Content-Sha256:
      explode: false
      in: header
      name: X-Amz-Content-Sha256
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Date:
      explode: false
      in: header
      name: X-Amz-Date
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Algorithm:
      explode: false
      in: header
      name: X-Amz-Algorithm
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Credential:
      explode: false
      in: header
      name: X-Amz-Credential
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Security-Token:
      explode: false
      in: header
      name: X-Amz-Security-Token
      required: false
      schema:
        type: string
      style: simple
    X-Amz-Signature:
      explode: false
      in: header
      name: X-Amz-Signature
      required: false
      schema:
        type: string
      style: simple
    X-Amz-SignedHeaders:
      explode: false
      in: header
      name: X-Amz-SignedHeaders
      required: false
      schema:
        type: string
      style: simple
  schemas:
    Event:
      description: Represents user interaction event information sent using the <code>PutEvents</code>
        API.
      properties:
        eventId:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: "An ID associated with the event. If an event ID is not provided,\
              \ Amazon Personalize generates a unique ID for the event. An event ID\
              \ is not used as an input to the model. Amazon Personalize uses the\
              \ event ID to distinquish unique events. Any subsequent events after\
              \ the first with the same event ID are not used in model training."
        eventType:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: "The type of event, such as click or download. This property\
              \ corresponds to the <code>EVENT_TYPE</code> field of your Interactions\
              \ schema and depends on the types of events you are tracking."
        eventValue:
          allOf:
          - $ref: '#/components/schemas/FloatType'
          - description: The event value that corresponds to the <code>EVENT_VALUE</code>
              field of the Interactions schema.
        itemId:
          allOf:
          - $ref: '#/components/schemas/ItemId'
          - description: The item ID key that corresponds to the <code>ITEM_ID</code>
              field of the Interactions schema.
        properties:
          description: "<p>A string map of event-specific data that you might choose\
            \ to record. For example, if a user rates a movie on your site, other\
            \ than movie ID (<code>itemId</code>) and rating (<code>eventValue</code>)\
            \ , you might also send the number of movie ratings made by the user.</p>\
            \ <p>Each item in the map consists of a key-value pair. For example,</p>\
            \ <p> <code>{\"numberOfRatings\": \"12\"}</code> </p> <p>The keys use\
            \ camel case names that match the fields in the Interactions schema. In\
            \ the above example, the <code>numberOfRatings</code> would match the\
            \ 'NUMBER_OF_RATINGS' field defined in the Interactions schema.</p>"
        sentAt:
          allOf:
          - $ref: '#/components/schemas/Date'
          - description: The timestamp (in Unix time) on the client side when the
              event occurred.
        recommendationId:
          allOf:
          - $ref: '#/components/schemas/RecommendationId'
          - description: "<p>The ID of the list of recommendations that contains the\
              \ item the user interacted with. Provide a <code>recommendationId</code>\
              \ to have Amazon Personalize implicitly record the recommendations you\
              \ show your user as impressions data. Or provide a <code>recommendationId</code>\
              \ if you use a metric attribution to measure the impact of recommendations.\
              \ </p> <p> For more information on recording impressions data, see <a\
              \ href=\"https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html#putevents-including-impressions-data\"\
              >Recording impressions data</a>. For more information on creating a\
              \ metric attribution see <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/measuring-recommendation-impact.html\"\
              >Measuring impact of recommendations</a>. </p>"
        impression:
          allOf:
          - $ref: '#/components/schemas/Impression'
          - description: "A list of item IDs that represents the sequence of items\
              \ you have shown the user. For example, <code>[\"itemId1\", \"itemId2\"\
              , \"itemId3\"]</code>. Provide a list of items to manually record impressions\
              \ data for an event. For more information on recording impressions data,\
              \ see <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html#putevents-including-impressions-data\"\
              >Recording impressions data</a>. "
        metricAttribution:
          $ref: '#/components/schemas/Event_metricAttribution'
      required:
      - eventType
      - sentAt
      type: object
    InvalidInputException: {}
    Item:
      description: 'Represents item metadata added to an Items dataset using the <code>PutItems</code>
        API. For more information see <a href="https://docs.aws.amazon.com/personalize/latest/dg/importing-items.html">Importing
        Items Incrementally</a>. '
      properties:
        itemId:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: The ID associated with the item.
        properties:
          description: "<p>A string map of item-specific metadata. Each element in\
            \ the map consists of a key-value pair. For example, <code>{\"numberOfRatings\"\
            : \"12\"}</code>.</p> <p>The keys use camel case names that match the\
            \ fields in the schema for the Items dataset. In the previous example,\
            \ the <code>numberOfRatings</code> matches the 'NUMBER_OF_RATINGS' field\
            \ defined in the Items schema. For categorical string data, to include\
            \ multiple categories for a single item, separate each category with a\
            \ pipe separator (<code>|</code>). For example, <code>\\\"Horror|Action\\\
            \"</code>.</p>"
      required:
      - itemId
      type: object
    ResourceNotFoundException: {}
    ResourceInUseException: {}
    User:
      description: Represents user metadata added to a Users dataset using the <code>PutUsers</code>
        API. For more information see <a href="https://docs.aws.amazon.com/personalize/latest/dg/importing-users.html">Importing
        Users Incrementally</a>.
      properties:
        userId:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: The ID associated with the user.
        properties:
          description: "<p>A string map of user-specific metadata. Each element in\
            \ the map consists of a key-value pair. For example, <code>{\"numberOfVideosWatched\"\
            : \"45\"}</code>.</p> <p>The keys use camel case names that match the\
            \ fields in the schema for the Users dataset. In the previous example,\
            \ the <code>numberOfVideosWatched</code> matches the 'NUMBER_OF_VIDEOS_WATCHED'\
            \ field defined in the Users schema. For categorical string data, to include\
            \ multiple categories for a single user, separate each category with a\
            \ pipe separator (<code>|</code>). For example, <code>\\\"Member|Frequent\
            \ shopper\\\"</code>.</p>"
      required:
      - userId
      type: object
    Arn:
      maxLength: 256
      pattern: "arn:([a-z\\d-]+):personalize:.*:.*:.+"
      type: string
    Date:
      format: date-time
      type: string
    StringType:
      maxLength: 256
      minLength: 1
      type: string
    FloatType:
      format: float
      type: number
    ItemId:
      format: password
      maxLength: 256
      minLength: 1
      type: string
    RecommendationId:
      maxLength: 40
      minLength: 1
      type: string
    Impression:
      items:
        $ref: '#/components/schemas/ItemId'
      maxItems: 25
      minItems: 1
      type: array
    MetricAttribution:
      description: "Contains information about a metric attribution associated with\
        \ an event. For more information about metric attributions, see <a href=\"\
        https://docs.aws.amazon.com/personalize/latest/dg/measuring-recommendation-impact.html\"\
        >Measuring impact of recommendations</a>."
      properties:
        eventAttributionSource:
          allOf:
          - $ref: '#/components/schemas/EventAttributionSource'
          - description: "The source of the event, such as a third party."
      required:
      - eventAttributionSource
      type: object
    EventAttributionSource:
      maxLength: 1024
      pattern: "^[\\x20-\\x7E]*[\\x21-\\x7E]+[\\x20-\\x7E]*$"
      type: string
    EventList:
      items:
        $ref: '#/components/schemas/Event'
      maxItems: 10
      minItems: 1
      type: array
    EventPropertiesJSON:
      format: password
      maxLength: 1024
      minLength: 1
      type: string
    ItemList:
      items:
        $ref: '#/components/schemas/Item'
      maxItems: 10
      minItems: 1
      type: array
    ItemProperties:
      format: password
      maxLength: 24262
      minLength: 1
      type: string
    UserId:
      format: password
      maxLength: 256
      minLength: 1
      type: string
    PutEventsRequest:
      example:
        eventList: ""
        sessionId: ""
        userId: ""
        trackingId: ""
      properties:
        trackingId:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: The tracking ID for the event. The ID is generated by a call
              to the <a href="https://docs.aws.amazon.com/personalize/latest/dg/API_CreateEventTracker.html">CreateEventTracker</a>
              API.
        userId:
          allOf:
          - $ref: '#/components/schemas/UserId'
          - description: The user associated with the event.
        sessionId:
          allOf:
          - $ref: '#/components/schemas/StringType'
          - description: "The session ID associated with the user's visit. Your application\
              \ generates the sessionId when a user first visits your website or uses\
              \ your application. Amazon Personalize uses the sessionId to associate\
              \ events with the user before they log in. For more information, see\
              \ <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html\"\
              >Recording Events</a>."
        eventList:
          allOf:
          - $ref: '#/components/schemas/EventList'
          - description: A list of event data from the session.
      required:
      - eventList
      - sessionId
      - trackingId
      title: PutEventsRequest
      type: object
    PutItemsRequest:
      example:
        datasetArn: ""
        items: ""
      properties:
        datasetArn:
          allOf:
          - $ref: '#/components/schemas/Arn'
          - description: The Amazon Resource Name (ARN) of the Items dataset you are
              adding the item or items to.
        items:
          allOf:
          - $ref: '#/components/schemas/ItemList'
          - description: A list of item data.
      required:
      - datasetArn
      - items
      title: PutItemsRequest
      type: object
    UserList:
      items:
        $ref: '#/components/schemas/User'
      maxItems: 10
      minItems: 1
      type: array
    PutUsersRequest:
      example:
        datasetArn: ""
        users: ""
      properties:
        datasetArn:
          allOf:
          - $ref: '#/components/schemas/Arn'
          - description: The Amazon Resource Name (ARN) of the Users dataset you are
              adding the user or users to.
        users:
          allOf:
          - $ref: '#/components/schemas/UserList'
          - description: A list of user data.
      required:
      - datasetArn
      - users
      title: PutUsersRequest
      type: object
    UserProperties:
      format: password
      maxLength: 4096
      minLength: 1
      type: string
    PutEvents_request:
      properties:
        trackingId:
          description: The tracking ID for the event. The ID is generated by a call
            to the <a href="https://docs.aws.amazon.com/personalize/latest/dg/API_CreateEventTracker.html">CreateEventTracker</a>
            API.
          maxLength: 256
          minLength: 1
          type: string
        userId:
          description: The user associated with the event.
          format: password
          maxLength: 256
          minLength: 1
          type: string
        sessionId:
          description: "The session ID associated with the user's visit. Your application\
            \ generates the sessionId when a user first visits your website or uses\
            \ your application. Amazon Personalize uses the sessionId to associate\
            \ events with the user before they log in. For more information, see <a\
            \ href=\"https://docs.aws.amazon.com/personalize/latest/dg/recording-events.html\"\
            >Recording Events</a>."
          maxLength: 256
          minLength: 1
          type: string
        eventList:
          description: A list of event data from the session.
          items:
            $ref: '#/components/schemas/Event'
          maxItems: 10
          minItems: 1
          type: array
      required:
      - eventList
      - sessionId
      - trackingId
      type: object
    PutItems_request:
      properties:
        datasetArn:
          description: The Amazon Resource Name (ARN) of the Items dataset you are
            adding the item or items to.
          maxLength: 256
          pattern: "arn:([a-z\\d-]+):personalize:.*:.*:.+"
          type: string
        items:
          description: A list of item data.
          items:
            $ref: '#/components/schemas/Item'
          maxItems: 10
          minItems: 1
          type: array
      required:
      - datasetArn
      - items
      type: object
    PutUsers_request:
      properties:
        datasetArn:
          description: The Amazon Resource Name (ARN) of the Users dataset you are
            adding the user or users to.
          maxLength: 256
          pattern: "arn:([a-z\\d-]+):personalize:.*:.*:.+"
          type: string
        users:
          description: A list of user data.
          items:
            $ref: '#/components/schemas/User'
          maxItems: 10
          minItems: 1
          type: array
      required:
      - datasetArn
      - users
      type: object
    Event_metricAttribution:
      allOf:
      - $ref: '#/components/schemas/MetricAttribution'
      - description: "Contains information about the metric attribution associated\
          \ with an event. For more information about metric attributions, see <a\
          \ href=\"https://docs.aws.amazon.com/personalize/latest/dg/measuring-recommendation-impact.html\"\
          >Measuring impact of recommendations</a>."
  securitySchemes:
    hmac:
      description: Amazon Signature authorization v4
      in: header
      name: Authorization
      type: apiKey
      x-amazon-apigateway-authtype: awsSigv4

